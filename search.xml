<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å…³äºåœ¨vimä¸­çš„æŸ¥æ‰¾å’Œæ›¿æ¢</title>
      <link href="daf361161210.html"/>
      <url>daf361161210.html</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºåœ¨vimä¸­çš„æŸ¥æ‰¾å’Œæ›¿æ¢"><a href="#å…³äºåœ¨vimä¸­çš„æŸ¥æ‰¾å’Œæ›¿æ¢" class="headerlink" title="å…³äºåœ¨vimä¸­çš„æŸ¥æ‰¾å’Œæ›¿æ¢"></a>å…³äºåœ¨vimä¸­çš„æŸ¥æ‰¾å’Œæ›¿æ¢</h2><h4 id="1ï¼ŒæŸ¥æ‰¾"><a href="#1ï¼ŒæŸ¥æ‰¾" class="headerlink" title="1ï¼ŒæŸ¥æ‰¾"></a><strong>1ï¼ŒæŸ¥æ‰¾</strong></h4><p>åœ¨normalæ¨¡å¼ä¸‹æŒ‰ä¸‹<code>/</code>å³å¯è¿›å…¥æŸ¥æ‰¾æ¨¡å¼ï¼Œè¾“å…¥è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å¹¶æŒ‰ä¸‹å›è½¦ã€‚ Vimä¼šè·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚æŒ‰ä¸‹<code>n</code>æŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼ŒæŒ‰ä¸‹<code>N</code>æŸ¥æ‰¾ä¸Šä¸€ä¸ªã€‚</p><p>VimæŸ¥æ‰¾æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚<code>/vim$</code>åŒ¹é…è¡Œå°¾çš„<code>&quot;vim&quot;</code>ã€‚ éœ€è¦æŸ¥æ‰¾ç‰¹æ®Šå­—ç¬¦éœ€è¦è½¬ä¹‰ï¼Œä¾‹å¦‚<code>/vim$</code>åŒ¹é…<code>&quot;vim$&quot;</code>ã€‚</p><h4 id="2ï¼Œå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾"><a href="#2ï¼Œå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾" class="headerlink" title="2ï¼Œå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾"></a><strong>2ï¼Œå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾</strong></h4><p>åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸­åŠ å…¥<code>c</code>è¡¨ç¤ºå¤§å°å†™ä¸æ•æ„ŸæŸ¥æ‰¾ï¼Œ<code>C</code>è¡¨ç¤ºå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;fooc</span><br></pre></td></tr></table></figure><p>å°†ä¼šæŸ¥æ‰¾æ‰€æœ‰çš„<code>&quot;foo&quot;</code>,<code>&quot;FOO&quot;</code>,<code>&quot;Foo&quot;</code>ç­‰å­—ç¬¦ä¸²ã€‚</p><h4 id="3ï¼Œå¤§å°å†™æ•æ„Ÿé…ç½®"><a href="#3ï¼Œå¤§å°å†™æ•æ„Ÿé…ç½®" class="headerlink" title="3ï¼Œå¤§å°å†™æ•æ„Ÿé…ç½®"></a><strong>3ï¼Œå¤§å°å†™æ•æ„Ÿé…ç½®</strong></h4><p>Vim é»˜è®¤é‡‡ç”¨å¤§å°å†™æ•æ„Ÿçš„æŸ¥æ‰¾ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å¸¸å¸¸å°†å…¶é…ç½®ä¸ºå¤§å°å†™ä¸æ•æ„Ÿï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot; è®¾ç½®é»˜è®¤è¿›è¡Œå¤§å°å†™ä¸æ•æ„ŸæŸ¥æ‰¾</span><br><span class="line">set ignorecase</span><br><span class="line">&quot; å¦‚æœæœ‰ä¸€ä¸ªå¤§å†™å­—æ¯ï¼Œåˆ™åˆ‡æ¢åˆ°å¤§å°å†™æ•æ„ŸæŸ¥æ‰¾</span><br><span class="line">set smartcase </span><br></pre></td></tr></table></figure><blockquote><p>å°†ä¸Šè¿°è®¾ç½®ç²˜è´´åˆ°ä½ çš„<code>~/.vimrc</code>ï¼Œé‡æ–°æ‰“å¼€Vimå³å¯ç”Ÿæ•ˆ</p></blockquote><h4 id="4ï¼ŒæŸ¥æ‰¾å½“å‰å•è¯"><a href="#4ï¼ŒæŸ¥æ‰¾å½“å‰å•è¯" class="headerlink" title="4ï¼ŒæŸ¥æ‰¾å½“å‰å•è¯"></a><strong>4ï¼ŒæŸ¥æ‰¾å½“å‰å•è¯</strong></h4><p>åœ¨normalæ¨¡å¼ä¸‹æŒ‰ä¸‹<code>*</code>å³å¯æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨å•è¯ï¼ˆwordï¼‰ï¼Œ è¦æ±‚æ¯æ¬¡å‡ºç°çš„å‰åä¸ºç©ºç™½å­—ç¬¦æˆ–æ ‡ç‚¹ç¬¦å·ã€‚ä¾‹å¦‚å½“å‰ä¸º<code>foo</code>ï¼Œ å¯ä»¥åŒ¹é…<code>foo bar</code>ä¸­çš„<code>foo</code>ï¼Œä½†ä¸å¯åŒ¹é…<code>foobar</code>ä¸­çš„<code>foo</code>ã€‚ è¿™åœ¨æŸ¥æ‰¾å‡½æ•°åã€å˜é‡åæ—¶éå¸¸æœ‰ç”¨ã€‚</p><p>æŒ‰ä¸‹<code>g*</code>å³å¯æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨å•è¯çš„å­—ç¬¦åºåˆ—ï¼Œæ¯æ¬¡å‡ºç°å‰åå­—ç¬¦æ— è¦æ±‚ã€‚ å³<code>foo bar</code>å’Œ<code>foobar</code>ä¸­çš„<code>foo</code>å‡å¯è¢«åŒ¹é…åˆ°ã€‚</p><h4 id="5ï¼ŒæŸ¥æ‰¾ä¸æ›¿æ¢"><a href="#5ï¼ŒæŸ¥æ‰¾ä¸æ›¿æ¢" class="headerlink" title="5ï¼ŒæŸ¥æ‰¾ä¸æ›¿æ¢"></a><strong>5ï¼ŒæŸ¥æ‰¾ä¸æ›¿æ¢</strong></h4><p><code>:s</code>ï¼ˆsubstituteï¼‰å‘½ä»¤ç”¨æ¥æŸ¥æ‰¾å’Œæ›¿æ¢å­—ç¬¦ä¸²ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:&#123;ä½œç”¨èŒƒå›´&#125;s&#x2F;&#123;ç›®æ ‡&#125;&#x2F;&#123;æ›¿æ¢&#125;&#x2F;&#123;æ›¿æ¢æ ‡å¿—&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚<code>:%s/foo/bar/g</code>ä¼šåœ¨å…¨å±€èŒƒå›´(<code>%</code>)æŸ¥æ‰¾<code>foo</code>å¹¶æ›¿æ¢ä¸º<code>bar</code>ï¼Œæ‰€æœ‰å‡ºç°éƒ½ä¼šè¢«æ›¿æ¢ï¼ˆ<code>g</code>ï¼‰</p><h4 id="6ï¼Œä½œç”¨èŒƒå›´"><a href="#6ï¼Œä½œç”¨èŒƒå›´" class="headerlink" title="6ï¼Œä½œç”¨èŒƒå›´"></a><strong>6ï¼Œä½œç”¨èŒƒå›´</strong></h4><p>ä½œç”¨èŒƒå›´åˆ†ä¸ºå½“å‰è¡Œã€å…¨æ–‡ã€é€‰åŒºç­‰ç­‰ã€‚</p><p>å½“å‰è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:s&#x2F;foo&#x2F;bar&#x2F;g</span><br></pre></td></tr></table></figure><p>å…¨æ–‡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s&#x2F;foo&#x2F;bar&#x2F;g</span><br></pre></td></tr></table></figure><p>é€‰åŒºï¼Œåœ¨Visualæ¨¡å¼ä¸‹é€‰æ‹©åŒºåŸŸåè¾“å…¥<code>:</code>ï¼ŒVimå³å¯è‡ªåŠ¨è¡¥å…¨ä¸º <code>:&#39;&lt;,&#39;&gt;</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:&#39;&lt;,&#39;&gt;s&#x2F;foo&#x2F;bar&#x2F;g</span><br></pre></td></tr></table></figure><p>2-11è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:5,12s&#x2F;foo&#x2F;bar&#x2F;g</span><br></pre></td></tr></table></figure><p>å½“å‰è¡Œ<code>.</code>ä¸æ¥ä¸‹æ¥ä¸¤è¡Œ<code>+2</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:.,+2s&#x2F;foo&#x2F;bar&#x2F;g</span><br></pre></td></tr></table></figure><h2 id="æ›¿æ¢æ ‡å¿—"><a href="#æ›¿æ¢æ ‡å¿—" class="headerlink" title="æ›¿æ¢æ ‡å¿—"></a>æ›¿æ¢æ ‡å¿—</h2><p>ä¸Šæ–‡ä¸­å‘½ä»¤ç»“å°¾çš„<code>g</code>å³æ˜¯æ›¿æ¢æ ‡å¿—ä¹‹ä¸€ï¼Œè¡¨ç¤ºå…¨å±€<code>global</code>æ›¿æ¢ï¼ˆå³æ›¿æ¢ç›®æ ‡çš„æ‰€æœ‰å‡ºç°ï¼‰ã€‚ è¿˜æœ‰å¾ˆå¤šå…¶ä»–æœ‰ç”¨çš„æ›¿æ¢æ ‡å¿—ï¼š</p><p>ç©ºæ›¿æ¢æ ‡å¿—è¡¨ç¤ºåªæ›¿æ¢ä»å…‰æ ‡ä½ç½®å¼€å§‹ï¼Œç›®æ ‡çš„ç¬¬ä¸€æ¬¡å‡ºç°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s&#x2F;foo&#x2F;bar</span><br></pre></td></tr></table></figure><p><code>i</code>è¡¨ç¤ºå¤§å°å†™ä¸æ•æ„ŸæŸ¥æ‰¾ï¼Œ<code>I</code>è¡¨ç¤ºå¤§å°å†™æ•æ„Ÿï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:%s&#x2F;foo&#x2F;bar&#x2F;i</span><br><span class="line"># ç­‰æ•ˆäºæ¨¡å¼ä¸­çš„cï¼ˆä¸æ•æ„Ÿï¼‰æˆ–Cï¼ˆæ•æ„Ÿï¼‰</span><br><span class="line">:%s&#x2F;fooc&#x2F;bar</span><br></pre></td></tr></table></figure><p><code>c</code>è¡¨ç¤ºéœ€è¦ç¡®è®¤ï¼Œä¾‹å¦‚å…¨å±€æŸ¥æ‰¾<code>&quot;foo&quot;</code>æ›¿æ¢ä¸º<code>&quot;bar&quot;</code>å¹¶ä¸”éœ€è¦ç¡®è®¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s&#x2F;foo&#x2F;bar&#x2F;gc</span><br></pre></td></tr></table></figure><p>å›è½¦åVimä¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°æ¯ä¸€æ¬¡<code>&quot;foo&quot;</code>å‡ºç°çš„ä½ç½®ï¼Œå¹¶æç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replace with bar (y&#x2F;n&#x2F;a&#x2F;q&#x2F;l&#x2F;^E&#x2F;^Y)?</span><br></pre></td></tr></table></figure><p>æŒ‰ä¸‹<code>y</code>è¡¨ç¤ºæ›¿æ¢ï¼Œ<code>n</code>è¡¨ç¤ºä¸æ›¿æ¢ï¼Œ<code>a</code>è¡¨ç¤ºæ›¿æ¢æ‰€æœ‰ï¼Œ<code>q</code>è¡¨ç¤ºé€€å‡ºæŸ¥æ‰¾æ¨¡å¼ï¼Œ <code>l</code>è¡¨ç¤ºæ›¿æ¢å½“å‰ä½ç½®å¹¶é€€å‡ºã€‚<code>^E</code>ä¸<code>^Y</code>æ˜¯å…‰æ ‡ç§»åŠ¨å¿«æ·é”®ï¼Œå‚è€ƒï¼š <a href="http://harttle.com/2015/11/07/vim-cursor.html">Vimä¸­å¦‚ä½•å¿«é€Ÿè¿›è¡Œå…‰æ ‡ç§»</a></p><h2 id="å¤§å°å†™æ•æ„ŸæŸ¥æ‰¾"><a href="#å¤§å°å†™æ•æ„ŸæŸ¥æ‰¾" class="headerlink" title="å¤§å°å†™æ•æ„ŸæŸ¥æ‰¾"></a>å¤§å°å†™æ•æ„ŸæŸ¥æ‰¾</h2><p>åœ¨æŸ¥æ‰¾æ¨¡å¼ä¸­åŠ å…¥<code>c</code>è¡¨ç¤ºå¤§å°å†™ä¸æ•æ„ŸæŸ¥æ‰¾ï¼Œ<code>C</code>è¡¨ç¤ºå¤§å°å†™æ•æ„ŸæŸ¥æ‰¾ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;fooc</span><br></pre></td></tr></table></figure><p>å°†ä¼šæŸ¥æ‰¾æ‰€æœ‰çš„<code>&quot;foo&quot;</code>,<code>&quot;FOO&quot;</code>,<code>&quot;Foo&quot;</code>ç­‰å­—ç¬¦ä¸²ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå¼€å¯Swapåˆ†åŒº</title>
      <link href="b45eb2943e16.html"/>
      <url>b45eb2943e16.html</url>
      
        <content type="html"><![CDATA[<h2 id="Linuxå¼€å¯Swapåˆ†åŒº"><a href="#Linuxå¼€å¯Swapåˆ†åŒº" class="headerlink" title="Linuxå¼€å¯Swapåˆ†åŒº"></a>Linuxå¼€å¯Swapåˆ†åŒº</h2><p>åœºæ™¯: åä¸ºäº‘è´­ä¹°çš„æœºå™¨ï¼Œé»˜è®¤ä¸ä¼šå¼€å¯<code>swap</code>åˆ†åŒºï¼ŒæœåŠ¡å™¨è¿è¡Œå†…å­˜åªæœ‰<code>4GB</code>ï¼Œä¸æ»¡è¶³ä½¿ç”¨ï¼Œå¼€å¯<code>swap</code>äº¤æ¢åˆ†åŒº</p><h3 id="å¼€å¯æ­¥éª¤"><a href="#å¼€å¯æ­¥éª¤" class="headerlink" title="å¼€å¯æ­¥éª¤"></a>å¼€å¯æ­¥éª¤</h3><p>1ã€<strong>å¼€å¯<code>swap</code>åˆ†åŒº</strong><br>æ–°å»ºä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶ç”¨äº<code>swap</code>åˆ†åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if=/dev/zero of=/data/swap bs=1024 count=400000</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šæ­¤æ–‡ä»¶çš„å¤§å°æ˜¯<code>count</code>çš„å¤§å°ä¹˜ä»¥<code>bs</code>å¤§å°ï¼Œä¸Šé¢å‘½ä»¤çš„å¤§å°æ˜¯<code>4GB</code><br>2ã€<strong>é€šè¿‡<code>mkswap</code>å‘½ä»¤å°†ä¸Šé¢æ–°å»ºå‡ºçš„æ–‡ä»¶åšæˆ<code>swap</code>åˆ†åŒº</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkswap /data/swap</span><br></pre></td></tr></table></figure><p>3ã€<strong>æŸ¥çœ‹å†…æ ¸å‚æ•°<code>vm.swappiness</code></strong><br>è‹¥<code>vm.swappiness</code>ä¸º<code>0</code>åˆ™æ ¹æ®å®é™…éœ€è¦è°ƒæ•´æˆ<code>30</code>æˆ–è€…<code>60</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/sys/vm/swappiness   </span><br><span class="line">sysctl -a | grep swappiness    </span><br><span class="line">sysctl -w vm.swappiness=60</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šè‹¥æƒ³æ°¸ä¹…ä¿®æ”¹ï¼Œåˆ™ç¼–è¾‘<code>/etc/sysctl.conf</code>æ–‡ä»¶</p><p>4ã€<strong>å¯ç”¨æ­¤äº¤æ¢åˆ†åŒºçš„äº¤æ¢åŠŸèƒ½</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swapon /data/swap   </span><br><span class="line">echo &quot;/data/swap swap swap defaults    0  0&quot; &gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰å¯èƒ½ä¼šæœ‰æŠ¥é”™ï¼Œå¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@peiyanbing /]# swapon /data/swap </span><br><span class="line">swapon: /data/swapï¼šä¸å®‰å…¨çš„æƒé™ 0644ï¼Œå»ºè®®ä½¿ç”¨ 0600ã€‚</span><br><span class="line">swapon: /data/swapï¼šswapon å¤±è´¥: è®¾å¤‡æˆ–èµ„æºå¿™</span><br><span class="line">[root@peiyanbing /]# chmod 0600 /data/swap </span><br><span class="line">[root@peiyanbing /]# swapon /data/swap </span><br><span class="line">swapon: /data/swapï¼šswapon å¤±è´¥: è®¾å¤‡æˆ–èµ„æºå¿™</span><br><span class="line">[root@peiyanbing /]# swapon /data/swap </span><br><span class="line">swapon: /data/swapï¼šswapon å¤±è´¥: è®¾å¤‡æˆ–èµ„æºå¿™</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•ï¼š<br><strong>å°è¯•æ¿€æ´» <code>Swap</code> æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@peiyanbing /]# swapoff /data/swap</span><br><span class="line">[root@peiyanbing /]# swapon /data/swap</span><br><span class="line">[root@peiyanbing /]#</span><br></pre></td></tr></table></figure><p>5ã€<strong>å…³é—­<code>swap</code>åˆ†åŒº</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swapoff /data/swap   </span><br><span class="line">swapoff -a &gt;/dev/null</span><br></pre></td></tr></table></figure><p>6ã€<strong>é‡æ–°æ¿€æ´»<code>swap</code>åˆ†åŒºï¼Œæ²¡æœ‰å†™å…¥ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿé‡å¯åï¼Œå°±éœ€è¦é‡æ–°æ¿€æ´»</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[bing@peiyanbing ~]$ sudo swapon /swap/swapfile</span><br><span class="line">[bing@peiyanbing ~]$ free -h</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           3.7G        2.5G        130M         88M        1.1G        928M</span><br><span class="line">Swap:          8.0G          0B        8.0G</span><br><span class="line">[bing@peiyanbing ~]$ </span><br></pre></td></tr></table></figure><p>7ã€<strong>å¦‚æœéœ€è¦ä¸€ç›´ä¿æŒè¿™ä¸ª <code>swap</code> ï¼Œå¯ä»¥æŠŠå®ƒå†™å…¥ <code>/etc/fstab</code> æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/fstab</span><br><span class="line"><span class="meta">#</span><span class="bash">å¢åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š</span></span><br><span class="line">(add swap space on /swap/swapfile)</span><br><span class="line">  /swap/swapfile                          /swap           swap    defaults        0       0</span><br></pre></td></tr></table></figure><p>8ã€<strong>å…³æœºé‡å¯ç¡®è®¤<code>Swap</code>å¤§å°</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free -m</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>butterflyä¸»é¢˜ä¼˜é›…é­”æ”¹ç³»åˆ—</title>
      <link href="8a53386903ec.html"/>
      <url>8a53386903ec.html</url>
      
        <content type="html"><![CDATA[<p>ä¸ºäº†ä¾¿äºå„ä½åšä¸»äº†è§£åˆ°æ˜¯å¦æ–°å¢äº†é­”æ”¹æ–¹æ¡ˆï¼Œè¯·æŸ¥çœ‹<a href="https://share.mubu.com/doc/765JBkIK8_V">æ›´æ–°è®°å½•é¡µ</a></p><h2 id="å‰ç½®è¯´æ˜"><a href="#å‰ç½®è¯´æ˜" class="headerlink" title="å‰ç½®è¯´æ˜"></a>å‰ç½®è¯´æ˜</h2><p>é­”æ”¹äº®ç‚¹</p><p>ğŸ†™ä¸»é¢˜å¯å‡çº§ï¼šå‡ ä¹ä¸æ”¹åŠ¨ä¸»é¢˜<a href="https://so.csdn.net/so/search?q=%E6%BA%90%E7%A0%81&spm=1001.2101.3001.7020">æºç </a>ã€‚å³ä¾¿é­”æ”¹ï¼Œä¹Ÿä¸éœ€è¦ä¸ºå‡çº§ä¸»é¢˜è€Œçƒ¦æ¼ã€‚</p><p>ğŸ³ç®€å•å¿«é€Ÿï¼šç®€å•ä¸Šæ‰‹ï¼Œå¿«é€Ÿä¿®æ”¹ã€‚</p><p>ğŸ­çœ‹æˆ‘72å˜ï¼šå¤šç§èƒŒæ™¯éšæ„æ›´æ¢ã€‚</p><p>ğŸ“•ä¼˜é›…é˜…è¯»ï¼šå¯¹å¡ç‰‡è¿›è¡Œä¸åŒçš„é€æ˜åº¦è®¾ç½®ï¼Œå®ç°æ›´ä¼˜é›…çš„é˜…è¯»ã€‚</p><p>ğŸ‘¦ä¸ªæ€§å‹è”ï¼šä¸ºä½ çš„å¥½å‹è®¾ç½®ä¸åŒçš„é¢œè‰²</p><p>ğŸˆé¡µè„šæ›´ç‚«é…·ï¼šå½©è‰²æ¸å˜footerå–œæ¬¢ä¹ˆï¼Ÿ</p><p>ğŸŸæ›´å¤šä¼˜ç‚¹ç­‰ä½ å‘ç°</p><p>ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« ?</p><p>ç›¸ä¿¡åœ¨è¿™ä¹‹å‰ï¼Œå¤§å®¶è‚¯å®šçœ‹è¿‡ç½‘ä¸Šçš„å„ç§é­”æ”¹æ•™ç¨‹ã€‚ä½†æ˜¯è¿™äº›é­”æ”¹æ•™ç¨‹åŸºæœ¬ä¸Šåƒç¯‡ä¸€å¾‹ï¼Œéƒ½æ˜¯ä¸€ç§æ–¹å¼ï¼Œå¤§é‡ä¿®æ”¹æ¨¡æ¿ï¼ˆä¸»é¢˜æºæ–‡ä»¶ï¼‰ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„å°±æ˜¯ç®€å•å¿«é€Ÿä¸”ç›´æ¥ï¼Œç¼ºç‚¹å°±æ˜¯æ¯æ¬¡å‡çº§ğŸ˜ï¼Œä¸ç”¨æˆ‘è¯´äº†å§ã€‚é™¤éä½ ä¸æ‰“ç®—åœ¨å‡çº§ã€‚</p><p>ä½†æ˜¯å¯¹äºä¸€ä¸ªçƒ­çˆ±å‡çº§çš„æˆ‘æ¥è¯´ï¼Œæˆ‘æ€ä¹ˆå¯ä»¥è¿™æ ·ã€‚äºæ˜¯ä¹æˆ‘ä¾¿å†™äº†è¿™ç¯‡æ–‡ç« ã€‚æŒ‰ç…§æ­¤æ•™ç¨‹è¿›è¡Œçš„é­”æ”¹ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯é€šè¿‡å¼•å…¥æ–°çš„jsæ–‡ä»¶å’Œcssæ–‡ä»¶å®ç°çš„ã€‚è¿™æ„å‘³ç€å†ä¹Ÿä¸ç”¨å› ä¸ºå‡çº§è€Œå†æ¬¡é­”æ”¹è€Œè‹¦æ¼äº†ğŸ˜„ã€‚åŒæ ·çš„ç¼ºç‚¹ä¹Ÿè¿˜æ˜¯æœ‰çš„ï¼Œå¼•å…¥æ–°æ–‡ä»¶å¿…å®šå¯¼è‡´é¡µé¢åŠ è½½é€Ÿåº¦ä¸‹é™ï¼Œä¸‹é™å¤šå°‘å–å†³äºè®¿å®¢ç½‘é€Ÿã€ç”µè„‘é…ç½®åŠæœåŠ¡å™¨çš„å¸¦å®½ã€‚å…·ä½“é€Ÿåº¦å¯ä»¥å‚è€ƒæœ¬åšå®¢ã€‚</p><p>æ­¤åšå®¢ç¯å¢ƒï¼šCoding + Jsdeliver</p><blockquote><p>è¿™ç¯‡æ–‡ç« å¤§éƒ¨åˆ†ä¿®æ”¹å…¨éƒ¨æ²¡æœ‰æ”¹åŠ¨pugæ¨¡æ¿ã€‚åŸºæœ¬éƒ½æ˜¯æ·»åŠ cssæ–‡ä»¶å’Œjsæ–‡ä»¶å®ç°çš„ä¿®æ”¹ã€‚</p><p>è‡³æ­¤ï¼ˆ2020-06-12ï¼‰åªæœ‰ä¸¤é¡¹ï¼ˆå‹é“¾é¡µã€åŒè¯„è®ºï¼‰ä¿®æ”¹æ”¹åŠ¨äº†pugæ¨¡æ¿ã€‚</p><p>è‡³äºå‹é“¾é¡µ ï¼Œå¯æ”¹åŠ¨ç©ºé—´å¹¶ä¸å¤§ï¼Œå› æ­¤å‡çº§ä¸»é¢˜åªéœ€è¦ç›´æ¥å°†æ–‡ä»¶è¦†ç›–ä½œè€…æ–‡ä»¶å³å¯ã€‚</p><p>è€ŒåŒè¯„è®ºï¼Œåªéœ€è¦æ¯æ¬¡å‡çº§ä¸»é¢˜å°†å¯¹åº”æ–‡ä»¶çš„<code>else if</code>æ”¹ä¸º<code>if</code>å³å¯ã€‚</p><p>ç›¸ä¿¡ä¸Šè¿°ä¸¤é¡¹pugæ¨¡æ¿çš„ä¿®æ”¹ä¸éœ€è¦åˆ»æ„è®°å½•ä¹Ÿèƒ½å°åœ¨å¿ƒå¤´æŠŠï¼Ÿ</p></blockquote><h2 id="å¿«é€Ÿé¢„è§ˆé­”æ”¹èŒƒå›´"><a href="#å¿«é€Ÿé¢„è§ˆé­”æ”¹èŒƒå›´" class="headerlink" title="å¿«é€Ÿé¢„è§ˆé­”æ”¹èŒƒå›´"></a>å¿«é€Ÿé¢„è§ˆé­”æ”¹èŒƒå›´</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hZTAxLmFsaWNkbi5jb20va2YvVTcwYTk3ZDIxMWU4MTQxZWM4YjJmOTI4YzQyMzk0NmQ1Zy5qcGc?x-oss-process=image/format,png"></p><h2 id="JS-CSSå¦‚ä½•ä½¿ç”¨"><a href="#JS-CSSå¦‚ä½•ä½¿ç”¨" class="headerlink" title="JS/CSSå¦‚ä½•ä½¿ç”¨"></a>JS/CSSå¦‚ä½•ä½¿ç”¨</h2><p>ä¸‹é¢å…³äºå„ç§ä¿®æ”¹æˆ‘ä¼šç›´æ¥ç»™å‡ºå‚è€ƒä»£ç ï¼Œä½ å¯ä»¥æ¯åšä¸€ä¸ªä¿®æ”¹éƒ½å»ºç«‹ä¸€ä¸ªæ–°çš„css/jsæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å°†æ‰€æœ‰çš„ä»£ç éƒ½å¤åˆ¶åˆ°ä¸€ä¸ªcss/jsæ–‡ä»¶ã€‚</p><h2 id="JS-CSSå¦‚ä½•å¼•ç”¨"><a href="#JS-CSSå¦‚ä½•å¼•ç”¨" class="headerlink" title="JS/CSSå¦‚ä½•å¼•ç”¨"></a>JS/CSSå¦‚ä½•å¼•ç”¨</h2><p>æ­¤ç¯‡æ–‡ç« æ‰€è¯´çš„ä¸€åˆ‡å¼•ç”¨ï¼ˆåŒ…æ‹¬csså’Œjsï¼‰éƒ½å¯ä»¥å‚è€ƒè¿™é‡Œã€‚</p><ol><li>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆbutterfly.ymlï¼‰</li><li>å®šä½æœç´¢ inject</li><li>å…¶ä¸­headæ˜¯ç”¨æ¥å¼•å…¥cssçš„ã€‚bottomæ˜¯ç”¨æ¥å¼•å…¥jsçš„ã€‚</li></ol><p>ç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/flink.min.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/hideMobileSidebar.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šä»¥ä¸Šæ–¹å¼2.3.5ç‰ˆæœ¬å¯ç”¨ï¼Œå…¶ä»–ç‰ˆæœ¬è¯·è‡ªè¡ŒæŸ¥æ‰¾å¼•å…¥è‡ªå®šä¹‰jsåŠcssçš„åœ°æ–¹ã€‚</strong></p><h3 id="å¼•ç”¨æ–¹å¼è¯´æ˜"><a href="#å¼•ç”¨æ–¹å¼è¯´æ˜" class="headerlink" title="å¼•ç”¨æ–¹å¼è¯´æ˜"></a>å¼•ç”¨æ–¹å¼è¯´æ˜</h3><p>å¼•ç”¨æ–¹å¼äºŒé€‰ä¸€å³å¯ã€‚</p><h3 id="ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥"><a href="#ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥" class="headerlink" title="ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥"></a>ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥</h3><ol><li><p>å°†å†™å¥½çš„cssæ–‡ä»¶ç§»åŠ¨åˆ°<code>\Butterfly\source\css\</code>ç›®å½•ä¸‹ã€‚</p><p> <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzAyL2I3ZGYxOGNjZDQzNGViZTQyMTJhMmZmMGY4MGE5MGI5LnBuZw?x-oss-process=image/format,png"></p></li><li><p>ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶çš„å¼•å…¥æ–¹å¼</p><p> <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzEwLzBkODY4NGM4NDZiNDU4NDVlODQwODljNGQ0MWViMDQyLnBuZw?x-oss-process=image/format,png"></p></li></ol><h3 id="ä»¥å¤–é“¾çš„æ–¹å¼å¼•å…¥"><a href="#ä»¥å¤–é“¾çš„æ–¹å¼å¼•å…¥" class="headerlink" title="ä»¥å¤–é“¾çš„æ–¹å¼å¼•å…¥"></a>ä»¥å¤–é“¾çš„æ–¹å¼å¼•å…¥</h3><p>åŒæ ·çš„å¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°cdnï¼Œå¦‚ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ã€GitHub+Jsdeliverç­‰ã€‚</p><p>åªéœ€è¦å°†å¼•å…¥åœ°å€å†™ä¸ºä½ çš„æ–‡ä»¶å¤–é“¾åœ°å€å³å¯ã€‚</p><p>ä¾‹å¦‚æˆ‘çš„jsdé“¾æ¥<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzAyL2I5YjhlOTBmYjhkMTdlMDk1ZDBmMjI1MWYxZWI1NGI0LnBuZw?x-oss-process=image/format,png"></p><p>æ³¨ï¼šä¸åŒç‰ˆæœ¬å¯èƒ½è®¾ç½®ç•¥æœ‰ä¸åŒï¼Œè¯·ä»”ç»†å¯¹ç…§ä½ æ‰€ä½¿ç”¨ç‰ˆæœ¬çš„æ–‡æ¡£ã€‚å¼•å…¥å¹¶éå†™ä¸ªè¿æ¥ï¼Œè€Œæ˜¯ä½¿ç”¨htmlæ ‡ç­¾å¼•å…¥ã€‚</p><h2 id="å¿«é€Ÿâ€œå¤åˆ¶â€"><a href="#å¿«é€Ÿâ€œå¤åˆ¶â€" class="headerlink" title="å¿«é€Ÿâ€œå¤åˆ¶â€"></a>å¿«é€Ÿâ€œå¤åˆ¶â€</h2><p>ä¸æƒ³åŠ¨æ‰‹ï¼Œå°±æƒ³å¾—åˆ°é­”æ”¹åçš„æ•ˆæœã€‚ğŸ˜å¯ä»¥ç›´æ¥ä½¿ç”¨ä½œè€…è‡ªç”¨çš„cssã€‚</p><blockquote><p>ç›´æ¥ä½¿ç”¨ä½œè€…è‡ªç”¨çš„csså¯èƒ½ä¼šå¯¼è‡´è‡ªå·±çš„å¸ƒå±€å‡ºç°é”™è¯¯æ’ç‰ˆï¼Œæˆ–è€…å…¶ä»–å„ç§é—®é¢˜ã€‚æ— æ³•è§£å†³ï¼æˆ–è€…è‡ªè¡Œè§£å†³ã€‚ï¼ˆé™¤éè‡ªå·±æ‡‚å‰ç«¯ã€‚ï¼‰</p></blockquote><p>css</p><ol><li><p>è‡ªå®šä¹‰css</p><p> <code>https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/pool.min.css</code></p></li><li><p>é˜¿é‡Œiconfont</p><p> <code>https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/iconfont.min.css</code></p></li></ol><p>js</p><ol><li><p>è‡ªå®šä¹‰js</p><p> <code>https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/js/pool.min.js</code></p></li></ol><p>ä»¥ä¸Šä¸‰ä¸ªé“¾æ¥<strong>å¼•ç”¨å</strong>ç†è®ºä¸Šä¼šä¸æˆ‘çš„åšå®¢æ•ˆæœä¸€æ¨¡ä¸€æ ·ï¼ˆä¸åŒ…å«å‹é“¾ã€åŒè¯„è®ºï¼‰ã€‚å…¶ä¸­ï¼š</p><ul><li><p>å‹æƒ…é“¾æ¥é¡µé¢</p><p>  æ›¿æ¢æ¨¡æ¿å³å¯ï¼Œæ— éœ€åœ¨æ·»åŠ cssï¼ˆå¼•ç”¨ä»¥ä¸Šä¸‰ä¸ªé“¾æ¥çš„æƒ…å†µä¸‹ï¼‰</p></li><li><p>åŒè¯„è®º</p><p>  ä¿®æ”¹æ¨¡æ¿ï¼Œæ— éœ€æ·»åŠ cssï¼ˆå¼•ç”¨ä»¥ä¸Šä¸‰ä¸ªé“¾æ¥çš„æƒ…å†µä¸‹ï¼‰</p></li></ul><h2 id="å°åº·çš„è´è¶é­”æ”¹åº“"><a href="#å°åº·çš„è´è¶é­”æ”¹åº“" class="headerlink" title="å°åº·çš„è´è¶é­”æ”¹åº“"></a>å°åº·çš„è´è¶é­”æ”¹åº“</h2><p>è¿™ä¸ªå·¥å…·åº“ä¸»è¦ä¸ºäº†æ–¹ä¾¿ä¿®æ”¹jséƒ¨åˆ†è€Œç¼–å†™çš„åº“ï¼Œä»¥åå¯èƒ½ä¼šæ‰©å……ä¹Ÿå¯èƒ½æ˜¯æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚</p><p>å…·ä½“ä½¿ç”¨ä¸æ–‡æ¡£å‚ç…§ï¼š<a href="https://www.tzki.cn/xkTool/index.html">xkToolå·¥å…·åº“æ–‡æ¡£</a></p><blockquote><p>ä½¿ç”¨æ­¤åº“åæ­¤é¡µé¢æ‰€æœ‰æœ‰å…³jséƒ¨åˆ†çš„ä»£ç (cssä»£ç å‚ç…§æ­¤æ–‡æ¡£)å‡å¯å‚ç…§æ–‡æ¡£ä½¿ç”¨å¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼Œè€Œæ— éœ€å¤åˆ¶ç²˜è´´å†—é•¿çš„ä»£ç ã€‚ä¾‹å¦‚ï¼š</p><ul><li>éšæœºèƒŒæ™¯</li><li>ç®€å•æ’å…¥é˜¿é‡Œsvg</li><li>bannerå›¾æ»¤é•œæ•ˆæœã€é€æ˜</li><li>ã€‚ã€‚ã€‚</li></ul></blockquote><h2 id="è§†è§‰ä½“éªŒ"><a href="#è§†è§‰ä½“éªŒ" class="headerlink" title="è§†è§‰ä½“éªŒ"></a>è§†è§‰ä½“éªŒ</h2><p>è¿™éƒ¨åˆ†ä¿®æ”¹ä¸»è¦æ˜¯é’ˆå¯¹è¿›å…¥åšå®¢åçš„ç›´è§‚æ„Ÿå—ã€‚</p><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ä¸æœ¬åšå®¢åŒæ¬¾èƒŒæ™¯ã€‚å¼€å¯éœ€å…³é—­èƒŒæ™¯å›¾ç‰‡è®¾ç½®ï¼Œå¯èƒ½ä¹Ÿéœ€è¦å…³é—­jsåŠ¨æ€èƒŒæ™¯ã€‚å…·ä½“è¯·è‡ªå·±å°è¯•ï¼Œæœ¬äººæ²¡æœ‰å°è¯•è¿‡ã€‚ï¼ˆ_ä¸»é¢˜çš„backgroundè¯·è®¾ç½®<code>&#39;#efefef&#39;</code>_ï¼‰</p><p><strong>èƒŒæ™¯å¯å‚ç…§<a href="https://www.antmoe.com/posts/7198453/index.html">Hexoåšå®¢ä¹‹butterflyä¸»é¢˜ä¼˜åŒ–æ›´æ¢èƒŒæ™¯</a>è¿™ç¯‡æ–‡ç« è¿›è¡Œé­”æ”¹</strong></p><h3 id="å»æ‰Bannerå›¾"><a href="#å»æ‰Bannerå›¾" class="headerlink" title="å»æ‰Bannerå›¾"></a>å»æ‰Bannerå›¾</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE2LzI3YmUwZmZjOGQ3YzU1OTU0NGQxN2U1NDc3YTQ1OGY2LnBuZw?x-oss-process=image/format,png"></p><p>é€šè¿‡å‡ è¡ŒJSå³å¯æå®šï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> full_page = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;full_page&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (full_page.length != <span class="number">0</span>) &#123;</span><br><span class="line">  full_page[<span class="number">0</span>].style.background = <span class="string">&quot;transparent&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>2020-05-17</p><p>  F ä¿®å¤è¿åŒæ–‡ç« é¡µä¹Ÿå˜é€æ˜çš„bug</p></li></ul><h3 id="é¼ æ ‡æ ·å¼"><a href="#é¼ æ ‡æ ·å¼" class="headerlink" title="é¼ æ ‡æ ·å¼"></a>é¼ æ ‡æ ·å¼</h3><p>å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ æ‰€åˆ›å»ºçš„cssæ–‡ä»¶å³å¯ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç è§£è¯»ï¼šä»¥ä¸Šä»£ç è¡¨ç¤ºå½“é¼ æ ‡åœ¨<code>body</code>å…ƒç´ åŠ<code>a</code>ã€<code>img</code>å…ƒç´ ä¸Šæ—¶æ‰€æ˜¾ç¤ºçš„é¼ æ ‡ä¸ºurlè·¯å¾„é‡Œçš„æ ·å¼ã€‚</p><p>å› æ­¤ä½ å¯ä»¥å°†é‡Œè¾¹çš„æ–‡ä»¶æ›¿æ¢ä¸ºä»»æ„é¼ æ ‡æ ·å¼ã€‚</p></blockquote><h3 id="é¼ æ ‡-å­—è·Ÿéšæ ·å¼"><a href="#é¼ æ ‡-å­—è·Ÿéšæ ·å¼" class="headerlink" title="é¼ æ ‡*å­—è·Ÿéšæ ·å¼"></a>é¼ æ ‡*å­—è·Ÿéšæ ·å¼</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvSGV4b1N0YXRpY0ZpbGUyQGxhdGVzdC8yMDIwLzA1LzIwLzJjNTQwNDNjNDVkN2QwMWJlNzNlM2E0ZDkzZGRhOTYzLnBuZw?x-oss-process=image/format,png"></p><p>çœŸå®æ•ˆæœå¯ä»¥å»<a href="https://www.antmoe.com/iconfont/">IconFontè¡¨</a>æˆ–è€…<a href="https://www.antmoe.com/frends/">å‹æƒ…é“¾æ¥</a>é¡µé¢å»ä½“éªŒã€‚</p><p>è¿™ä¸ªä¿®æ”¹åªæ˜¯ä¸€ä¸ªjsï¼Œå½“ç„¶ä½ å¯ä»¥å…¨å±€å¼•å…¥ï¼Œè¿™æ ·å°±ä¼šåœ¨æ•´ä¸ªåšå®¢éƒ½æœ‰è¿™ç§æ•ˆæœã€‚å½“ç„¶ä¹Ÿå¯ä»¥å‘æˆ‘ä¸€æ ·ï¼Œåªåœ¨æŸä¸ªæ–‡ç« å¼•å…¥ã€‚</p><ol><li><p>å…¨å±€å¼•å…¥</p><p> ç›´æ¥åœ¨é…ç½®æ–‡ä»¶å¤„å¼•å…¥è¿™ä¸ªjså³å¯ã€‚</p><p> <code>https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js</code></p></li><li><p>åªåœ¨éƒ¨åˆ†æ–‡ç« å¼•å…¥</p><p> å°†ä¸‹è¾¹å†…å®¹å¤åˆ¶åˆ°markdownå³å¯ã€‚<strong>æ³¨æ„ï¼šå¦‚æœä½ çš„ç¼–è¾‘å™¨ä¸ºä½ è½¬åŒ–æˆäº†ä»£ç å—ï¼Œè¯·åˆ æ‰ä»£ç å—ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªHTMLæ ‡ç­¾</strong></p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="é¡µè„šæ¸å˜"><a href="#é¡µè„šæ¸å˜" class="headerlink" title="é¡µè„šæ¸å˜"></a>é¡µè„šæ¸å˜</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2LzFjZDc0NzRhODcxZTVlM2RmZjg2MmQ4ZTg1YzE5ZDFiLnBuZw?x-oss-process=image/format,png" alt="æ•ˆæœå›¾"></p><p>åŒæ ·çš„å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ æ‰€åˆ›å»ºçš„cssæ–‡ä»¶å³å¯ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é¡µè„šfooter */</span></span><br><span class="line"><span class="comment">/* æ¸å˜è‰²æ»šåŠ¨åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> Gradient &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-moz-keyframes</span> Gradient &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> Gradient &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, #ee7752, #ce3e75, #<span class="number">23</span>a6d5, #<span class="number">23</span>d5ab);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">400%</span> <span class="number">400%</span>;</span><br><span class="line">    <span class="attribute">-webkit-animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">    <span class="attribute">-moz-animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">    <span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">    <span class="attribute">-o-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ»šåŠ¨æ¡"><a href="#æ»šåŠ¨æ¡" class="headerlink" title="æ»šåŠ¨æ¡"></a>æ»šåŠ¨æ¡</h3><p>å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ æ‰€åˆ›å»ºçš„cssæ–‡ä»¶å³å¯ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2Lzc2NTk0OTg4YjUwNzgyZWIyZTRiNWQ2Mjk2OWYxZmQ5LnBuZw?x-oss-process=image/format,png"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ»šåŠ¨æ¡ */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">73</span>, <span class="number">177</span>, <span class="number">245</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">    <span class="number">45deg</span>,</span><br><span class="line">    rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">25%</span>,</span><br><span class="line">    transparent <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>,</span><br><span class="line">    transparent <span class="number">75%</span>,</span><br><span class="line">    transparent</span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-moz-selection</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹æœºä¾§è¾¹æ é»˜è®¤ä¸å±•å¼€"><a href="#æ‰‹æœºä¾§è¾¹æ é»˜è®¤ä¸å±•å¼€" class="headerlink" title="æ‰‹æœºä¾§è¾¹æ é»˜è®¤ä¸å±•å¼€"></a>æ‰‹æœºä¾§è¾¹æ é»˜è®¤ä¸å±•å¼€</h3><p>è¿™æ®µä¿®æ”¹éœ€è¦å°†ä¸‹è¾¹çš„ä»£ç å¤åˆ¶åˆ°æ–°å»ºçš„<strong>js</strong>æ–‡ä»¶ä¸­ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzAzLzA4ZDg0NzY1Y2I2MzI1NjQyMjQxNDdmOTUzMDg3NDgyLnBuZw?x-oss-process=image/format,png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mobile_sidebar_menus = <span class="built_in">document</span>.getElementById(<span class="string">&quot;mobile-sidebar-menus&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> menus_item_child = mobile_sidebar_menus.getElementsByClassName(</span><br><span class="line">    <span class="string">&quot;menus_item_child&quot;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">var</span> menus_expand = mobile_sidebar_menus.getElementsByClassName(<span class="string">&quot;menus-expand&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; menus_item_child.length; i++) &#123;</span><br><span class="line">    menus_item_child[i].style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    menus_expand[i].className += <span class="string">&quot; menus-closed&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæä¾›ä¸€ä¸ªç°æˆçš„åœ°å€ï¼Œå¯ä»¥ç›´æ¥åœ¨å¼•ç”¨å¤„å¡«å†™ã€‚ä¹Ÿå¯ä»¥å¤åˆ¶ä¸Šè¾¹çš„ä»£ç åˆ°ä½ è‡ªå·±çš„jsæ–‡ä»¶ä¸­ã€‚</p><p>åœ¨çº¿åœ°å€ï¼š<a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/[Hexo](https://so.csdn.net/so/search?q=Hexo&amp;spm=1001.2101.3001.7020)/js/hideMobileSidebar.js">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/[Hexo](https://so.csdn.net/so/search?q=Hexo&amp;spm=1001.2101.3001.7020)/js/hideMobileSidebar.js</a></p></blockquote><h3 id="åˆ†ç±»å¡ç‰‡æŠ˜å "><a href="#åˆ†ç±»å¡ç‰‡æŠ˜å " class="headerlink" title="åˆ†ç±»å¡ç‰‡æŠ˜å "></a>åˆ†ç±»å¡ç‰‡æŠ˜å </h3><p>åˆ†ç±»å¡ç‰‡éšè—éœ€è¦åŒæ—¶å¼•å…¥csså’Œjsæ–‡ä»¶ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2L2Q1MmEyODBlZGM1ODgxMTVmNzAxMWI1MDljOTA2M2VhLnBuZw?x-oss-process=image/format,png"></p><ol><li><p>JavaScriptä»£ç </p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> card_category_list = <span class="built_in">document</span>.getElementsByClassName(</span><br><span class="line">    <span class="string">&quot;card-category-list child&quot;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">var</span> item = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;card-category-list-item&quot;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> display = t.parentElement.nextSibling.style.display;</span><br><span class="line">    <span class="keyword">if</span> (display == <span class="string">&quot;none&quot;</span>) &#123;</span><br><span class="line">        t.parentElement.nextSibling.style.display = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        t.parentElement.nextSibling.style.height = <span class="string">&quot;100%&quot;</span>;</span><br><span class="line">        t.className = t.className.replace(<span class="string">&quot;fa-chevron-up&quot;</span>, <span class="string">&quot;fa-chevron-down&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        t.parentElement.nextSibling.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        t.className = t.className.replace(<span class="string">&quot;fa-chevron-down&quot;</span>, <span class="string">&quot;fa-chevron-up&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; card_category_list.length; i++) &#123;</span><br><span class="line">    card_category_list[i].style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    card_category_list[i].style.transition = <span class="string">&quot;all 1s&quot;</span>;</span><br><span class="line">    card_category_list[i].previousSibling.innerHTML +=</span><br><span class="line">        <span class="string">&#x27;&lt;i class=&quot;fa fa-chevron-up menus-expand  menus-closed&quot; aria-hidden=&quot;true&quot; style=&quot;margin-left:20px;&quot; Î¿nclick=&quot;toggle(this)&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>CSSä»£ç </p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#aside_content</span></span><br><span class="line"><span class="selector-class">.card-archives</span></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span></span><br><span class="line">&gt; <span class="selector-class">.card-archive-list-item</span></span><br><span class="line"><span class="selector-tag">a</span></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-id">#aside_content</span></span><br><span class="line"><span class="selector-class">.card-categories</span></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span></span><br><span class="line">&gt; <span class="selector-class">.card-category-list-item</span></span><br><span class="line"><span class="selector-tag">a</span></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: auto;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>åŒæ ·çš„ï¼Œè¿™ä¸ªé­”æ”¹ä¹Ÿæä¾›åœ¨çº¿åœ°å€ã€‚</p><ul><li><p>JS</p><p><a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/hideCategory.min.js">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/hideCategory.min.js</a></p></li><li><p>CSS</p><p><a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/hideCategory.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/hideCategory.min.css</a></p></li></ul></blockquote><h3 id="æ–‡ç« è¡¨æƒ…ä¸æ¢è¡Œ"><a href="#æ–‡ç« è¡¨æƒ…ä¸æ¢è¡Œ" class="headerlink" title="æ–‡ç« è¡¨æƒ…ä¸æ¢è¡Œ"></a>æ–‡ç« è¡¨æƒ…ä¸æ¢è¡Œ</h3><p>è¿™ä¸ªæ˜¯ä¸€æ®µJSä»£ç ï¼Œæˆ‘å»ºè®®åœ¨ä½ éœ€è¦æ·»åŠ è¡¨æƒ…çš„æ–‡ç« å¼•å…¥è¿™æ®µjsã€‚å¦‚æœå…¨å±€å¼•å…¥å¯èƒ½ä¼šæ‹–æ…¢é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/WithoutLine.min.js&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ï¼Œç›´æ¥åœ¨markdownæ–‡æ¡£æœ€ä¸‹è¾¹å†™å³å¯ã€‚</p><p>æ³¨æ„ï¼šå¦‚æœä½ ç”¨çš„markdownå¦‚æœå°†å…¶è½¬ä¸ºä»£ç å—ï¼Œé‚£ä¹ˆè¯·åˆ é™¤ä»£ç å—ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªè„šæœ¬å†…å®¹ã€‚æ­£ç¡®å†™çš„å§¿åŠ¿å¦‚å›¾ï¼ˆtyporaä¸ºä¾‹ï¼‰ï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE1Lzk1NWNmNTA4YmE5ZjgzYzExZTlmNDE0MDg1NzY2M2ZiLnBuZw?x-oss-process=image/format,png"></p><p>é”™è¯¯ç¤ºä¾‹ï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE1Lzk1OTUyMmRkNTA5N2NiNWQyZmYxMjhhOTFkMmI3YjE2LnBuZw?x-oss-process=image/format,png"></p><p>éƒ¨åˆ†ç¼–è¾‘å™¨å¯èƒ½å°†å…¶è‡ªåŠ¨è½¬åŒ–ä¸ºä»£ç å—ï¼Œè¯·å„ä½åšä¸»æ³¨æ„äº›ï¼</p><h3 id="é˜…è¯»æ¨¡å¼çš„èƒŒæ™¯ä¸å­—ä½“"><a href="#é˜…è¯»æ¨¡å¼çš„èƒŒæ™¯ä¸å­—ä½“" class="headerlink" title="é˜…è¯»æ¨¡å¼çš„èƒŒæ™¯ä¸å­—ä½“"></a>é˜…è¯»æ¨¡å¼çš„èƒŒæ™¯ä¸å­—ä½“</h3><p>é˜…è¯»æ¨¡å¼ä¸‹ä¼šç»™bodyåŠ ä¸€ä¸ªclassåï¼Œå› æ­¤æ”¹èµ·æ¥å¾ˆç®€å•ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.read-mode</span>&#123;</span><br><span class="line">    <span class="comment">/* å­—ä½“å¤§å° */</span></span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">17px</span>;</span><br><span class="line">    <span class="comment">/* å¯ä»¥åœ¨è¿™é‡Œå¼•å…¥è‡ªå®šä¹‰å­—ä½“ï¼Œå…·ä½“æ–¹æ³•è¯·è‡ªè¡Œç™¾åº¦csså¼•å…¥å­—ä½“ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.read-mode</span> <span class="selector-id">#web_bg</span>&#123;</span><br><span class="line">    <span class="comment">/* èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#fdf6e3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»»æ„å…ƒç´ æ·»åŠ åŠ¨æ•ˆåŠ¨ç”»"><a href="#ä»»æ„å…ƒç´ æ·»åŠ åŠ¨æ•ˆåŠ¨ç”»" class="headerlink" title="ä»»æ„å…ƒç´ æ·»åŠ åŠ¨æ•ˆåŠ¨ç”»"></a>ä»»æ„å…ƒç´ æ·»åŠ åŠ¨æ•ˆåŠ¨ç”»</h3><p>On DOM load</p><p>On hover</p><p>On parent hover</p><p> faa-wrench animated</p><p> faa-wrench animated-hover</p><p> faa-wrench</p><p> faa-ring animated</p><p> faa-ring animated-hover</p><p> faa-ring</p><p> faa-horizontal animated</p><p> faa-horizontal animated-hover</p><p> faa-horizontal</p><p> faa-vertical animated</p><p> faa-vertical animated-hover</p><p> faa-vertical</p><p> faa-flash animated</p><p> faa-flash animated-hover</p><p> faa-flash</p><p> faa-bounce animated</p><p> faa-bounce animated-hover</p><p> faa-bounce</p><p> faa-spin animated</p><p> faa-spin animated-hover</p><p> faa-spin</p><p> faa-float animated</p><p> faa-float animated-hover</p><p> faa-float</p><p> faa-pulse animated</p><p> faa-pulse animated-hover</p><p> faa-pulse</p><p> faa-shake animated</p><p> faa-shake animated-hover</p><p> faa-shake</p><p> faa-tada animated</p><p> faa-tada animated-hover</p><p> faa-tada</p><p> faa-passing animated</p><p> faa-passing animated-hover</p><p> faa-passing</p><p> faa-passing-reverse animated</p><p> faa-passing-reverse animated-hover</p><p> faa-passing-reverse</p><p> faa-burst animated</p><p> faa-burst animated-hover</p><p> faa-burst</p><p> faa-falling animated</p><p> faa-falling animated-hover</p><p> faa-falling</p><p> faa-rising animated</p><p> faa-rising animated-hover</p><p> faa-rising</p><p>ç†è®ºä¸Šè¿™äº›åŠ¨æ•ˆæ˜¯å¯ä»¥ç»™ä»»æ„DOMå…ƒç´ æ·»åŠ çš„ã€‚æ·»åŠ æ–¹å¼å¾ˆç®€å•ï¼Œå¼•å…¥ä¸€ä¸ªcssåº“ï¼š<a href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile/_HEXO@latest/butterfly/css/font-awesome-animation.min.css">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile\_HEXO@latest/butterfly/css/font-awesome-animation.min.css</a></p><p>ç„¶ååœ¨DOMå…ƒç´ çš„ç±»åæ·»åŠ ç›¸åº”çš„åŠ¨ç”»å³å¯ã€‚</p><p>ä¾‹å¦‚ç½‘å€å¯¼èˆªæ å¯ä»¥å†™ä¸º<code>- ç½‘å€æ”¶è— || https://dh.xiaokang.me/ || fas fa-infinity faa-shake animated</code></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨<code>On parent hover</code>éœ€è¦å‘çˆ¶çº§å…ƒç´ æ·»åŠ classå<code>faa-parent animated-hover</code>ã€‚å…¶ä½™ä¸¤ä¸ªä¸éœ€è¦ã€‚</p></blockquote><h3 id="MACä»£ç æ¡†ç¾åŒ–"><a href="#MACä»£ç æ¡†ç¾åŒ–" class="headerlink" title="MACä»£ç æ¡†ç¾åŒ–"></a>MACä»£ç æ¡†ç¾åŒ–</h3><p>å°†<code>butterfly.yml</code>çš„<code>highlight_theme</code>é…ç½®é¡¹æ”¹ä¸º<code>mac</code>åä»»æ„å¼•å…¥ä¸‹æ–¹ä¸€ä¸ªcsså³å¯ã€‚ï¼ˆä¹Ÿå¯åŠ å…¥åˆ°è‡ªå·±çš„cssæ–‡ä»¶ä¸­ï¼‰</p><ul><li><p>ç™½è‰²ä»£ç æ¡†</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile/_HEXO@latest/butterfly/css/macWhite.css">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile\_HEXO@latest/butterfly/css/macWhite.css</a></p><p>  <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvSGV4b1N0YXRpY0ZpbGUyQGxhdGVzdC8yMDIwLzA2LzI1L2UxMzU4ZTI5ZjdiNDM1NTc0Y2QwNmZkZDI5MjNjZDI2LnBuZw?x-oss-process=image/format,png" alt="image-20200625185013423"></p></li><li><p>é»‘è‰²ç¾åŒ–ç‰ˆ</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile/_HEXO@latest/butterfly/css/macblack.css">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile\_HEXO@latest/butterfly/css/macblack.css</a></p><p>  <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvSGV4b1N0YXRpY0ZpbGUyQGxhdGVzdC8yMDIwLzA2LzI1L2E2OGFiMjM3N2I1YmFhYmQ5YTZmZmEwMjcxNWFkOTBkLnBuZw?x-oss-process=image/format,png" alt="image-20200625184949239"></p></li></ul><h2 id="é¡µé¢ç±»ä¿®æ”¹"><a href="#é¡µé¢ç±»ä¿®æ”¹" class="headerlink" title="é¡µé¢ç±»ä¿®æ”¹"></a>é¡µé¢ç±»ä¿®æ”¹</h2><p>è¿™éƒ¨åˆ†çš„ä¿®æ”¹ä¸»è¦æ˜¯é’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„é¡µé¢ï¼Œä¾‹å¦‚å‹é“¾é¡µã€‚</p><h3 id="å‹æƒ…é“¾æ¥é¡µé¢ä¿®æ”¹"><a href="#å‹æƒ…é“¾æ¥é¡µé¢ä¿®æ”¹" class="headerlink" title="å‹æƒ…é“¾æ¥é¡µé¢ä¿®æ”¹"></a>å‹æƒ…é“¾æ¥é¡µé¢ä¿®æ”¹</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2L2VmZmUxYzI5MTFlYWJmN2E0NWJkNWJlNjdkNDcyZDMwLnBuZw?x-oss-process=image/format,png" alt="æ•ˆæœå›¾"></p><p>å‹æƒ…é“¾æ¥ä¿®æ”¹å†…å®¹è¿‡å¤§ï¼Œä¸å»ºè®®å°ç™½ä¿®æ”¹ã€‚</p><p>æ­¤ä¿®æ”¹éœ€è¦<strong>æ›¿æ¢</strong>ä½œè€…æ–‡ä»¶ï¼ˆåŠ<code>flink.pug</code>ï¼‰ï¼Œä½ç½®<code>\themes\Butterfly\layout\</code></p><p><code>flink.pug</code>ä¸‹è½½åœ°å€ï¼š<a href="https://tzk.lanzous.com/b06lwtwkb">https://tzk.lanzous.com/b06lwtwkb</a></p><p>æ›¿æ¢å®Œpugæ¨¡æ¿ä¹‹åå¼•å…¥æ­¤cssæ ·å¼å³å¯ï¼š<a href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile/_HEXO@latest/butterfly/css/flink.min.css">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile\_HEXO@latest/butterfly/css/flink.min.css</a></p><ul><li><p>2020-0617</p><p>  é€‚é…è´è¶3.0ç‰ˆæœ¬</p></li><li><p>2020-05-09</p><p>  åŠ å…¥ä¸€è¡Œå°å­—æ•ˆæœã€‚</p><p>  <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA5L2VmZWE1Y2IwMzE1M2U0NjM0Mjk3YTVlODc2ZTZmZTc3LnBuZw?x-oss-process=image/format,png"></p></li></ul><h4 id="å­—æ®µè¯´æ˜"><a href="#å­—æ®µè¯´æ˜" class="headerlink" title="å­—æ®µè¯´æ˜"></a>å­—æ®µè¯´æ˜</h4><p>è‡³äºå¦‚ä½•é…åˆä½¿ç”¨ï¼Œè¯·è‡ªè¡Œå°è¯•ï¼ˆæ­¤é…ç½®åŠ åœ¨<code>link.yml</code>ä¸‹å³å¯ï¼‰ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">class_test:</span></span><br><span class="line">  <span class="attr">class_name:</span> <span class="string">classå</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">å°å­—æè¿°æ”¯æŒhtmlæ ‡ç­¾</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">å°åº·åšå®¢</span></span><br><span class="line">    <span class="attr">link:</span> <span class="string">https://antmoe.com</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg</span></span><br><span class="line">    <span class="attr">descr:</span> <span class="string">æ›´å¤šæ•ˆæœè‡ªè¡Œæ­é…</span></span><br><span class="line">    <span class="comment"># è¾¹æ¡†å¤§å° é»˜è®¤ä¸º0 </span></span><br><span class="line">    <span class="attr">width:</span> <span class="string">0px</span></span><br><span class="line">    <span class="comment"># è¾¹æ¡†æ ·å¼ é»˜è®¤ solid</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">solid</span></span><br><span class="line">    <span class="comment"># è¾¹æ¡†é¢œè‰² é»˜è®¤æ·¡è“è‰² #49b1f5</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">&quot;#0078e7&quot;</span></span><br><span class="line">    <span class="comment"># è‡ªåŠ¨æ—‹è½¬ å¯é€‰å€¼ flashï¼ˆé—ªç°ï¼‰ link_customï¼ˆå•è‰²å‘¼å¸ç¯ï¼‰ link_custom1ï¼ˆå½©è‰²å‘¼å¸ç¯ï¼‰</span></span><br><span class="line">    <span class="attr">custom:</span> <span class="string">link_custom1</span></span><br><span class="line">    <span class="comment"># åŠ¨ç”»æ—¶é•¿è®¾å®šï¼Œé»˜è®¤ä¸º0</span></span><br><span class="line">    <span class="attr">time:</span> <span class="string">4s</span></span><br><span class="line">    <span class="comment"># nameçš„é¢œè‰²</span></span><br><span class="line">    <span class="attr">namecolor:</span> <span class="string">&quot;#ff9191&quot;</span></span><br><span class="line">    <span class="comment"># descrçš„é¢œè‰²</span></span><br><span class="line">    <span class="attr">descolor:</span> <span class="string">&quot;#ff9191&quot;</span></span><br><span class="line">    <span class="comment"># èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">    <span class="attr">background:</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># é¼ æ ‡æ‚¬åœæ—‹è½¬è§’åº¦</span></span><br><span class="line">    <span class="attr">rotate:</span> <span class="string">360deg</span></span><br><span class="line">    <span class="comment"># è‡ªåŠ¨æ—‹è½¬ latuoå·¦æ—‹è½¬ rautoå³æ—‹è½¬</span></span><br><span class="line">    <span class="attr">autorotate:</span> <span class="string">&quot;lauto&quot;</span></span><br><span class="line">    <span class="comment"># æ—‹è½¬çš„å‘¨æœŸï¼ˆæ—¶é•¿ï¼‰</span></span><br><span class="line">    <span class="attr">autotime:</span> <span class="string">2s</span></span><br><span class="line">    <span class="comment">#ç§»é™¤æ­¤é“¾æ¥çš„æƒé‡ 0ä¸ºå¦ é0ä¸ºç§»é™¤</span></span><br><span class="line">    <span class="attr">remove:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h3 id="èƒŒæ™¯è®¾ç½®é¡µ"><a href="#èƒŒæ™¯è®¾ç½®é¡µ" class="headerlink" title="èƒŒæ™¯è®¾ç½®é¡µ"></a>èƒŒæ™¯è®¾ç½®é¡µ</h3><p>è¿™ä¸ªé¡µé¢çš„åˆè¡·æ˜¯ä¸ºäº†æµ‹è¯•ä¸åŒèƒŒæ™¯ä¸‹çš„åšå®¢æ•ˆæœã€‚ä½†å¯ä»¥å‹‰å¼ºå½“ä½œèƒŒæ™¯è®¾ç½®é¡µã€‚æ•ˆæœå‚è€ƒåœ°å€ï¼š<a href="https://www.antmoe.com/background/">butterflyä¸»é¢˜èƒŒæ™¯æ›´æ¢</a></p><p>è¿™ä¸ªä¿®æ”¹åŒæ ·éœ€è¦åŒæ—¶æ·»åŠ cssä¸jsä»£ç ã€‚</p><ol><li><p>JavaScriptä»£ç </p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// å…¨å±€èƒŒæ™¯div</span></span><br><span class="line"><span class="keyword">var</span> web_bg = <span class="built_in">document</span>.getElementById(<span class="string">&quot;web_bg&quot;</span>);</span><br><span class="line"><span class="comment">// å…¬å…±çˆ¶çº§</span></span><br><span class="line"><span class="keyword">var</span> content_inner = <span class="built_in">document</span>.getElementById(<span class="string">&quot;content-inner&quot;</span>);</span><br><span class="line"><span class="comment">// è·å–Cookies</span></span><br><span class="line"><span class="comment">// é€æ˜åº¦</span></span><br><span class="line"><span class="keyword">var</span> opacity = Cookies.get(<span class="string">&quot;opacity&quot;</span>);</span><br><span class="line"><span class="comment">// èƒŒæ™¯</span></span><br><span class="line"><span class="keyword">var</span> bg = Cookies.get(<span class="string">&quot;bg&quot;</span>);</span><br><span class="line"><span class="comment">// åŠ¨ç”»</span></span><br><span class="line"><span class="keyword">var</span> animation = Cookies.get(<span class="string">&quot;animation&quot;</span>);</span><br><span class="line"><span class="comment">// èƒŒæ™¯ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> type = Cookies.get(<span class="string">&quot;type&quot;</span>);</span><br><span class="line"><span class="comment">// å£°æ˜éå† ç”¨äºè®°å½•å½“å‰color</span></span><br><span class="line"><span class="comment">// è®¾ç½®èƒŒæ™¯</span></span><br><span class="line"><span class="keyword">if</span> (bg) &#123;</span><br><span class="line">  web_bg.style.background = bg;</span><br><span class="line">  web_bg.setAttribute(<span class="string">&quot;data-type&quot;</span>, type);</span><br><span class="line">  <span class="keyword">if</span> (animation) &#123;</span><br><span class="line">    web_bg.style.animation = animation;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setColor</span>(<span class="params">opacity</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// style=&quot;--light_bg_color: rgb(255, 255, 255,.3);--dark_bg_color: rgba(18,18,18,.2);&quot;</span></span><br><span class="line">  <span class="keyword">var</span> light_bg_color = <span class="string">&quot;--light_bg_color: rgb(255, 255, 255,&quot;</span> + opacity + <span class="string">&quot;);&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> dark_bg_color = <span class="string">&quot;--dark_bg_color: rgba(18,18,18,&quot;</span> + opacity + <span class="string">&quot;);&quot;</span>;</span><br><span class="line">  content_inner.setAttribute(<span class="string">&quot;style&quot;</span>, light_bg_color + dark_bg_color);</span><br><span class="line">&#125;</span><br><span class="line">setColor(opacity);</span><br></pre></td></tr></table></figure></li><li><p>CSSä»£ç </p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#aside_content</span> <span class="selector-class">.card-widget</span>,<span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>,<span class="selector-class">.layout_page</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:not(.recent-posts)</span>,<span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#page</span>,<span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span>,<span class="selector-class">.read-mode</span> <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--light_bg_color)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#nav</span>,<span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.layout_page</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:not(.recent-posts)</span>,<span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--dark_bg_color)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>å°†ä»¥ä¸Šjsä¸csså…¨éƒ¨å¼•å…¥åï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ã€‚ç„¶ååœ¨å…¶<code>index.md</code>ä¸­ï¼ˆæ­£æ–‡éƒ¨åˆ†ï¼‰å†™å…¥ä»¥ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span>@keyframes gradientBG&#123;0%&#123;background-position: 0% 50%;&#125;50%&#123;background-position: 100% 50%;&#125;100% &#123;background-position: 0% 50%;&#125;&#125;#rightside&#123;display:none;&#125;<span class="xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; è¿™ä¸ªé¡µé¢æ˜¯ç”¨æ¥æµ‹è¯•æ¸å˜èƒŒæ™¯çš„æ•ˆæœï¼Œä»¥åŠä¸åŒé€æ˜åº¦çš„æ•ˆæœã€‚å¦‚æœä½ æœ‰èƒ½åŠ›å¯ä»¥ç›´æ¥çœ‹ css æ ·å¼ã€‚å¦åˆ™è¯·è¿”å›[<span class="string">Hexo åšå®¢ä¹‹ butterfly ä¸»é¢˜ä¼˜åŒ–æ›´æ¢èƒŒæ™¯</span>](<span class="link">https://www.antmoe.com/posts/7198453/index.html#é™„å½•</span>)å¤åˆ¶ä»£ç ã€‚</span></span><br><span class="line"><span class="quote">&gt; é˜…è¯»ä½“éªŒåŠä¸ªæ ‡ç­¾æ ·å¼è¯·è‡ªå·±è¿›è¡Œè°ƒæ•´ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="section">## é€æ˜åº¦è°ƒèŠ‚</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">center</span> <span class="attr">style</span>=<span class="string">&#x27;margin-bottom:20px&#x27;</span> <span class="attr">id</span> = <span class="string">&#x27;opt&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span>é€æ˜åº¦0<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.1&quot;</span>&gt;</span></span>é€æ˜åº¦0.1<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.2&quot;</span>&gt;</span></span>é€æ˜åº¦0.2<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.3&quot;</span>&gt;</span></span>é€æ˜åº¦0.3<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.4&quot;</span>&gt;</span></span>é€æ˜åº¦0.4<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.5&quot;</span>&gt;</span></span>é€æ˜åº¦0.5<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.6&quot;</span>&gt;</span></span>é€æ˜åº¦0.6<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.7&quot;</span>&gt;</span></span>é€æ˜åº¦0.7<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.8&quot;</span>&gt;</span></span>é€æ˜åº¦0.8<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;0.9&quot;</span>&gt;</span></span>é€æ˜åº¦0.9<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: #FFF;margin-bottom: 10px;&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;color: #FFF;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button button-primary button-rounded button-small&quot;</span> <span class="attr">data-opacity</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span>é€æ˜åº¦1<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## èƒŒæ™¯è°ƒèŠ‚</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;demo_style&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;text-align:center;margin:0 auto;&#x27;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">### æ¸å˜ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px;background: url(<span class="symbol">&amp;quot;</span>https://ae01.alicdn.com/kf/H5662031fbf344418aa2c8bf74c68826eV.png<span class="symbol">&amp;quot;</span>),linear-gradient(45deg, #6dd0f2 15%, #f59abe 85%);text-align: center;line-height: 200px;margin-bottom:5px;cursor: pointer;&quot;</span>&gt;</span></span>ç²‰è“è‰²æœ‰å›¾ç‰‡<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px;background: linear-gradient(45deg, #6dd0f2 15%, #f59abe 85%);text-align: center;line-height: 200px;cursor: pointer;&quot;</span>&gt;</span></span>ç²‰è“è‰²æ— å›¾ç‰‡<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px;background: linear-gradient(102.7deg,#fddaff 8.2%,#dfadfc 19.6%,#adcdfc 36.8%,#adfcf4 73.2%,#caf8d0 90.9%);text-align: center;line-height: 200px;cursor: pointer;&quot;</span>&gt;</span></span>ç¾ç¾å“’æ¸å˜<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: linear-gradient(90deg,rgba(247,149,51,.1) 0,rgba(243,112,85,.1) 15%,rgba(239,78,123,.1) 30%,rgba(161,102,171,.1) 44%,rgba(80,115,184,.1) 58%,rgba(16,152,173,.1) 72%,rgba(7,179,155,.1) 86%,rgba(109,186,130,.1) 100%);text-align: center;line-height: 200px;cursor: pointer;&quot;</span>&gt;</span></span>åšä¸»åŒæ¬¾<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);    background-size: 400% 400%;animation: gradientBG 15s ease infinite;text-align: center;line-height: 200px;cursor: pointer;&quot;</span>&gt;</span></span>åŠ¨æ€æ¸å˜<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: linear-gradient(to right bottom, rgb(0, 255, 240), rgb(92, 159, 247) 40%, rgb(211, 34, 255) 80%);text-align: center;line-height: 200px;cursor: pointer;&quot;</span>&gt;</span></span>ç´«è“è‰²æ¸å˜<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">### æ¸å˜åŠ å›¾ç‰‡ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: linear-gradient(60deg, rgba(255, 165, 150, 0.5) 5%, rgba(0, 228, 255, 0.35)), url(https://ae01.alicdn.com/kf/H18a4b998752a4ae68b8e85d432a5aef0l.png),url(https://ae01.alicdn.com/kf/H21b5f6b8496141a1979a33666e1074d9x.jpg)0% 0% / cover;text-align: center;line-height: 200px;cursor: pointer; background-size: cover;&quot;</span>&gt;</span></span>ç´«è“è‰²æ¸å˜<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">### å›¾ç‰‡ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: url(https://api.abcyun.co/api/tool/bing/token/5d8f31cf6a8ab);text-align: center;line-height: 200px;cursor: pointer; background-size: cover;&quot;</span>&gt;</span></span>å¿…åº”å£çº¸<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: url(https://api.abcyun.co/api/others/randacgimage/token/5d8f31cf6a8ab);text-align: center;line-height: 200px;cursor: pointer; background-size: cover;&quot;</span>&gt;</span></span>éšæœºäºŒæ¬¡å…ƒå›¾<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-type</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">class</span>=<span class="string">&#x27;bg_test&#x27;</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;width: 200px;height:200px; background: url(https://api.abcyun.co/api/others/randacgblogbg/token/5d8f31cf6a8ab);text-align: center;line-height: 200px;cursor: pointer; background-size: cover;&quot;</span>&gt;</span></span>éšæœºäºŒæ¬¡å…ƒèƒŒæ™¯å›¾<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## æµ‹è¯•æ–‡ç« </span></span><br><span class="line"></span><br><span class="line"><span class="section">### æ˜¥</span></span><br><span class="line"></span><br><span class="line">ç›¼æœ›ç€ï¼Œç›¼æœ›ç€ï¼Œä¸œé£æ¥äº†ï¼Œæ˜¥å¤©çš„è„šæ­¥è¿‘äº†ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€åˆ‡éƒ½åƒåˆšç¡é†’çš„æ ·å­ï¼Œæ¬£æ¬£ç„¶å¼ å¼€äº†çœ¼ã€‚å±±æœ—æ¶¦èµ·æ¥äº†ï¼Œæ°´é•¿èµ·æ¥äº†ï¼Œå¤ªé˜³çš„è„¸çº¢èµ·æ¥äº†ã€‚</span><br><span class="line"></span><br><span class="line">å°è‰å·å·åœ°ä»åœŸé‡Œé’»å‡ºæ¥ï¼Œå«©å«©çš„ï¼Œç»¿ç»¿çš„ã€‚å›­å­é‡Œï¼Œç”°é‡é‡Œï¼Œç§å»ï¼Œä¸€å¤§ç‰‡ä¸€å¤§ç‰‡æ»¡æ˜¯çš„ã€‚åç€ï¼Œèººç€ï¼Œæ‰“ä¸¤ä¸ªæ»šï¼Œè¸¢å‡ è„šçƒï¼Œèµ›å‡ è¶Ÿè·‘ï¼Œæ‰å‡ å›è¿·è—ã€‚é£è½»æ‚„æ‚„çš„ï¼Œè‰ç»µè½¯è½¯çš„ã€‚</span><br><span class="line"></span><br><span class="line">æ¡ƒæ ‘ã€ææ ‘ã€æ¢¨æ ‘ï¼Œä½ ä¸è®©æˆ‘ï¼Œæˆ‘ä¸è®©ä½ ï¼Œéƒ½å¼€æ»¡äº†èŠ±èµ¶è¶Ÿå„¿ã€‚çº¢çš„åƒç«ï¼Œç²‰çš„åƒéœï¼Œç™½çš„åƒé›ªã€‚èŠ±é‡Œå¸¦ç€ç”œå‘³ï¼Œé—­äº†çœ¼ï¼Œæ ‘ä¸Šä»¿ä½›å·²ç»æ»¡æ˜¯æ¡ƒå„¿ã€æå„¿ã€æ¢¨å„¿ã€‚èŠ±ä¸‹æˆåƒæˆç™¾çš„èœœèœ‚å—¡å—¡åœ°é—¹ç€ï¼Œå¤§å°çš„è´è¶é£æ¥é£å»ã€‚é‡èŠ±éåœ°æ˜¯ï¼šæ‚æ ·å„¿ï¼Œæœ‰åå­—çš„ï¼Œæ²¡åå­—çš„ï¼Œæ•£åœ¨èŠ±ä¸›é‡Œï¼Œåƒçœ¼ç›ï¼Œåƒæ˜Ÿæ˜Ÿï¼Œè¿˜çœ¨å‘€çœ¨çš„ã€‚</span><br><span class="line"></span><br><span class="line">â€œå¹é¢ä¸å¯’æ¨æŸ³é£â€ï¼Œä¸é”™çš„ï¼Œåƒæ¯äº²çš„æ‰‹æŠšæ‘¸ç€ä½ ã€‚é£é‡Œå¸¦æ¥äº›æ–°ç¿»çš„æ³¥åœŸçš„æ°”æ¯ï¼Œæ··ç€é’è‰å‘³ï¼Œè¿˜æœ‰å„ç§èŠ±çš„é¦™ï¼Œéƒ½åœ¨å¾®å¾®æ¶¦æ¹¿çš„ç©ºæ°”é‡Œé…é…¿ã€‚é¸Ÿå„¿å°†çª å·¢å®‰åœ¨ç¹èŠ±å«©å¶å½“ä¸­ï¼Œé«˜å…´èµ·æ¥äº†ï¼Œå‘¼æœ‹å¼•ä¼´åœ°å–å¼„æ¸…è„†çš„å–‰å’™ï¼Œå”±å‡ºå®›è½¬çš„æ›²å­ï¼Œä¸è½»é£æµæ°´åº”å’Œç€ã€‚ç‰›èƒŒä¸Šç‰§ç«¥çš„çŸ­ç¬›ï¼Œè¿™æ—¶å€™ä¹Ÿæˆå¤©åœ¨å˜¹äº®åœ°å“ã€‚</span><br><span class="line"></span><br><span class="line">é›¨æ˜¯æœ€å¯»å¸¸çš„ï¼Œä¸€ä¸‹å°±æ˜¯ä¸‰ä¸¤å¤©ã€‚å¯åˆ«æ¼ã€‚çœ‹ï¼Œåƒç‰›æ¯›ï¼ŒåƒèŠ±é’ˆï¼Œåƒç»†ä¸ï¼Œå¯†å¯†åœ°æ–œç»‡ç€ï¼Œäººå®¶å±‹é¡¶ä¸Šå…¨ç¬¼ç€ä¸€å±‚è–„çƒŸã€‚æ ‘å¶å­å´ç»¿å¾—å‘äº®ï¼Œå°è‰ä¹Ÿé’å¾—é€¼ä½ çš„çœ¼ã€‚å‚æ™šæ—¶å€™ï¼Œä¸Šç¯äº†ï¼Œä¸€ç‚¹ç‚¹é»„æ™•çš„å…‰ï¼Œçƒ˜æ‰˜å‡ºä¸€ç‰‡è¿™å®‰é™è€Œå’Œå¹³çš„å¤œã€‚ä¹¡ä¸‹å»ï¼Œå°è·¯ä¸Šï¼ŒçŸ³æ¡¥è¾¹ï¼Œæ’‘èµ·ä¼æ…¢æ…¢èµ°ç€çš„äºº;è¿˜æœ‰åœ°é‡Œå·¥ä½œçš„å†œå¤«ï¼ŒæŠ«ç€è“‘ï¼Œæˆ´ç€ç¬ çš„ã€‚ä»–ä»¬çš„è‰å±‹ï¼Œç¨€ç¨€ç–ç–çš„åœ¨é›¨é‡Œé™é»˜ç€ã€‚</span><br><span class="line"></span><br><span class="line">å¤©ä¸Šé£ç­æ¸æ¸å¤šäº†ï¼Œåœ°ä¸Šå­©å­ä¹Ÿå¤šäº†ã€‚åŸé‡Œä¹¡ä¸‹ï¼Œå®¶å®¶æˆ·æˆ·ï¼Œè€è€å°å°ï¼Œä»–ä»¬ä¹Ÿèµ¶è¶Ÿå„¿ä¼¼çš„ï¼Œä¸€ä¸ªä¸ªéƒ½å‡ºæ¥äº†ã€‚èˆ’æ´»èˆ’æ´»ç­‹éª¨ï¼ŒæŠ–æ“æŠ–æ“ç²¾ç¥ï¼Œå„åšå„çš„ä¸€ä»½äº‹å»ï¼Œâ€œä¸€å¹´ä¹‹è®¡åœ¨äºæ˜¥â€;åˆšèµ·å¤´å„¿ï¼Œæœ‰çš„æ˜¯å·¥å¤«ï¼Œæœ‰çš„æ˜¯å¸Œæœ›ã€‚</span><br><span class="line"></span><br><span class="line">æ˜¥å¤©åƒåˆšè½åœ°çš„å¨ƒå¨ƒï¼Œä»å¤´åˆ°è„šéƒ½æ˜¯æ–°çš„ï¼Œå®ƒç”Ÿé•¿ç€ã€‚</span><br><span class="line"></span><br><span class="line">æ˜¥å¤©åƒå°å§‘å¨˜ï¼ŒèŠ±ææ‹›å±•çš„ï¼Œç¬‘ç€ï¼Œèµ°ç€ã€‚</span><br><span class="line"></span><br><span class="line">æ˜¥å¤©åƒå¥å£®çš„é’å¹´ï¼Œæœ‰é“ä¸€èˆ¬çš„èƒ³è†Šå’Œè…°è„šï¼Œä»–é¢†ç€æˆ‘ä»¬ä¸Šå‰å»ã€‚</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> æœ‰åºåˆ—è¡¨</span><br><span class="line"><span class="bullet">2.</span> æœ‰åº</span><br><span class="line"><span class="bullet">3.</span> æœ‰</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> æ— éœ€åˆ—è¡¨</span><br><span class="line"><span class="bullet">-</span> æµ‹è¯•</span><br><span class="line"></span><br><span class="line">&#123;% note default icon %&#125;</span><br><span class="line">default</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary icon %&#125;</span><br><span class="line">primary</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success icon %&#125;</span><br><span class="line">success</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info icon %&#125;</span><br><span class="line">info</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning icon %&#125;</span><br><span class="line">warning</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger icon %&#125;</span><br><span class="line">danger</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon%&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">#### Primary Header<span class="strong">**Welcome**</span> to [<span class="string">Hexo!</span>](<span class="link">https://hexo.io</span>)</span></span><br><span class="line"></span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span>var article<span class="emphasis">_container=document.getElementById(&quot;demo_</span>style&quot;),opt=document.getElementById(&quot;opt&quot;);article<span class="emphasis">_container.addEventListener(&quot;click&quot;,function(e)&#123;var t=e.target;&quot;DIV&quot;===t.nodeName&amp;&amp;&quot;bg_</span>test&quot;===t.className&amp;&amp;(web<span class="emphasis">_bg.style.background=t.style.background,web_</span>bg.style.animation=t.style.animation),Cookies.set(&quot;bg&quot;,t.style.background,&#123;expires:1&#125;),Cookies.set(&quot;animation&quot;,t.style.animation,&#123;expires:1&#125;),Cookies.set(&quot;type&quot;,t.getAttribute(&quot;data-type&quot;),&#123;expires:1&#125;)&#125;),opt.addEventListener(&quot;click&quot;,function(e)&#123;var t=e.target;if(&quot;A&quot;===t.nodeName)&#123;var a=t.getAttribute(&quot;data-opacity&quot;);if(a)&#123;Cookies.set(&quot;opacity&quot;,a,&#123;expires:1&#125;);var n=&quot;--light<span class="emphasis">_bg_</span>color: rgb(255, 255, 255,&quot;+a+&quot;);&quot;,i=&quot;--dark<span class="emphasis">_bg_</span>color: rgba(18,18,18,&quot;+a+&quot;);&quot;;document.getElementById(&quot;content-inner&quot;).setAttribute(&quot;style&quot;,n+i)&#125;&#125;e.preventDefault()&#125;);<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="åŠŸèƒ½æ‰©å±•"><a href="#åŠŸèƒ½æ‰©å±•" class="headerlink" title="åŠŸèƒ½æ‰©å±•"></a>åŠŸèƒ½æ‰©å±•</h2><p>è¿™é‡Œçš„ä¿®æ”¹ä¸»è¦æ˜¯é’ˆå¯¹ä¸€äº›åŠŸèƒ½æ€§çš„æ‹“å±•ï¼Œä¾‹å¦‚ä¸ªæ€§æ ‡ç­¾ï¼Œè½®æ’­å›¾ç­‰ç­‰ã€‚</p><blockquote><p>æ¨èï¼šä¸€æ¬¡æ€§å¼•å…¥é™¤è½®æ’­å›¾å¤–çš„å…¨éƒ¨æ ‡ç­¾å¤–æŒ‚ã€‚ç›´æ¥å¼•ç”¨<a href="https://www.antmoe.com/">å°åº·</a>çš„<code>tags.css</code>æ–‡ä»¶ã€‚</p><ol><li><code>https://unpkg.com/xiaokang-style/butterfly/css/tags.css</code></li><li><code>https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/tags.css</code></li></ol><p>ä¸Šé¢ä¸¤ä¸ªé“¾æ¥ä»»é€‰å…¶ä¸€å³å¯ã€‚</p><blockquote><p>ç¬¬ä¸€ä¸ªé“¾æ¥æ›´æ–°é€Ÿåº¦å¿«ï¼Œåªæœ‰10åˆ†é’Ÿç¼“å­˜ã€‚ä¹Ÿå°±æ˜¯æˆ‘å‘å¸ƒåï¼Œä½ æœ€å¤šç­‰10åˆ†é’Ÿå³å¯ä½¿ç”¨æœ€æ–°çš„å†…å®¹ã€‚ç¼ºç‚¹å°±æ˜¯åŠ è½½é€Ÿåº¦ç¨å¾®æ…¢ä¸€ç‚¹</p><p>ç¬¬äºŒä¸ªé“¾æ¥æ›´æ–°é€Ÿåº¦ç¨å¾®æ…¢ï¼ˆå¯èƒ½ä¸€å¤©ã€å¯èƒ½ä¸¤å¤©ç­‰ï¼‰ã€‚æœ‰ç‚¹æ˜¯jsdåŠ è½½æ¯”unpkgå¿«ä¸€ç‚¹ã€‚</p><p>äºŒè€…å†…å®¹ä¸€æ ·ï¼Œæ›´å…·è‡ªå·±é€‰æ‹©å¼•å…¥ä¸€ä¸ªå³å¯ã€‚æ— éœ€ä¸¤ä¸ªå…¨éƒ¨å¼•ç”¨ï¼Œå¼•ç”¨ä¸€ä¸ªå³å¯ã€‚</p></blockquote><p>å¼•å…¥<a href="https://www.antmoe.com/">å°åº·</a>çš„<code>tags.css</code>æ–‡ä»¶ï¼ˆä¸Šé¢çš„é“¾æ¥ï¼‰åï¼Œæ­¤éƒ¨åˆ†é™¤è½®æ’­å›¾å…¶ä½™æ‰€æœ‰æ ‡ç­¾å¤–æŒ‚å‡å¯å‚ç…§<a href="https://www.antmoe.com/posts/3b43914f/index.html">å°åº·çš„ butterfly ä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</a>è¿›è¡Œè¯­æ³•ã€é¢„è§ˆã€æ–°å¢æ ·å¼ç­‰æŸ¥çœ‹ã€‚</p><p>å¼•å…¥ä»¥ä¸Šé“¾æ¥çš„å¥½å¤„ï¼š</p><ol><li><p>ä¸ä½œè€…ä¿æŒæ›´æ–°ï¼Œæ¯æ¬¡ä½¿ç”¨æ ‡ç­¾ï¼ŒæŸ¥çœ‹æ–‡æ¡£å³å¯ã€‚</p><p>ç†è®ºä¸Šæ–‡æ¡£é‡Œçš„æ ‡ç­¾å¤–æŒ‚éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p><p>æ— éœ€è‡ªå·±åœ¨æ‰‹åŠ¨æ·»åŠ æ ·å¼ä½¿ç”¨æ–°æ ‡ç­¾ï¼Œå› ä¸ºæˆ‘å·²ç»å¸®ä½ åšäº†ã€‚</p></li><li><p>æ›´æ–°</p><p>ä»¥ä¸‹éƒ¨åˆ†æä¾›çš„ä»£ç ä¸ä¼šåœ¨è¿›è¡Œæ›´æ–°ã€‚ä½†å¦‚æœå‡ºç°æ–°çš„æ ·å¼ï¼Œä¼šæ›´æ–°åˆ°<code>tags.css</code>æ–‡ä»¶ä¸­ï¼Œå› æ­¤å¼ºçƒˆå»ºè®®ä½¿ç”¨ä¸Šé¢æä¾›çš„é“¾æ¥ã€‚</p></li></ol></blockquote><h3 id="æ ‡ç­¾å¤–æŒ‚"><a href="#æ ‡ç­¾å¤–æŒ‚" class="headerlink" title="æ ‡ç­¾å¤–æŒ‚"></a>æ ‡ç­¾å¤–æŒ‚</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE2LzI0YWFjNmE3YTVhOTUyN2UzMDEwNmIxMzJkOTI5YTVhLnBuZw?x-oss-process=image/format,png" alt="Checkbox &amp; Radio"></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE2LzU3MWMyNmRlNWM4NGJhZjc0ZWUyYWJjYWE4OWQ4YWRiLnBuZw?x-oss-process=image/format,png" alt="å¯Œæ–‡æœ¬æŒ‰é’®"></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzE2Lzk3MTY3Y2E2ZDk0NDM2NzliZTBkMWZlN2UxN2Q4M2E4LnBuZw?x-oss-process=image/format,png" alt="Folding"></p><p>æ­¤éƒ¨åˆ†ä¿®æ”¹æ¥æºäº<a href="https://github.com/xaoxuu/hexo-theme-volantis/">Volantisä¸»é¢˜</a>ï¼Œæ‰©å±•çš„æ ‡ç­¾åˆ†åˆ«ä¸º<code>Checkbox &amp; Radio</code>ã€<code>å¯Œæ–‡æœ¬æŒ‰é’®</code>ã€<code>Folding</code>ã€<code>fancybox</code>ã€<code>span</code>ã€‚</p><p>æ­¤é¡¹ä¿®æ”¹éœ€è¦åœ¨æºæ–‡ä»¶ä¸­æ·»åŠ æ–°çš„æ–‡ä»¶ï¼Œå½“ç„¶äº†å¹¶ä¸ä¼šä¿®æ”¹ä½œè€…æºæ–‡ä»¶ã€‚å‡çº§æ—¶åªéœ€è¦é‡æ–°æŠŠè¿™å‡ ä¸ªæ–‡ä»¶æ”¾å…¥ç›¸åº”æ–‡ä»¶å³å¯ã€‚æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š<a href="https://tzk.lanzous.com/b06m0pbmh">https://tzk.lanzous.com/b06m0pbmh</a>ã€‚</p><p>æ·»åŠ çš„ä½ç½®ä¸ºï¼šä¸»é¢˜ç›®å½•ä¸‹çš„<code>scripts</code>ä¸­çš„<code>tags</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvSGV4b1N0YXRpY0ZpbGUyQGxhdGVzdC8yMDIwLzA2LzIwLzkxNzhjY2VjZTA4NGZhMDJmNWFhM2Y5MmRlM2E1YTU2LnBuZw?x-oss-process=image/format,png" alt="image-20200620225011610"></p><p>æ¥ä¸‹æ¥å¼•å…¥csså³å¯ï¼š<a href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile/_HEXO@latest/butterfly/css/plugins.min.css">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile\_HEXO@latest/butterfly/css/plugins.min.css</a></p><blockquote><p>ä¹Ÿå¯å°†æ­¤cssä¿å­˜åˆ°ä½ çš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœä½ å·²ç»å¼•ç”¨äº†<a href="https://www.antmoe.com/">å°åº·</a>çš„poolçš„cssæ–‡ä»¶ï¼Œé‚£ä¹ˆæ‰€æœ‰å¤–æŒ‚çš„æ ‡ç­¾çš„csséƒ½æ— éœ€å¼•å…¥ã€‚ï¼ˆ<strong>CSSæ— éœ€ï¼Œä¸ä»£è¡¨åˆ«çš„ä¸éœ€è¦ã€‚</strong>ï¼‰</p></blockquote><blockquote><p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨æ‰©å±•æ ‡ç­¾äº†ï¼Œå…·ä½“è¯­æ³•å¯ä»¥å‚ç…§<a href="https://volantis.js.org/v2/tag-plugins/">æºä¸»é¢˜æ–‡æ¡£</a>ã€‚</p><p><strong>æ³¨æ„ï¼šä¸æ˜¯æ‰€æœ‰çš„æ ‡ç­¾éƒ½å¯ä»¥ä½¿ç”¨ï¼Œè¯·å¯¹åº”åŠŸèƒ½è¿›è¡Œä½¿ç”¨ã€‚</strong></p></blockquote><h3 id="è‡ªå®šä¹‰noteï¼ˆå›¾æ ‡ã€é¢œè‰²ï¼‰"><a href="#è‡ªå®šä¹‰noteï¼ˆå›¾æ ‡ã€é¢œè‰²ï¼‰" class="headerlink" title="è‡ªå®šä¹‰noteï¼ˆå›¾æ ‡ã€é¢œè‰²ï¼‰"></a>è‡ªå®šä¹‰noteï¼ˆå›¾æ ‡ã€é¢œè‰²ï¼‰</h3><p>æ­¤é¡¹ä¿®æ”¹å¼•ç”¨çš„å›¾æ ‡æ˜¯é˜¿é‡Œiconfontå›¾æ ‡ã€‚å¹¶ä¸é€‚ç”¨äºFont Awesomeã€‚ä¸”ä½ æ‰€ä½¿ç”¨çš„å›¾æ ‡éœ€å¼•å…¥çš„cssä¸­å­˜åœ¨ã€‚å…³äºå¦‚ä½•ä½¿ç”¨é˜¿é‡Œiconfontè¯·å‚è€ƒ<a href="https://www.antmoe.com/posts/80c43671/index.html">Hexoåšå®¢ä¹‹ä¼˜é›…ä½¿ç”¨é˜¿é‡Œiconfontå›¾æ ‡</a>ã€‚è¿™é‡Œåªä»‹ç»æˆåŠŸå¼•å…¥é˜¿é‡Œå›¾æ ‡åå¦‚ä½•è‡ªå®šä¹‰noteæ ‡ç­¾çš„å›¾æ ‡åŠé¢œè‰²ã€‚</p><p>éœ€è¦åœ¨cssä¸­åŠ å…¥ä»¥ä¸‹è§„åˆ™ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è‡ªå®šä¹‰note */</span></span><br><span class="line"><span class="selector-class">.note</span><span class="selector-class">.custom</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f7f7f7</span>;</span><br><span class="line">    <span class="attribute">border-left-color</span>: <span class="number">#777</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.custom</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--icon-color,#<span class="number">333</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä¾¿å¯ä»¥åœ¨mdä¸­ç›´æ¥ä½¿ç”¨HTMLæ ‡ç­¾è‡ªå®šä¹‰å›¾æ ‡äº†ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note icon custom iconfont å›¾æ ‡å&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #f7f7f7;border-left-color: #777;--icon-color: red;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>default<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­çš„<code>class</code>åä¸­çš„å›¾æ ‡ååœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA3LzQxZjY5YmZlNmVjOGQwNWIzOTZkODg0ODFmY2Y3ODk3LnBuZw?x-oss-process=image/format,png"></p><ul><li><p><code>background</code></p><p>  è¡¨ç¤ºnoteçš„èƒŒæ™¯ï¼Œå¯ä»¥è‡ªè¡Œè®¾ç½®ã€‚å½“ç„¶æ¸å˜èƒŒæ™¯ç†è®ºä¸Šä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p></li><li><p><code>border-left-color</code></p><p>  å·¦è¾¹æ¡†çš„é¢œè‰²ã€‚</p></li><li><p><code>--icon-color</code></p><p>  å›¾æ ‡é¢œè‰²ï¼Œé»˜è®¤ä¸º#333</p></li></ul><p>ç‚¹å‡»å¤åˆ¶ä»£ç å³å¯ç²˜è´´åˆ°å›¾è¡¨åã€‚ä¾‹å¦‚ä»¥ä¸‹ä»£ç æ•ˆæœã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note icon custom iconfont icon-QQ&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:#f7f7f7;border-left-color:#777;--icon-color: red;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>QQ å›¾æ ‡<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>QQ å›¾æ ‡</p><p><em>å› ä¸ºæ¯ä¸ªäººçš„é¡¹ç›®å›¾æ ‡ä¸ä¸€æ ·ï¼Œå› æ­¤å¯èƒ½ä¼šå‡ºç°classåç›¸åŒä½†å›¾æ ‡ä¸ä¸€æ ·çš„æ•ˆæœã€‚å…·ä½“æ•ˆæœä»¥å›¾æ ‡é¡¹ç›®ä»“åº“ä¸ºå‡†ã€‚</em></p><p>å¸¸ç”¨é…è‰²æ­é…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/* default */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #f7f7f7;border-left-color: #777;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>default<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* success */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #eff8f0;border-left-color: #5cb85c;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* primary */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #f5f0fa;border-left-color: #6f42c1;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>primary<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* info */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #eef7fa;border-left-color: #428bca;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* warning */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #fdf8ea;border-left-color: #f0ad4e;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>warning<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* danger */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;note  icon custom iconfont icon-QQ2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #fcf1f2;border-left-color: #d9534f;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>danger<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å¦ä¸€ç§é£æ ¼çš„noteå’Œå°tagæ ‡ç­¾"><a href="#å¦ä¸€ç§é£æ ¼çš„noteå’Œå°tagæ ‡ç­¾" class="headerlink" title="å¦ä¸€ç§é£æ ¼çš„noteå’Œå°tagæ ‡ç­¾"></a>å¦ä¸€ç§é£æ ¼çš„noteå’Œå°tagæ ‡ç­¾</h3><p>noteæ•ˆæœå±•ç¤ºï¼š</p><p>ç»¿è‰²</p><p>çº¢è‰²</p><p>é»„è‰²</p><p>ç°è‰²</p><p>è“è‰²</p><p>å°tagæ ‡ç­¾æ•ˆæœå±•ç¤ºï¼š</p><p>çº¢è‰²å°æ ‡ç­¾ ç»¿è‰²å°æ ‡ç­¾ è“è‰²å°æ ‡ç­¾ é»„è‰²å°æ ‡ç­¾ ç°è‰²å°æ ‡ç­¾</p><p>å®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªæ˜¯å¯¹ç®€å•çš„pæ ‡ç­¾è¿›è¡Œä¿®æ”¹ï¼Œä¸ºäº†æ–¹ä¾¿æ·»åŠ é¢œè‰²ï¼Œè¿™é‡Œæä¾›äº†ä»¥ä¸Šäº”ç§é…è‰²çš„æ ·å¼ã€‚csså¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span><span class="selector-class">.inline-tag</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">2em</span> .<span class="number">6em</span> .<span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">90%</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">    <span class="attribute">border-radius</span>: .<span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--Color)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.red</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.red</span> &#123;</span><br><span class="line">    <span class="attribute">--Color</span>: <span class="built_in">rgb</span>(<span class="number">233</span>, <span class="number">30</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="attribute">--ColorA</span>: <span class="built_in">rgba</span>(<span class="number">233</span>, <span class="number">30</span>, <span class="number">100</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.green</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.green</span> &#123;</span><br><span class="line">    <span class="attribute">--Color</span>: <span class="built_in">rgb</span>(<span class="number">139</span>, <span class="number">195</span>, <span class="number">74</span>);</span><br><span class="line">    <span class="attribute">--ColorA</span>: <span class="built_in">rgba</span>(<span class="number">139</span>, <span class="number">195</span>, <span class="number">74</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.blue</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.blue</span> &#123;</span><br><span class="line">    <span class="attribute">--Color</span>: <span class="built_in">rgb</span>(<span class="number">3</span>, <span class="number">169</span>, <span class="number">244</span>);</span><br><span class="line">    <span class="attribute">--ColorA</span>: <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">169</span>, <span class="number">244</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.yellow</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.yellow</span> &#123;</span><br><span class="line">    <span class="attribute">--Color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">193</span>, <span class="number">7</span>);</span><br><span class="line">    <span class="attribute">--ColorA</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">193</span>, <span class="number">7</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.grey</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.grey</span> &#123;</span><br><span class="line">    <span class="attribute">--Color</span>: <span class="built_in">rgb</span>(<span class="number">76</span>, <span class="number">76</span>, <span class="number">76</span>);</span><br><span class="line">    <span class="attribute">--ColorA</span>: <span class="built_in">rgba</span>(<span class="number">76</span>, <span class="number">76</span>, <span class="number">76</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.div-border</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--Color,#<span class="number">333</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0.4rem</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--ColorA, transparent);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">border-left-width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-left-color</span>: <span class="built_in">var</span>(--Color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.bottom</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom-width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="built_in">var</span>(--Color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">border-right-width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-right-color</span>: <span class="built_in">var</span>(--Color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.top</span> &#123;</span><br><span class="line">    <span class="attribute">border-top-width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="built_in">var</span>(--Color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨èµ·æ¥ä¹Ÿä¼šç®€å•ï¼Œä¸ºäº†å…¼å®¹å„ç§å¹³å°ï¼Œä¸æ¨ètagæ ‡ç­¾çš„å†™æ³•ã€‚å› æ­¤åªåˆhtmlæ ‡ç­¾çš„å†™æ³•ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å³ä¾¿å¤åˆ¶åˆ°å„å¤§å¹³å°ä¹Ÿä¸ä¼šå‡ºç°å¥‡å¥‡æ€ªæ€ªçš„æ ‡ç­¾ç¬¦å·æˆ–è€…æŠ¥é”™ã€‚</p><p>å°æ ‡ç­¾å‚æ•°è¯´æ˜ï¼š<code>&lt;p class=&#39;div-border [é¢œè‰²|æ–¹å‘åŠ ç²—]&#39;&gt;ä½ çš„æ–‡å­—&lt;/p&gt;</code>å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/* noteè¯­æ³•ç¤ºä¾‹ */</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;div-border green&#x27;</span>&gt;</span>ç»¿è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;div-border red&#x27;</span>&gt;</span>çº¢è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;div-border yellow&#x27;</span>&gt;</span>é»„è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;div-border grey&#x27;</span>&gt;</span>ç°è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;div-border blue&#x27;</span>&gt;</span>è“è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">/* å°tagæ ‡ç­¾è¯­æ³•ç¤ºä¾‹ */</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;inline-tag red&quot;</span>&gt;</span>çº¢è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;inline-tag green&quot;</span>&gt;</span>ç»¿è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;inline-tag blue&quot;</span>&gt;</span>è“è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;inline-tag yellow&quot;</span>&gt;</span>é»„è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;inline-tag grey&quot;</span>&gt;</span>ç°è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç çš„æ•ˆæœå¯ä»¥çœ‹æœ¬æ®µå¼€å¤´å¤„çš„æ•ˆæœï¼ˆä¸å†™é¢œè‰²é»˜è®¤ä¸ºç°è‰²ï¼‰ã€‚å½“ç„¶äº†ä½ ä¹Ÿå¯ä»¥è®¾ç½®æŸä¸ªè¾¹æ¡†åŠ ç²—ã€‚ä¾‹å¦‚<code>&lt;p class=&#39;div-border green left right&#39;&gt;ç»¿è‰²&lt;/p&gt;</code></p><p>ç»¿è‰²</p><h3 id="æ¸å˜note"><a href="#æ¸å˜note" class="headerlink" title="æ¸å˜note"></a>æ¸å˜note</h3><p>æ•ˆæœå±•ç¤º</p><p>é»˜è®¤æƒ…å†µ</p><p>success</p><p>error</p><p>warning</p><p>ä¿®æ”¹æ–¹å¼</p><p>cssä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tip</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#20a0ff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left top,right top,from(#<span class="number">20</span>a0ff),<span class="built_in">to</span>(#<span class="number">20</span>b8ff));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left,#<span class="number">20</span>a0ff,#<span class="number">20</span>b8ff);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,#<span class="number">20</span>a0ff,#<span class="number">20</span>b8ff);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">32</span>,<span class="number">160</span>,<span class="number">255</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">32</span>,<span class="number">160</span>,<span class="number">255</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span><span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#20a0ff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left bottom,left top,from(#<span class="number">0092</span>ff),<span class="built_in">to</span>(#<span class="number">20</span>b8ff));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom,#<span class="number">0092</span>ff,#<span class="number">20</span>b8ff);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">0deg</span>,#<span class="number">0092</span>ff,#<span class="number">20</span>b8ff);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\f129&quot;</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">24.5px</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2.5px</span> <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2.5px</span> <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;Font Awesome 5 Free&quot;</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span>,<span class="selector-class">.getit</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.well</span> <span class="selector-class">.tip</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2.5px</span> <span class="number">#f7f8f9</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2.5px</span> <span class="number">#f7f8f9</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span> <span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.success</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#61be33</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left top,right top,from(#<span class="number">61</span>be33),<span class="built_in">to</span>(#<span class="number">8</span>fce44));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left,#<span class="number">61</span>be33,#<span class="number">8</span>fce44);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,#<span class="number">61</span>be33,#<span class="number">8</span>fce44);</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#61be33</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">104</span>,<span class="number">195</span>,<span class="number">59</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">104</span>,<span class="number">195</span>,<span class="number">59</span>,.<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.success</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left bottom,left top,from(#<span class="number">52</span>bb1d),<span class="built_in">to</span>(#<span class="number">95</span>d34b));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom,#<span class="number">52</span>bb1d,#<span class="number">95</span>d34b);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">0deg</span>,#<span class="number">52</span>bb1d,#<span class="number">95</span>d34b);</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\f00c&quot;</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#61be33</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.warning</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ff953f</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left top,right top,from(#ff953f),<span class="built_in">to</span>(#ffb449));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left,#ff953f,#ffb449);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,#ff953f,#ffb449);</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#ff953f</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">154</span>,<span class="number">73</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">154</span>,<span class="number">73</span>,.<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.warning</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left bottom,left top,from(#ff8f35),<span class="built_in">to</span>(#ffc149));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom,#ff8f35,#ffc149);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">0deg</span>,#ff8f35,#ffc149);</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\f12a&quot;</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#ff953f</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.error</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ff4949</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left top,right top,from(#ff4949),<span class="built_in">to</span>(#ff7849));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left,#ff4949,#ff7849);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,#ff4949,#ff7849);</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#ff4949</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">73</span>,<span class="number">73</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">73</span>,<span class="number">73</span>,.<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tip</span><span class="selector-class">.error</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-gradient</span>(linear,left bottom,left top,from(#ff3838),<span class="built_in">to</span>(#ff7849));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(bottom,#ff3838,#ff7849);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">0deg</span>,#ff3838,#ff7849);</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\f00d&quot;</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">#ff4949</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å¤œé—´é€‚é…*/</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tip</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* snoteå¤œé—´æ¨¡å¼ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tip</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹å¼</p><p>å› ä¸ºæ ‡ç­¾å¤–æŒ‚çš„è¯­æ³•ä¼šå¯¼è‡´å¤åˆ¶åˆ°å…¶ä»–å¹³å°ä¸ä¾¿åˆ©ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨HTMLå†™æ³•ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;tip&#x27;</span> &gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é»˜è®¤æƒ…å†µ<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;tip success&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;tip error&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>error<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;tip warning&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>warning<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="volantisä¸»é¢˜çš„noteæ ‡ç­¾"><a href="#volantisä¸»é¢˜çš„noteæ ‡ç­¾" class="headerlink" title="volantisä¸»é¢˜çš„noteæ ‡ç­¾"></a>volantisä¸»é¢˜çš„noteæ ‡ç­¾</h3><blockquote><p>å› ä¸ºæ ‡ç­¾å¤–æŒ‚çš„è¯­æ³•ä¼šå¯¼è‡´å¤åˆ¶åˆ°å…¶ä»–å¹³å°ä¸ä¾¿åˆ©ï¼Œå› æ­¤åªæä¾›HTMLå†™æ³•ã€‚</p></blockquote><p>æ•ˆæœå±•ç¤º</p><p>é»˜è®¤red</p><p>quote</p><p>info</p><p>done</p><p>success</p><p>danger</p><p>error</p><p>radiation</p><p>bug</p><p>idea-yellow</p><p>link- blue</p><p>paperclip</p><p>todo</p><p>msg cyan</p><p>guide</p><p>download</p><p>up</p><p>undo</p><p>å°æ ‡é¢˜</p><p>è¿™æ˜¯ä¸ªå¼•ç”¨</p><p>ä¿®æ”¹æ–¹å¼</p><p>cssä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* snoteå¤œé—´æ¨¡å¼ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.snote</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.snote</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.tabs</span> <span class="selector-tag">div</span><span class="selector-class">.snote</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* TAG å°æ ‡ç­¾ */</span></span><br><span class="line"><span class="selector-class">.snote</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border</span>: initial;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f9f9f9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">ul</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">ol</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">table</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">pre</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">blockquote</span><span class="selector-pseudo">:first-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">img</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">ul</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">ol</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">table</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">pre</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">blockquote</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-class">.snote</span> <span class="selector-tag">img</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-pseudo">:not(.no-icon)</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">45px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: larger;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Font Awesome 5 Free&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f7f7f7</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#777</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#777</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.default</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f0a9&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#777</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f0fa</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#6f42c1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#6f42c1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.primary</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f055&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#6f42c1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eef7fa</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#428bca</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#428bca</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.info</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f05a&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#428bca</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eff8f0</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#5cb85c</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5cb85c</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.success</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f058&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5cb85c</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdf8ea</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#f0ad4e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f0ad4e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.warning</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f06a&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f0ad4e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fcf1f2</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#d9534f</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d9534f</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.snote</span><span class="selector-class">.danger</span><span class="selector-pseudo">:not(.no-icon)</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f056&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d9534f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.6rem</span> <span class="number">16px</span> <span class="number">0.5rem</span> <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="built_in">calc</span>(<span class="number">16px</span> + <span class="number">16px</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">4px</span> solid <span class="number">#767676</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">p</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">ul</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">ol</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">blockquote</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">24px</span> * <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Font Awesome 5 Free&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#767676</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f054&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f054&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.quote</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e8f4fd</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.quote</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f10d&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e8f4fd</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.info</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f129&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.success</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.done</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ebf9ed</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#3dc550</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.success</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.done</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3dc550</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f00c&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.warning</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff8e9</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffbd2b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.warning</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffbd2b</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f12a&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.danger</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#feefee</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#fe5f58</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.danger</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.error</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fe5f58</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f00d&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.radiation</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f7b9&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.bug</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f188&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.idea</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f0eb&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.link</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f0c1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.paperclip</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f0c6&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.todo</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f0ae&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.message</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f4ad&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.guide</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f277&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.download</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f019&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.up</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f102&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.undo</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f2ea&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.play</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f144&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.clear</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: none;</span><br><span class="line">  <span class="attribute">border-color</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.light</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#aaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.light</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.gray</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#767676</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.gray</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#767676</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#feefee</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#fe5f58</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.red</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fe5f58</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.yellow</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff8e9</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffbd2b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.yellow</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffbd2b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.green</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ebf9ed</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#3dc550</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.green</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3dc550</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.cyan</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e8fafe</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#1bcdfc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.cyan</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1bcdfc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.blue</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e8f4fd</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.snote</span><span class="selector-class">.blue</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2196f3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸»é¢˜è‡ªå¸¦éšè—æŒ‰é’®"><a href="#ä¸»é¢˜è‡ªå¸¦éšè—æŒ‰é’®" class="headerlink" title="ä¸»é¢˜è‡ªå¸¦éšè—æŒ‰é’®"></a>ä¸»é¢˜è‡ªå¸¦éšè—æŒ‰é’®</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2L2VmNGY0M2I0MGM1NTE5MDI3NTJhN2JkMjBlODIxZTU1LnBuZw?x-oss-process=image/format,png"></p><p>ä¸»é¢˜è‡ªå¸¦çš„éšè—æŒ‰é’®ç‚¹å‡»åæ¶ˆå¤±ï¼Œåˆ™ä¸å¯ä»¥å†æ¬¡éšè—ã€‚ä¿®æ”¹æ–¹æ³•å¾ˆç®€å•ï¼Œä¸€æ®µcssä»£ç å³å¯ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hide-block</span>&gt;<span class="selector-tag">a</span><span class="selector-class">.hide-button</span><span class="selector-class">.open</span>, <span class="selector-class">.hide-inline</span>&gt;<span class="selector-tag">a</span><span class="selector-class">.hide-button</span><span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è½®æ’­å›¾"><a href="#è½®æ’­å›¾" class="headerlink" title="è½®æ’­å›¾"></a>è½®æ’­å›¾</h3><p>è½®æ’­å›¾çš„ä¿®æ”¹æ¥æºäºç½‘ç»œï¼ˆjqï¼‰çš„ä¸€ä¸ªæ’ä»¶ã€‚æ­¤é¡¹ä¿®æ”¹å¼•å…¥jsæ–‡ä»¶å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Slider</span>(<span class="params">option</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.wrap = option.wrap;</span><br><span class="line">    <span class="built_in">this</span>.imgList = option.imgList;</span><br><span class="line">    <span class="built_in">this</span>.imgNum = <span class="built_in">this</span>.imgList.length;</span><br><span class="line">    <span class="built_in">this</span>.width = option.width || $(<span class="built_in">this</span>.wrap).width();</span><br><span class="line">    <span class="built_in">this</span>.height = option.height || $(<span class="built_in">this</span>.wrap).height();</span><br><span class="line">    <span class="built_in">this</span>.isAuto = option.isAuto || <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">this</span>.moveTime = option.moveTime;</span><br><span class="line">    <span class="built_in">this</span>.direction = option.direction || <span class="string">&quot;right&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.btnWidth = option.btnWidth;</span><br><span class="line">    <span class="built_in">this</span>.btnHeight = option.btnHeight;</span><br><span class="line">    <span class="built_in">this</span>.spanWidth = option.spanWidth;</span><br><span class="line">    <span class="built_in">this</span>.spanHeight = option.spanHeight;</span><br><span class="line">    <span class="built_in">this</span>.spanColor = option.spanColor;</span><br><span class="line">    <span class="built_in">this</span>.activeSpanColor = option.activeSpanColor;</span><br><span class="line">    <span class="built_in">this</span>.btnBackgroundColor = option.btnBackgroundColor;</span><br><span class="line">    <span class="built_in">this</span>.spanRadius = option.spanRadius;</span><br><span class="line">    <span class="built_in">this</span>.spanMargin = option.spanMargin;</span><br><span class="line">    <span class="built_in">this</span>.flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">this</span>.nowIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">this</span>.createDom();</span><br><span class="line">    <span class="built_in">this</span>.initStyle();</span><br><span class="line">    <span class="built_in">this</span>.bindEvent();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.isAuto === <span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.autoMove();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Slider.prototype.createDom = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> oUl = $(<span class="string">&#x27;&lt;ul class=&quot;imgList&quot;&gt;&lt;/ul&gt;&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> Spot = $(<span class="string">&#x27;&lt;div class=&quot;spot&quot;&gt;&lt;/div&gt;&#x27;</span>);</span><br><span class="line">    <span class="built_in">this</span>.imgList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> oLi =</span><br><span class="line">        <span class="string">&#x27;&lt;li&gt;&lt;a  href=&quot; &#x27;</span> +</span><br><span class="line">        item.a +</span><br><span class="line">        <span class="string">&#x27;target=&quot;_blank&quot; &quot;&gt;&lt;img src=&quot; &#x27;</span> +</span><br><span class="line">        item.img +</span><br><span class="line">        <span class="string">&#x27; &quot;&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;</span><br><span class="line">      oUl.append(oLi);</span><br><span class="line">      <span class="keyword">var</span> span = <span class="string">&quot;&lt;span&gt;&lt;/span&gt;&quot;</span>;</span><br><span class="line">      Spot.append(span);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> leftBtn = $(</span><br><span class="line">      <span class="string">&#x27;&lt;div class=&quot;left-btn&quot;&gt;&lt;i class=&quot;fas fa-angle-left&quot;&gt;&lt;/i&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> rightBtn = $(</span><br><span class="line">      <span class="string">&#x27;&lt;div class=&quot;right-btn&quot;&gt;&lt;i class=&quot;fas fa-angle-right&quot;&gt;&lt;/i&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">this</span>.wrap.append(oUl).append(leftBtn).append(rightBtn).append(Spot);</span><br><span class="line">  &#125;;</span><br><span class="line">  Slider.prototype.initStyle = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">&quot;*&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123; <span class="attr">margin</span>: <span class="number">0</span>, <span class="attr">padding</span>: <span class="number">0</span>, <span class="attr">listStyle</span>: <span class="string">&quot;none&quot;</span> &#125;);</span><br><span class="line">    $(<span class="built_in">this</span>.wrap).css(&#123; <span class="attr">overflow</span>: <span class="string">&quot;hidden&quot;</span>, <span class="attr">position</span>: <span class="string">&quot;relative&quot;</span> &#125;);</span><br><span class="line">    $(<span class="string">&quot;.imgList&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123;</span><br><span class="line">      width: <span class="built_in">this</span>.width,</span><br><span class="line">      height: <span class="built_in">this</span>.height,</span><br><span class="line">      position: <span class="string">&quot;relative&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.imgList li&quot;</span>, <span class="built_in">this</span>.wrap)</span><br><span class="line">      .css(&#123;</span><br><span class="line">        width: <span class="built_in">this</span>.width,</span><br><span class="line">        height: <span class="built_in">this</span>.height,</span><br><span class="line">        position: <span class="string">&quot;absolute&quot;</span>,</span><br><span class="line">        left: <span class="number">0</span>,</span><br><span class="line">        top: <span class="number">0</span>,</span><br><span class="line">        display: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .eq(<span class="built_in">this</span>.nowIndex)</span><br><span class="line">      .css(&#123; <span class="attr">display</span>: <span class="string">&quot;block&quot;</span> &#125;);</span><br><span class="line">    $(<span class="string">&quot;.imgList li a, .imgList li a img&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123;</span><br><span class="line">      display: <span class="string">&quot;inline-block&quot;</span>,</span><br><span class="line">      width: <span class="built_in">this</span>.width,</span><br><span class="line">      height: <span class="built_in">this</span>.height,</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.left-btn, .right-btn&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123;</span><br><span class="line">      width: <span class="built_in">this</span>.btnWidth,</span><br><span class="line">      height: <span class="built_in">this</span>.btnHeight,</span><br><span class="line">      backgroundColor: <span class="built_in">this</span>.btnBackgroundColor,</span><br><span class="line">      color: <span class="string">&quot;#fff&quot;</span>,</span><br><span class="line">      textAlign: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">      lineHeight: <span class="built_in">this</span>.btnHeight + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">      position: <span class="string">&quot;absolute&quot;</span>,</span><br><span class="line">      top: <span class="string">&quot;50%&quot;</span>,</span><br><span class="line">      marginTop: -<span class="built_in">this</span>.btnHeight / <span class="number">2</span>,</span><br><span class="line">      cursor: <span class="string">&quot;pointer&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.right-btn&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123; <span class="attr">right</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    $(<span class="string">&quot;.spot&quot;</span>, <span class="built_in">this</span>.wrap).css(&#123;</span><br><span class="line">      height: <span class="built_in">this</span>.spanHeight + <span class="built_in">this</span>.spanMargin * <span class="number">2</span>,</span><br><span class="line">      position: <span class="string">&quot;absolute&quot;</span>,</span><br><span class="line">      left: <span class="string">&quot;50%&quot;</span>,</span><br><span class="line">      marginLeft: (-<span class="built_in">this</span>.imgNum * (<span class="built_in">this</span>.spanWidth + <span class="built_in">this</span>.spanMargin * <span class="number">2</span>)) / <span class="number">2</span>,</span><br><span class="line">      bottom: <span class="number">10</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.spot span&quot;</span>, <span class="built_in">this</span>.wrap)</span><br><span class="line">      .css(&#123;</span><br><span class="line">        display: <span class="string">&quot;inline-block&quot;</span>,</span><br><span class="line">        width: <span class="built_in">this</span>.spanWidth,</span><br><span class="line">        height: <span class="built_in">this</span>.spanHeight,</span><br><span class="line">        margin: <span class="built_in">this</span>.spanMargin,</span><br><span class="line">        backgroundColor: <span class="built_in">this</span>.spanColor,</span><br><span class="line">        borderRadius: <span class="built_in">this</span>.spanRadius,</span><br><span class="line">        cursor: <span class="string">&quot;pointer&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .eq(<span class="built_in">this</span>.nowIndex)</span><br><span class="line">      .css(&#123; <span class="attr">backgroundColor</span>: <span class="built_in">this</span>.activeSpanColor &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  Slider.prototype.bindEvent = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    $(<span class="string">&quot;.left-btn&quot;</span>, <span class="built_in">this</span>.wrap).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      self.move(<span class="string">&quot;prev&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.right-btn&quot;</span>, <span class="built_in">this</span>.wrap).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      self.move(<span class="string">&quot;next&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.spot span&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">      self.move($(<span class="built_in">this</span>).index());</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">this</span>.wrap).mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">clearInterval</span>(self.time);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  Slider.prototype.move = <span class="function"><span class="keyword">function</span> (<span class="params">dir</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.flag) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">switch</span> (dir) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;prev&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.nowIndex === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="built_in">this</span>.nowIndex = <span class="built_in">this</span>.imgNum - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="built_in">this</span>.nowIndex--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;next&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.nowIndex === <span class="built_in">this</span>.imgNum - <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="built_in">this</span>.nowIndex = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="built_in">this</span>.nowIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">this</span>.nowIndex = dir;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    $(<span class="string">&quot;.imgList li&quot;</span>, <span class="built_in">this</span>.wrap)</span><br><span class="line">      .fadeOut()</span><br><span class="line">      .eq(<span class="built_in">this</span>.nowIndex)</span><br><span class="line">      .fadeIn(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        self.flag = <span class="literal">false</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">    $(<span class="string">&quot;.spot  span&quot;</span>, <span class="built_in">this</span>.wrap)</span><br><span class="line">      .css(&#123; <span class="attr">backgroundColor</span>: <span class="built_in">this</span>.spanColor &#125;)</span><br><span class="line">      .eq(<span class="built_in">this</span>.nowIndex % <span class="built_in">this</span>.imgNum)</span><br><span class="line">      .css(&#123; <span class="attr">backgroundColor</span>: <span class="built_in">this</span>.activeSpanColor &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  Slider.prototype.autoMove = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">this</span>.time = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.direction == <span class="string">&quot;left&quot;</span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;.left-btn&quot;</span>, <span class="built_in">this</span>.wrap).trigger(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;.right-btn&quot;</span>, <span class="built_in">this</span>.wrap).trigger(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, self.moveTime);</span><br><span class="line">  &#125;;</span><br><span class="line">  $.fn.extend(&#123;</span><br><span class="line">    slider: <span class="function"><span class="keyword">function</span> (<span class="params">option</span>) </span>&#123;</span><br><span class="line">      option.wrap = <span class="built_in">this</span>;</span><br><span class="line">      <span class="keyword">new</span> Slider(option);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨mdæ–‡ç« ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹å³å¯</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="code">    function tt()&#123;</span></span><br><span class="line"><span class="code">        $(&#x27;.demo&#x27;).slider(&#123;</span></span><br><span class="line"><span class="code">    imgList: [</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            img: &#x27;https://cdn.jsdelivr.net/gh/blogimg/picbed@latest/2020/04/13/2a877ea5da1292c817cbc2a254c01c31.png&#x27;,</span></span><br><span class="line"><span class="code">            a: &#x27;è·³è½¬urlåœ°å€&#x27;,</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            img: &#x27;https://cdn.jsdelivr.net/gh/blogimg/picbed@latest/2020/04/13/5005109d1aa2ffd28984c2b02b8cbfbe.png&#x27;,</span></span><br><span class="line"><span class="code">            a: &#x27;è·³è½¬urlåœ°å€&#x27;,</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">        &#123;</span></span><br><span class="line"><span class="code">            img: &#x27;https://cdn.jsdelivr.net/gh/blogimg/picbed@latest/2020/04/13/163a2ade4361d1ed705ed523091af67e.png&#x27;,</span></span><br><span class="line"><span class="code">            a: &#x27;è·³è½¬urlåœ°å€&#x27;,</span></span><br><span class="line"><span class="code">        &#125;</span></span><br><span class="line"><span class="code">    ], //å›¾ç‰‡çš„åˆ—è¡¨ï¼Œaå±æ€§é‡Œé¢å­˜æ”¾çš„æ˜¯ç½‘ç»œåœ°å€ï¼Œimgå­˜æ”¾çš„æ˜¯å›¾ç‰‡åœ°å€</span></span><br><span class="line"><span class="code">    width: &quot;100%&quot;, //å›¾ç‰‡çš„å®½</span></span><br><span class="line"><span class="code">    height: 500, //å›¾ç‰‡çš„é«˜</span></span><br><span class="line"><span class="code">    isAuto: false, //æ˜¯å¦è‡ªåŠ¨è½®æ’­</span></span><br><span class="line"><span class="code">    moveTime: 3000, //è¿åŠ¨æ—¶é—´</span></span><br><span class="line"><span class="code">    direction: &#x27;right&#x27;, //è½®æ’­çš„æ–¹å‘</span></span><br><span class="line"><span class="code">    btnWidth: 30, //æŒ‰é’®çš„å®½</span></span><br><span class="line"><span class="code">    btnHeight: 30, //æŒ‰é’®çš„é«˜</span></span><br><span class="line"><span class="code">    spanWidth: 10, //spanæŒ‰é’®çš„å®½</span></span><br><span class="line"><span class="code">    spanHeight: 10, //spanæŒ‰é’®çš„é«˜</span></span><br><span class="line"><span class="code">    spanColor: &#x27;#fff&#x27;, //spanæŒ‰é’®çš„é¢œè‰²</span></span><br><span class="line"><span class="code">    activeSpanColor: &#x27;red&#x27;, //é€‰ä¸­çš„spané¢œè‰²</span></span><br><span class="line"><span class="code">    btnBackgroundColor: &#x27;rgba(0, 0, 0, 0.3)&#x27;, //ä¸¤ä¾§æŒ‰é’®çš„é¢œè‰²</span></span><br><span class="line"><span class="code">    spanRadius: &#x27;50%&#x27;, //spanæŒ‰é’®çš„åœ†è§’ç¨‹åº¦</span></span><br><span class="line"><span class="code">    spanMargin: 3, //spanä¹‹é—´çš„è·ç¦»</span></span><br><span class="line"><span class="code">&#125;)</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    window.addEventListener(&#x27;DOMContentLoaded&#x27;,tt)</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»£ç è§£è¯»ï¼š<code>&lt;div class=&quot;demo&quot;&gt;&lt;/div&gt;</code>ç”¨äºä¸‹è¾¹JSä»£ç å®šä½å…ƒç´ ç”¨ã€‚å¦‚æœæ”¹å˜classåï¼Œä¸‹è¾¹çš„JSé€‰æ‹©å™¨ä¹Ÿéœ€è¦åšå‡ºå¯¹åº”çš„æ”¹å˜ã€‚</p><p>ä¸‹è¾¹çš„Javascriptä»£ç ç”¨äºç”Ÿæˆè½®æ’­å›¾ã€‚å„é¡¹é…ç½®çœ‹æ³¨é‡Šå³å¯ã€‚</p></blockquote><h3 id="ç‰¹æ®ŠæŒ‰é’®"><a href="#ç‰¹æ®ŠæŒ‰é’®" class="headerlink" title="ç‰¹æ®ŠæŒ‰é’®"></a>ç‰¹æ®ŠæŒ‰é’®</h3><p>åªéœ€è¦å¼•å…¥ä¸€ä¸ªcsså³å¯è§£å†³ã€‚ç”±äºcssè¿‡é•¿ï¼Œå› æ­¤åªç»™å‡ºä¸€ä¸ªåœ¨çº¿é“¾æ¥ï¼Œä½ å¯ä»¥å°†å…¶ä¸‹è½½æ”¾åˆ°è‡ªå·±çš„ç©ºé—´é‡Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¼•ç”¨ã€‚</p><p>åœ°å€ï¼š<a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/buttons.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/buttons.min.css</a></p><p>æ ·å¼åŠä½¿ç”¨è¯·å‚è€ƒ<a href="https://www.antmoe.com/posts/58a62380/index.html">https://www.antmoe.com/posts/58a62380/index.html</a></p><h3 id="ä½¿ç”¨é˜¿é‡ŒIconfontå›¾æ ‡"><a href="#ä½¿ç”¨é˜¿é‡ŒIconfontå›¾æ ‡" class="headerlink" title="ä½¿ç”¨é˜¿é‡ŒIconfontå›¾æ ‡"></a>ä½¿ç”¨é˜¿é‡ŒIconfontå›¾æ ‡</h3><p>å‚è€ƒ<a href="https://www.antmoe.com/posts/80c43671/index.html">Hexoåšå®¢ä¹‹ä¼˜é›…ä½¿ç”¨é˜¿é‡Œiconfontå›¾æ ‡</a></p><h2 id="è¯„è®ºç±»ä¿®æ”¹"><a href="#è¯„è®ºç±»ä¿®æ”¹" class="headerlink" title="è¯„è®ºç±»ä¿®æ”¹"></a>è¯„è®ºç±»ä¿®æ”¹</h2><p>æ­¤é¡¹ä¿®æ”¹ä¸»è¦æ˜¯é’ˆå¯¹valineè¯„è®ºä»¥åŠåŒè¯„è®ºã€‚</p><h3 id="valineè¯„è®ºå°æ ‡ç­¾"><a href="#valineè¯„è®ºå°æ ‡ç­¾" class="headerlink" title="valineè¯„è®ºå°æ ‡ç­¾"></a>valineè¯„è®ºå°æ ‡ç­¾</h3><p>è¿™é‡Œvalineçš„ä¿®æ”¹ä¸»è¦æ˜¯ä¸€äº›å°æ ‡ç­¾ï¼ˆè®¿å®¢ï¼Œåšä¸»ç­‰ã€‚ï¼‰</p><p>å¯ä»¥å‚ç…§ï¼š<a href="https://blog.hclonely.com/posts/409d3090/#%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE%E5%8F%8A%E5%9B%BE%E6%A0%87">HCLonely Blogçš„ä¿®æ”¹æ•™ç¨‹</a></p><h3 id="åŒè¯„è®ºæ”¯æŒ"><a href="#åŒè¯„è®ºæ”¯æŒ" class="headerlink" title="åŒè¯„è®ºæ”¯æŒ"></a>åŒè¯„è®ºæ”¯æŒ</h3><p>3.0ä¸»é¢˜å·²ç»é›†æˆåŒè¯„è®ºã€‚å»ºè®®æ›´æ–°ä¸»é¢˜ä»¥å¼€å¯åŒè¯„è®ºï¼</p><p>åŒè¯„è®ºæ”¯æŒä¹Ÿæ˜¯æºäº<a href="https://blog.hclonely.com/posts/57bd67ce/#%E5%8F%8C%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F">HCLonely Blogçš„ä¿®æ”¹æ•™ç¨‹</a>,ä½†æ˜¯ä»–çš„æ•™ç¨‹éœ€è¦æ”¹åŠ¨ä¸‰ä¸ªpugæ¨¡æ¿ï¼Œå› æ­¤è¿™ç§åšæ³•å¯¹äºå‡çº§ä¸»é¢˜æ¥è¯´æˆæœ¬è¿˜æ˜¯æœ‰ç‚¹é«˜çš„ã€‚å› æ­¤æˆ‘çš„è§£å†³æ–¹æ¡ˆæœ€å¤§é™åº¦çš„å‡å°‘äº†æ›´æ”¹pugæ¨¡æ¿çš„æˆæœ¬ã€‚ä½†è¿˜æ˜¯éœ€è¦æ”¹åŠ¨pugæ¨¡æ¿çš„ã€‚</p><ol><li><p>ä¿®æ”¹pugæ¨¡æ¿</p><p> ä½ç½®ï¼š<code>\themes\Butterfly\layout\includes\comments\index.pug</code></p><p> ä¿®æ”¹å†…å®¹ï¼šå°†æ‰€æœ‰çš„ else if æ”¹ä¸º ifã€‚</p><p> <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvcGljYmVkQGxhdGVzdC8yMDIwLzA1LzA2LzRkNmVkMDY5NjA3NDcwZTMyYjVlN2U1NDgyYmI4NmRlLnBuZw?x-oss-process=image/format,png"></p></li><li><p>æ·»åŠ JSä»£ç </p><p> å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ è‡ªå·±åˆ›å»ºçš„JSæ–‡ä»¶ä¸­ã€‚</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">switchComment</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> t =</span><br><span class="line">      <span class="string">&quot;åˆ‡æ¢ä¸ºGitalk&quot;</span> === $(<span class="string">&quot;#switch-comment&quot;</span>).attr(<span class="string">&quot;title&quot;</span>)</span><br><span class="line">        ? <span class="string">&quot;åˆ‡æ¢ä¸ºValine&quot;</span></span><br><span class="line">        : <span class="string">&quot;åˆ‡æ¢ä¸ºGitalk&quot;</span>,</span><br><span class="line">    o = $(<span class="string">&quot;#switch-comment&gt;i&quot;</span>);</span><br><span class="line">  <span class="string">&quot;none&quot;</span> === $(<span class="string">&quot;#gitalk-container&quot;</span>).css(<span class="string">&quot;display&quot;</span>)</span><br><span class="line">    ? $(<span class="string">&quot;#vcomment&quot;</span>).slideUp(<span class="string">&quot;normal&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;#gitalk-container&quot;</span>).slideDown(<span class="string">&quot;normal&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          $(<span class="string">&quot;#switch-comment&quot;</span>).attr(<span class="string">&quot;title&quot;</span>, t),</span><br><span class="line">            o.hasClass(<span class="string">&quot;fa-toggle-off&quot;</span>)</span><br><span class="line">              ? o.removeClass(<span class="string">&quot;fa-toggle-off&quot;</span>).addClass(<span class="string">&quot;fa-toggle-on&quot;</span>)</span><br><span class="line">              : o.removeClass(<span class="string">&quot;fa-toggle-on&quot;</span>).addClass(<span class="string">&quot;fa-toggle-off&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    : $(<span class="string">&quot;#gitalk-container&quot;</span>).slideUp(<span class="string">&quot;normal&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;#vcomment&quot;</span>).slideDown(<span class="string">&quot;normal&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          $(<span class="string">&quot;#switch-comment&quot;</span>).attr(<span class="string">&quot;title&quot;</span>, t),</span><br><span class="line">            o.hasClass(<span class="string">&quot;fa-toggle-off&quot;</span>)</span><br><span class="line">              ? o.removeClass(<span class="string">&quot;fa-toggle-off&quot;</span>).addClass(<span class="string">&quot;fa-toggle-on&quot;</span>)</span><br><span class="line">              : o.removeClass(<span class="string">&quot;fa-toggle-on&quot;</span>).addClass(<span class="string">&quot;fa-toggle-off&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> commentElement = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;comment_headling&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span> (commentElement != <span class="literal">undefined</span>) &#123;</span><br><span class="line">  commentElement.innerHTML +=</span><br><span class="line">    <span class="string">&#x27;&lt;a id=&quot;switch-comment&quot; href=&quot;javascript:void(0);&quot; title=&quot;åˆ‡æ¢ä¸ºGitalk&quot; target=&quot;_self&quot;&gt;&lt;i class=&quot;fa fas fa-toggle-off&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;gitalk-container&quot;</span>).style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;#switch-comment&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> switchComment(), !<span class="number">1</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>è¿™ä¸ªjsè„šæœ¬ä¹Ÿæä¾›ç°æˆçš„é“¾æ¥ï¼Œ<a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/switch.min.js">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/switch.min.js</a></p></blockquote><p>è‡³æ­¤å³å¯å®ŒæˆåŒè¯„è®ºçš„ä¿®æ”¹ï¼Œåªä¿®æ”¹<code>else if</code>ä¸º<code>if</code>æ˜¯ä¸æ˜¯æ¯”ä¿®æ”¹ä¸‰å¤„pugæ¨¡æ¿ç®€å•å¤šäº†ã€‚<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2Jsb2dpbWcvZW1vdGlvbi9iaWxpYmlsaS9mYWNlXyVFNSU5MCU4MyVFNyU5MyU5Qy5wbmc?x-oss-process=image/format,png" alt="åƒç“œ-å°åº·åšå®¢"></p><h3 id="Valineè¯„è®ºæ·»åŠ è¡¨æƒ…"><a href="#Valineè¯„è®ºæ·»åŠ è¡¨æƒ…" class="headerlink" title="Valineè¯„è®ºæ·»åŠ è¡¨æƒ…"></a>Valineè¯„è®ºæ·»åŠ è¡¨æƒ…</h3><p>å‚è€ƒ<a href="https://www.antmoe.com/posts/284f2e1c/index.html">Valineå¦‚ä½•æ·»åŠ å¤šä¸ªè¡¨æƒ…</a></p><h3 id="Valienè¯„è®ºQQã€å¾®ä¿¡æé†’"><a href="#Valienè¯„è®ºQQã€å¾®ä¿¡æé†’" class="headerlink" title="Valienè¯„è®ºQQã€å¾®ä¿¡æé†’"></a>Valienè¯„è®ºQQã€å¾®ä¿¡æé†’</h3><p>ä¸¤ä»½æ–¹æ¡ˆä»»é€‰å…¶ä¸€å³å¯ã€‚</p><p><a href="https://www.antmoe.com/posts/2380732b/index.html">Hexoåšå®¢valineè¯„è®ºå¾®ä¿¡ã€qqæé†’</a>ä¸<a href="https://blog.hclonely.com/posts/409d3090/#%E8%AF%84%E8%AE%BA%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5%E5%8F%8Aqq%E9%80%9A%E7%9F%A5">è¯„è®ºå¾®ä¿¡é€šçŸ¥åŠqqé€šçŸ¥</a></p><h2 id="åœ¨çº¿cssæä¾›"><a href="#åœ¨çº¿cssæä¾›" class="headerlink" title="åœ¨çº¿cssæä¾›"></a>åœ¨çº¿cssæä¾›</h2><p>ä»¥ä¸‹é“¾æ¥ä¸å®Œæ•´ï¼Œæ›´å¤šé“¾æ¥è¯·åˆ°æˆ‘çš„<a href="https://github.com/sviptzk/HexoStaticFile">ä»“åº“</a>è‡ªè¡Œå¯»è§…ï¼</p><ul><li><p>èƒŒæ™¯ã€æ»šåŠ¨æ¡ã€é¼ æ ‡ä¸‰åˆä¸€</p><p>  èƒŒæ™¯é¢œè‰²åŠé¼ æ ‡ä¸å•ç‹¬æä¾›ï¼Œå¦‚éœ€å•ç‹¬å¯åŠ¨ï¼Œè¯·è‡ªè¡Œåˆ›å»ºcsså¹¶å¼•ç”¨</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/custom.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/custom.min.css</a></p></li><li><p>å•ç‹¬é¡µè„šæ¸å˜</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/footer.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/footer.min.css</a></p></li><li><p>å‹é“¾é¡µé¢css</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/flink.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/flink.min.css</a></p></li><li><p>å¤šç§æŒ‰é’®</p><p>  <a href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/buttons.min.css">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/buttons.min.css</a></p></li></ul><h2 id="é‡åˆ°é—®é¢˜"><a href="#é‡åˆ°é—®é¢˜" class="headerlink" title="é‡åˆ°é—®é¢˜"></a>é‡åˆ°é—®é¢˜</h2><p>å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ä¾‹å¦‚ï¼šä¿®æ”¹å®Œæˆåæ ·å¼ä¸å¯¹ã€ç¼ºå°‘æ–‡ä»¶ï¼ˆå†™æ–‡ç« æ—¶å¯èƒ½å¿˜è®°åŠ ä¸Šï¼‰ç­‰é—®é¢˜å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€æˆ–è€…å°†é—®é¢˜å‘é€åˆ°æˆ‘çš„é‚®ç®±ã€‚æˆ‘ä¼šåœ¨ç¬¬ä¸€æ—¶é—´å†…å¸®åŠ©è§£å†³é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒè¿›åˆ¶çš„åŠ å‡ä¹˜é™¤æ³•</title>
      <link href="c621463b2578.html"/>
      <url>c621463b2578.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€äºŒè¿›åˆ¶åŠ æ³•"><a href="#ä¸€ã€äºŒè¿›åˆ¶åŠ æ³•" class="headerlink" title="ä¸€ã€äºŒè¿›åˆ¶åŠ æ³•"></a>ä¸€ã€<a href="https://so.csdn.net/so/search?q=%E4%BA%8C%E8%BF%9B%E5%88%B6&spm=1001.2101.3001.7020">äºŒè¿›åˆ¶</a>åŠ æ³•</h1><p>å¯¹äºäºŒè¿›åˆ¶åŠ æ³•å’Œå<a href="https://so.csdn.net/so/search?q=%E8%BF%9B%E5%88%B6&spm=1001.2101.3001.7020">è¿›åˆ¶</a>çš„åŠ æ³•æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å‰è€…é€¢2è¿›1ï¼Œåè€…é€¢10è¿›1ã€‚</p><p>æˆ‘ä»¬ä»¥0111+1110ä¸ºä¾‹ï¼š<br><img src="https://img-blog.csdnimg.cn/6e98ce3844fe4e0b84d1c9841446a7f2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaI5aaI6K-05oiR5pyJ5YmN6YCU,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="äºŒã€äºŒè¿›åˆ¶å‡æ³•"><a href="#äºŒã€äºŒè¿›åˆ¶å‡æ³•" class="headerlink" title="äºŒã€äºŒè¿›åˆ¶å‡æ³•"></a>äºŒã€äºŒè¿›åˆ¶å‡æ³•</h1><p><img src="https://img-blog.csdnimg.cn/4897d44786eb47e7b48926d3e7261f35.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaI5aaI6K-05oiR5pyJ5YmN6YCU,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="ä¸‰ã€äºŒè¿›åˆ¶ä¹˜æ³•"><a href="#ä¸‰ã€äºŒè¿›åˆ¶ä¹˜æ³•" class="headerlink" title="ä¸‰ã€äºŒè¿›åˆ¶ä¹˜æ³•"></a>ä¸‰ã€äºŒè¿›åˆ¶ä¹˜æ³•</h1><p>äºŒè¿›åˆ¶ä¹˜æ³•éœ€è¦å…ˆæ¶ˆåŒ–ä¸€ä¸‹äºŒè¿›åˆ¶åŠ æ³•ï¼Œè¿™æ ·ä¼šæ›´å¥½ä¸€ç‚¹ã€‚<br><img src="https://img-blog.csdnimg.cn/a7431fce80484cc3bdba4cf9c99a9e6d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaI5aaI6K-05oiR5pyJ5YmN6YCU,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="å››ã€äºŒè¿›åˆ¶é™¤æ³•"><a href="#å››ã€äºŒè¿›åˆ¶é™¤æ³•" class="headerlink" title="å››ã€äºŒè¿›åˆ¶é™¤æ³•"></a>å››ã€äºŒè¿›åˆ¶é™¤æ³•</h1><p><img src="https://img-blog.csdnimg.cn/348e25ea3f9e4cd88268a48b56ec9acd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaI5aaI6K-05oiR5pyJ5YmN6YCU,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>äºŒè¿›åˆ¶çš„è¿ç®—å’Œåè¿›åˆ¶æ˜¯ä¸€å›äº‹ï¼Œåªè¦è®°ä½ä¸€å¥è¯å°±å¯ï¼š<br>äºŒè¿›åˆ¶ä¸­ï¼Œè¿›ä½ã€å€Ÿä½æ—¶2ä¸ºå•ä½ã€‚<br>åè¿›åˆ¶ä¸­ä»¥10ä¸ºå•ä½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äºŒè¿›åˆ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitLab+Jenkinså®ç°æŒç»­é›†æˆ+è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆè½¬è½½ï¼‰</title>
      <link href="d564cbe68145.html"/>
      <url>d564cbe68145.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€-è‡ªåŠ¨åŒ–ä¸Šçº¿ä»£ç åŸºæœ¬ä»‹ç»"><a href="#ä¸€-è‡ªåŠ¨åŒ–ä¸Šçº¿ä»£ç åŸºæœ¬ä»‹ç»" class="headerlink" title="ä¸€.è‡ªåŠ¨åŒ–ä¸Šçº¿ä»£ç åŸºæœ¬ä»‹ç»"></a>ä¸€.è‡ªåŠ¨åŒ–ä¸Šçº¿ä»£ç åŸºæœ¬ä»‹ç»</h1><h4 id="1-è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸ"><a href="#1-è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸ"></a>1.è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸ</h4><p>è€æ¿åˆ›æ„â€”äº§å“ç»ç†â€”ç«‹é¡¹â€”å¼€å‘å›¢é˜Ÿâ€”æµ‹è¯•å›¢é˜Ÿ(é»‘ç™½ç›’)â€”è¿ç»´ä¸Šçº¿<br>äº§å“ç»ç†â€”åŠ éœ€æ±‚â€”å¼€å‘å›¢é˜Ÿâ€”æµ‹è¯•å›¢é˜Ÿâ€”è¿ç»´æ›´æ–°ä»£ç ä¸Šçº¿</p><h4 id="2-ä»€ä¹ˆæ˜¯ç¯å¢ƒï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯ç¯å¢ƒï¼Ÿ" class="headerlink" title="2.ä»€ä¹ˆæ˜¯ç¯å¢ƒï¼Ÿ"></a>2.ä»€ä¹ˆæ˜¯ç¯å¢ƒï¼Ÿ</h4><p>å¼€å‘ç¯å¢ƒï¼šå¼€å‘è‡ªå·±ç”¨çš„ç”µè„‘æœ¬åœ°è‡ªå·±è£…çš„php pythonçš„å¼€å‘å·¥å…·ç­‰ã€‚<br>æµ‹è¯•ç¯å¢ƒï¼šå¤šä¸ªäººçš„ä»£ç åˆèµ·æ¥è·‘ä¸€éï¼Œè¿è¡Œä¸€æ¬¡ï¼Œæµ‹è¯•mysql redisç­‰ã€‚<br>é¢„å‘å¸ƒç¯å¢ƒï¼šç›´æ¥è¿æ¥çº¿ä¸Šæ•°æ®åº“ï¼Œä¸“é—¨çš„æµ‹è¯•åŸŸåå°èŒƒå›´å†…æµ‹è¯•ã€‚<br>ç”Ÿäº§ç¯å¢ƒï¼šçº¿ä¸Šç¯å¢ƒ æ¯ä¸ªé¡¹ç›®ä¸€å¥—ç¯å¢ƒ (çº¿ä¸‹å¯ä»¥æ”¾ä¸€èµ·é…å¤šåŸŸå çº¿ä¸Šä¸è¡Œ)ã€‚</p><h4 id="3-ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ-CI-ï¼Ÿ"><a href="#3-ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ-CI-ï¼Ÿ" class="headerlink" title="3.ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ(CI)ï¼Ÿ"></a>3.ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ(CI)ï¼Ÿ</h4><p>æ¯å¤©éƒ½è¿›è¡Œä¸€æ¬¡ä»£ç åˆå¹¶ï¼Œå°±æ˜¯æŒç»­é›†æˆã€‚<br>å¤šä¸ªå¼€å‘å†™çš„ä»£ç  é›†ä¸­èµ·æ¥ç®¡ç† æ”¾åˆ°ä»£ç åº“é‡Œ (ç‰ˆæœ¬æ§åˆ¶ç®¡ç†è½¯ä»¶)ä»£ç åº“å·¥å…·ï¼šsvn git(å¤š) ã€‚ï¼ˆç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼šç±»ä¼¼äºå¿«ç…§çš„å¢é‡å¤‡ä»½çš„æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€æ¬¡ç‰ˆæœ¬æ›´æ–°ï¼Œéƒ½ä¼šåœ¨åŸæ¥çš„åŸºç¡€ä¸Šä¿ç•™å˜åŒ–çš„å†…å®¹ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¹‹å‰çš„ç‰ˆæœ¬ä¹Ÿä¼šè¢«ä¿ç•™ï¼Œä»¥ä¾¿å¿«é€Ÿå›æ»šã€‚ï¼‰<br>æ¯å¤©éƒ½è¦åšä»£ç åˆå¹¶ï¼Œé˜²æ­¢å†²çªï¼Œåœ¨åˆå¹¶çš„æ—¶å€™ä¼šäº§ç”Ÿå†²çªï¼Œæ‰€ä»¥æäº¤çš„æ—¶å€™æœ‰å…ˆåé¡ºåºï¼Œå°±æ˜¯ä½ å…ˆä¸Šä¼ ï¼Œç„¶åæˆ‘æŠŠä½ ä¸Šä¼ çš„æ‹‰è¿‡æ¥å’Œæˆ‘çš„è¿›è¡Œåˆå¹¶ï¼Œæ’é™¤å†²çªï¼Œç„¶åæˆ‘åœ¨ä¸Šä¼ åˆ°ä¸»åˆ†æ”¯ã€‚æŒç»­é›†æˆæ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šå¸¸æ¯ä¸ªæˆå‘˜è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ã€å‘å¸ƒã€è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½å¿«åœ°å‘ç°é›†æˆé”™è¯¯ã€‚è®¸å¤šå›¢é˜Ÿå‘ç°è¿™ä¸ªè¿‡ç¨‹å¯ä»¥å¤§å¤§å‡å°‘é›†æˆçš„é—®é¢˜ï¼Œè®©å›¢é˜Ÿèƒ½å¤Ÿæ›´å¿«çš„å¼€å‘å†…èšçš„è½¯ä»¶ã€‚</p><h4 id="4-ä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ï¼Ÿ"><a href="#4-ä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ï¼Ÿ" class="headerlink" title="4.ä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ï¼Ÿ"></a>4.ä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ï¼Ÿ</h4><p>å¼€å‘é¦–å…ˆè¿›è¡Œå•å…ƒæµ‹è¯•â€”æœ€åæŠŠæ‰€æœ‰ä»£ç æ”¾ä¸€èµ·è¿›è¡Œæµ‹è¯•â€”ä»£ç è´¨é‡æ£€æŸ¥ã€‚</p><h4 id="5-ä»€ä¹ˆæ˜¯æŒç»­éƒ¨ç½²ï¼Ÿ"><a href="#5-ä»€ä¹ˆæ˜¯æŒç»­éƒ¨ç½²ï¼Ÿ" class="headerlink" title="5.ä»€ä¹ˆæ˜¯æŒç»­éƒ¨ç½²ï¼Ÿ"></a>5.ä»€ä¹ˆæ˜¯æŒç»­éƒ¨ç½²ï¼Ÿ</h4><p>é¢‘ç¹çš„ä»£ç ä¸Šçº¿å°±æ˜¯æŒç»­éƒ¨ç½²ã€‚</p><h4 id="6-æ²¡æœ‰æŒç»­é›†æˆ"><a href="#6-æ²¡æœ‰æŒç»­é›†æˆ" class="headerlink" title="6.æ²¡æœ‰æŒç»­é›†æˆ"></a>6.æ²¡æœ‰æŒç»­é›†æˆ</h4><p>é¡¹ç›®åšæ¨¡å—é›†æˆçš„æ—¶å€™ï¼Œå‘ç°å¾ˆå¤šæ¥å£éƒ½ä¸é€š==&gt;æµªè´¹å¤§é‡æ—¶é—´<br>éœ€è¦æ‰‹åŠ¨å»ç¼–è¯‘æ‰“åŒ…æœ€æ–°çš„ä»£ç ==&gt;æ„å»ºè¿‡ç¨‹ä¸é€æ˜<br>å‘å¸ƒä»£ç ï¼Œä¸Šçº¿ï¼ŒåŸºæœ¬é æ‰‹å·¥==&gt;è„šæœ¬ä¹±é£</p><h4 id="7-æŒç»­é›†æˆæœ€ä½³å®è·µ"><a href="#7-æŒç»­é›†æˆæœ€ä½³å®è·µ" class="headerlink" title="7.æŒç»­é›†æˆæœ€ä½³å®è·µ"></a>7.æŒç»­é›†æˆæœ€ä½³å®è·µ</h4><p>ç»´æŠ¤ä¸€ä¸ªå•ä¸€çš„ä»£ç åº“<br>ä½¿æ„å»ºè‡ªåŠ¨åŒ–<br>æ‰§è¡Œæµ‹è¯•æ˜¯æ„å»ºçš„ä¸€éƒ¨åˆ†<br>é›†æˆæ—¥å¿—åŠå†å²è®°å½•<br>ä½¿ç”¨ç»Ÿä¸€çš„ä¾èµ–åŒ…ç®¡ç†åº“<br>æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡</p><h1 id="äºŒ-jenkinsåŸºç¡€ä½¿ç”¨"><a href="#äºŒ-jenkinsåŸºç¡€ä½¿ç”¨" class="headerlink" title="äºŒ.jenkinsåŸºç¡€ä½¿ç”¨"></a>äºŒ.jenkinsåŸºç¡€ä½¿ç”¨</h1><p>è¯´æ˜ï¼šå¦‚ä½•å®‰è£…Jenkinsè¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://www.jianshu.com/p/343bdd43c82a">https://www.jianshu.com/p/343bdd43c82a</a><br>è¿™é‡Œå°±çœç•¥å®‰è£…ã€‚</p><h6 id="1-ç™»å½•Jenkins-webUIç•Œé¢åˆ›å»ºä¸€ä¸ªé¡¹ç›®"><a href="#1-ç™»å½•Jenkins-webUIç•Œé¢åˆ›å»ºä¸€ä¸ªé¡¹ç›®" class="headerlink" title="1.ç™»å½•Jenkins webUIç•Œé¢åˆ›å»ºä¸€ä¸ªé¡¹ç›®"></a>1.ç™»å½•Jenkins webUIç•Œé¢åˆ›å»ºä¸€ä¸ªé¡¹ç›®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-a287d2ba7cc58975.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="2-è¾“å…¥é¡¹ç›®åç§°-free-job-å¹¶é€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®"><a href="#2-è¾“å…¥é¡¹ç›®åç§°-free-job-å¹¶é€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®" class="headerlink" title="2.è¾“å…¥é¡¹ç›®åç§°(free-job)å¹¶é€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®"></a>2.è¾“å…¥é¡¹ç›®åç§°(free-job)å¹¶é€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-2adb0148c5a8f6ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-ä¸Šé¢åˆ›å»ºå®Œæˆåè·³è½¬è¿›æ¥åè¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ä¸¢å¼ƒæ—§çš„æ„å»ºï¼ˆä¸‹é¢ä¿æŒå¤©æ•°ä¸€èˆ¬åœ¨5-7å¤©å³å¯ï¼‰"><a href="#3-ä¸Šé¢åˆ›å»ºå®Œæˆåè·³è½¬è¿›æ¥åè¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ä¸¢å¼ƒæ—§çš„æ„å»ºï¼ˆä¸‹é¢ä¿æŒå¤©æ•°ä¸€èˆ¬åœ¨5-7å¤©å³å¯ï¼‰" class="headerlink" title="3.ä¸Šé¢åˆ›å»ºå®Œæˆåè·³è½¬è¿›æ¥åè¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ä¸¢å¼ƒæ—§çš„æ„å»ºï¼ˆä¸‹é¢ä¿æŒå¤©æ•°ä¸€èˆ¬åœ¨5~7å¤©å³å¯ï¼‰"></a>3.ä¸Šé¢åˆ›å»ºå®Œæˆåè·³è½¬è¿›æ¥åè¿›è¡Œé…ç½®ï¼Œé€‰æ‹©ä¸¢å¼ƒæ—§çš„æ„å»ºï¼ˆä¸‹é¢ä¿æŒå¤©æ•°ä¸€èˆ¬åœ¨5~7å¤©å³å¯ï¼‰</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-3935302285e0b972.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-æ¥ç€ä¸Šé¢é€‰æ‹©æ„å»ºï¼Œç„¶åé€‰æ‹©Execute-Shell-æ¥æ‰§è¡Œshellå‘½ä»¤"><a href="#4-æ¥ç€ä¸Šé¢é€‰æ‹©æ„å»ºï¼Œç„¶åé€‰æ‹©Execute-Shell-æ¥æ‰§è¡Œshellå‘½ä»¤" class="headerlink" title="4.æ¥ç€ä¸Šé¢é€‰æ‹©æ„å»ºï¼Œç„¶åé€‰æ‹©Execute Shell æ¥æ‰§è¡Œshellå‘½ä»¤"></a>4.æ¥ç€ä¸Šé¢é€‰æ‹©æ„å»ºï¼Œç„¶åé€‰æ‹©Execute Shell æ¥æ‰§è¡Œshellå‘½ä»¤</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-a4d7a122be4c7a6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªpwdï¼Œçœ‹ä¸‹é»˜è®¤çš„å·¥ä½œç›®å½•åœ¨å“ªé‡Œ"><a href="#5-æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªpwdï¼Œçœ‹ä¸‹é»˜è®¤çš„å·¥ä½œç›®å½•åœ¨å“ªé‡Œ" class="headerlink" title="5.æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªpwdï¼Œçœ‹ä¸‹é»˜è®¤çš„å·¥ä½œç›®å½•åœ¨å“ªé‡Œ"></a>5.æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªpwdï¼Œçœ‹ä¸‹é»˜è®¤çš„å·¥ä½œç›®å½•åœ¨å“ªé‡Œ</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-01056822b249c761.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="6-ä¸Šé¢ä¿å­˜åç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šåœ¨ä¸‹é¢ç”Ÿæˆä¸€ä¸ªbuild-historyï¼Œï¼ˆå‡ºç°è“è‰²å³è¡¨ç¤ºæ­£å¸¸ï¼Œè‹¥çº¢è‰²å³è¡¨ç¤ºæœ‰é—®é¢˜"><a href="#6-ä¸Šé¢ä¿å­˜åç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šåœ¨ä¸‹é¢ç”Ÿæˆä¸€ä¸ªbuild-historyï¼Œï¼ˆå‡ºç°è“è‰²å³è¡¨ç¤ºæ­£å¸¸ï¼Œè‹¥çº¢è‰²å³è¡¨ç¤ºæœ‰é—®é¢˜" class="headerlink" title="6.ä¸Šé¢ä¿å­˜åç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šåœ¨ä¸‹é¢ç”Ÿæˆä¸€ä¸ªbuild historyï¼Œï¼ˆå‡ºç°è“è‰²å³è¡¨ç¤ºæ­£å¸¸ï¼Œè‹¥çº¢è‰²å³è¡¨ç¤ºæœ‰é—®é¢˜)"></a>6.ä¸Šé¢ä¿å­˜åç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šåœ¨ä¸‹é¢ç”Ÿæˆä¸€ä¸ªbuild historyï¼Œï¼ˆå‡ºç°è“è‰²å³è¡¨ç¤ºæ­£å¸¸ï¼Œè‹¥çº¢è‰²å³è¡¨ç¤ºæœ‰é—®é¢˜)</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-4e05999c5800be4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="7-æ„å»ºå®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»build-IDä¸‹æ‹‰æ¡†é€‰æ‹©Console-Output-æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯"><a href="#7-æ„å»ºå®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»build-IDä¸‹æ‹‰æ¡†é€‰æ‹©Console-Output-æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯" class="headerlink" title="7.æ„å»ºå®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»build IDä¸‹æ‹‰æ¡†é€‰æ‹©Console Output æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯"></a>7.æ„å»ºå®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»build IDä¸‹æ‹‰æ¡†é€‰æ‹©Console Output æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-f3263514aaf2605f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="8-é€šè¿‡è¾“å‡ºä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Jenkinsé»˜è®¤çš„å·¥ä½œç›®å½•åœ¨-root-jenkins-workspace-é¡¹ç›®åç§°"><a href="#8-é€šè¿‡è¾“å‡ºä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Jenkinsé»˜è®¤çš„å·¥ä½œç›®å½•åœ¨-root-jenkins-workspace-é¡¹ç›®åç§°" class="headerlink" title="8.é€šè¿‡è¾“å‡ºä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Jenkinsé»˜è®¤çš„å·¥ä½œç›®å½•åœ¨ /root/.jenkins/workspace/(é¡¹ç›®åç§°)"></a>8.é€šè¿‡è¾“å‡ºä¿¡æ¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Jenkinsé»˜è®¤çš„å·¥ä½œç›®å½•åœ¨ /root/.jenkins/workspace/(é¡¹ç›®åç§°)</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-9b36f97427b2c201.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="9-æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¯•è¯•ï¼›è¿”å›å·¥ä½œå°ï¼Œç‚¹å‡»é…ç½®"><a href="#9-æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¯•è¯•ï¼›è¿”å›å·¥ä½œå°ï¼Œç‚¹å‡»é…ç½®" class="headerlink" title="9.æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¯•è¯•ï¼›è¿”å›å·¥ä½œå°ï¼Œç‚¹å‡»é…ç½®"></a>9.æ—¢ç„¶èƒ½æ‰§è¡Œshellå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¯•è¯•ï¼›è¿”å›å·¥ä½œå°ï¼Œç‚¹å‡»é…ç½®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-1f152a1b8ee32f9e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="10-åˆ›å»ºä¸€ä¸ªfree-txtæ–‡ä»¶å¹¶ä¿å­˜"><a href="#10-åˆ›å»ºä¸€ä¸ªfree-txtæ–‡ä»¶å¹¶ä¿å­˜" class="headerlink" title="10.åˆ›å»ºä¸€ä¸ªfree.txtæ–‡ä»¶å¹¶ä¿å­˜"></a>10.åˆ›å»ºä¸€ä¸ªfree.txtæ–‡ä»¶å¹¶ä¿å­˜</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-5db1e86e782071f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="11-åŒä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬ç‚¹å‡»ç«‹å³æ„å»º"><a href="#11-åŒä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬ç‚¹å‡»ç«‹å³æ„å»º" class="headerlink" title="11.åŒä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬ç‚¹å‡»ç«‹å³æ„å»º"></a>11.åŒä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬ç‚¹å‡»ç«‹å³æ„å»º</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-e2988a3a78150fd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="12-åŒæ ·æŸ¥çœ‹æ„å»ºåçš„æ§åˆ¶å°è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ„å»ºæˆåŠŸ"><a href="#12-åŒæ ·æŸ¥çœ‹æ„å»ºåçš„æ§åˆ¶å°è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ„å»ºæˆåŠŸ" class="headerlink" title="12.åŒæ ·æŸ¥çœ‹æ„å»ºåçš„æ§åˆ¶å°è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ„å»ºæˆåŠŸ"></a>12.åŒæ ·æŸ¥çœ‹æ„å»ºåçš„æ§åˆ¶å°è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ„å»ºæˆåŠŸ</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-d2676c3d8845048d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="13-æ—¢ç„¶æ„å»ºæˆåŠŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥æœåŠ¡å™¨è¿›è¡ŒéªŒè¯æ˜¯å¦åˆ›å»ºæˆåŠŸ"><a href="#13-æ—¢ç„¶æ„å»ºæˆåŠŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥æœåŠ¡å™¨è¿›è¡ŒéªŒè¯æ˜¯å¦åˆ›å»ºæˆåŠŸ" class="headerlink" title="13.æ—¢ç„¶æ„å»ºæˆåŠŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥æœåŠ¡å™¨è¿›è¡ŒéªŒè¯æ˜¯å¦åˆ›å»ºæˆåŠŸ"></a>13.æ—¢ç„¶æ„å»ºæˆåŠŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›å…¥æœåŠ¡å™¨è¿›è¡ŒéªŒè¯æ˜¯å¦åˆ›å»ºæˆåŠŸ</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="meta"># cd /var/lib/jenkins/workspace/free-job/</span></span><br><span class="line">[root@jenkins /var/lib/jenkins/workspace/<span class="built_in">free</span>-job]<span class="meta"># ls</span></span><br><span class="line"><span class="built_in">free</span>.txt</span><br></pre></td></tr></table></figure><h1 id="ä¸‰-GitLab-Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²åŠæ›´æ–°"><a href="#ä¸‰-GitLab-Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²åŠæ›´æ–°" class="headerlink" title="ä¸‰.GitLab+Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²åŠæ›´æ–°"></a>ä¸‰.GitLab+Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²åŠæ›´æ–°</h1><p><strong>æµç¨‹å›¾å¦‚ä¸‹ï¼š</strong>  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-834f444e13df92e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1067/format/webp"></p><p>è¯´æ˜ï¼šé€šè¿‡gitlab+Jenkinså®ç°ä»£ç çš„è‡ªåŠ¨æ›´æ–°åŒæ­¥ä»£ç åˆ°webæœåŠ¡å™¨ç«™ç‚¹ç›®å½•ã€‚æ­¤å¤„ç¤ºä¾‹åç«¯webæœåŠ¡å™¨ä½¿ç”¨nginxã€‚<br><strong>ç¯å¢ƒè§„åˆ’ä»¥åŠipåˆ†é…å¦‚ä¸‹è¡¨ï¼š</strong>  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-fb6ed0a0bc780d1a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/348/format/webp"></p><p>æ³¨æ„ï¼šå¼€å‘ç¯å¢ƒè¿™é‡Œç›´æ¥æ”¾åœ¨gitlabæœåŠ¡å™¨ä¸Šè¿™é‡Œå°†gitä¹Ÿéƒ¨ç½²åœ¨gitlabæœåŠ¡å™¨ä¸Šã€‚gitåŸºæœ¬ä½¿ç”¨è¯·å‚è€ƒï¼š<a href="https://www.jianshu.com/p/96c4a6d0c587">https://www.jianshu.com/p/96c4a6d0c587</a></p><h4 id="3-1gitlab-é…ç½®"><a href="#3-1gitlab-é…ç½®" class="headerlink" title="3.1gitlab é…ç½®"></a>3.1gitlab é…ç½®</h4><p>è¯´æ˜ï¼šé¦–å…ˆåœ¨gitlabä¸Šé¢åˆ›å»ºä¸€ä¸ªç¾¤ç»„ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå°†ä»£ç push åˆ°ä»£ç ä»“åº“ä¸­ï¼ˆé¡¹ç›®ï¼‰ã€‚åˆ›å»ºä¸€ä¸ªå¼€å‘ç”¨æˆ·ï¼ˆç”¨äºæäº¤ä»£ç ç­‰ï¼‰ï¼ŒåŒæ—¶åœ¨JenkinsæœåŠ¡å™¨ä¸Šé¢ç”Ÿæˆsshç§˜é’¥å¹¶å°†keyæ·»åŠ åˆ°æ–°å»ºç”¨æˆ·çš„sshè®¤è¯ä¸‹é¢ã€‚</p><h6 id="1-ç™»å½•gitlabç‚¹å‡»é¡¹ç›®ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä¸€ä¸ªç¾¤ç»„"><a href="#1-ç™»å½•gitlabç‚¹å‡»é¡¹ç›®ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä¸€ä¸ªç¾¤ç»„" class="headerlink" title="1.ç™»å½•gitlabç‚¹å‡»é¡¹ç›®ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä¸€ä¸ªç¾¤ç»„"></a>1.ç™»å½•gitlabç‚¹å‡»é¡¹ç›®ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä¸€ä¸ªç¾¤ç»„</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-9c5feed5943c278e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="2-ç‚¹å‡»æ–°å»ºç¾¤ç»„"><a href="#2-ç‚¹å‡»æ–°å»ºç¾¤ç»„" class="headerlink" title="2.ç‚¹å‡»æ–°å»ºç¾¤ç»„"></a>2.ç‚¹å‡»æ–°å»ºç¾¤ç»„</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-9d45f29e57affb83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-è¾“å…¥æ–°å»ºç¾¤ç»„çš„ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»º"><a href="#3-è¾“å…¥æ–°å»ºç¾¤ç»„çš„ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»º" class="headerlink" title="3.è¾“å…¥æ–°å»ºç¾¤ç»„çš„ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»º"></a>3.è¾“å…¥æ–°å»ºç¾¤ç»„çš„ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»º</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-7328687ce393e424.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-cf5a88ead554872b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-29416ea87d2b2928.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-æ–°å»ºä¸€ä¸ªé¡¹ç›®"><a href="#4-æ–°å»ºä¸€ä¸ªé¡¹ç›®" class="headerlink" title="4.æ–°å»ºä¸€ä¸ªé¡¹ç›®"></a>4.æ–°å»ºä¸€ä¸ªé¡¹ç›®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-76caee6af95d3769.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-a3f535c71eaf882f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-f90bab31319fd9dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-è®¾ç½®ç§˜é’¥"><a href="#5-è®¾ç½®ç§˜é’¥" class="headerlink" title="5.è®¾ç½®ç§˜é’¥"></a>5.è®¾ç½®ç§˜é’¥</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@gitlab ~</span>]<span class="meta"># ssh-keygen -t rsa</span></span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa key pair.</span><br><span class="line"><span class="function">Enter file <span class="keyword">in</span> which to save the <span class="title">key</span> (<span class="params">/root/.ssh/id_rsa</span>): </span></span><br><span class="line"><span class="function">Created directory &#x27;/root/.ssh&#x27;.</span></span><br><span class="line"><span class="function">Enter <span class="title">passphrase</span> (<span class="params">empty <span class="keyword">for</span> no passphrase</span>): </span></span><br><span class="line"><span class="function">Enter same passphrase again: </span></span><br><span class="line"><span class="function">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.</span></span><br><span class="line"><span class="function">Your <span class="keyword">public</span> key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.</span></span><br><span class="line"><span class="function">The key fingerprint <span class="keyword">is</span>:</span></span><br><span class="line"><span class="function">SHA256:WyI0C3MBpUdsAKQsDkEf99WmtCUvcXUoxWL+NgF2R0I root@gitlab</span></span><br><span class="line"><span class="function">The key&#x27;s randomart image <span class="keyword">is</span>:</span></span><br><span class="line"><span class="function">+---[RSA 2048]----+</span></span><br><span class="line"><span class="function">|ooooo*+  ..</span> =Eoo |</span><br><span class="line">|.o. oo+..+ @ +o. |</span><br><span class="line">|+. .+.=.. &amp; = .  |</span><br><span class="line">|+    * o + o .   |</span><br><span class="line">| .    o S o . .  |</span><br><span class="line">|       . +   +   |</span><br><span class="line">|        .   . .  |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">+----[SHA256]-----+</span><br><span class="line">[<span class="meta">root@gitlab ~</span>]<span class="meta"># cat .ssh/id_rsa.pub </span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDnnyT5IRLN2AzknCPE3pLnLhH0Vq6jGJsYsjDaLKBQNkBD4coTMW47PJpjxL/pjwyV9KaQ3BuEqam8jQlpaDYUQVBK++<span class="number">0</span>ALFAObGTyTPThRVKhW7X3kjSkInkwAZVj2dLdU0oIinzEuCjldhOe3BF2FYHRgcbnklEFIVpK3quTJbKxcF4h8SMbihRbXor0AIsOupWd0z2skqqvr4xSDNPAb4t+Ypd0MnGPRJYb8DTs+Ign+gn6L7a48RWqqIhBjVjgDLHiitMeEKA6FCS4cEHvcbHhXtrLswfF2ocA+mjfb5WGfP73d959fSPfvraRhhxXqBMqM309DmO3DGtS2e1j root@gitlab</span><br></pre></td></tr></table></figure><h6 id="6-å¡keyæ“ä½œï¼Œæ–¹ä¾¿æºç ä¸Šä¼ ä¸‹è½½"><a href="#6-å¡keyæ“ä½œï¼Œæ–¹ä¾¿æºç ä¸Šä¼ ä¸‹è½½" class="headerlink" title="6.å¡keyæ“ä½œï¼Œæ–¹ä¾¿æºç ä¸Šä¼ ä¸‹è½½"></a>6.å¡keyæ“ä½œï¼Œæ–¹ä¾¿æºç ä¸Šä¼ ä¸‹è½½</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-60ec72f29fad364e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="7-ç‚¹å‡»å¤´åƒæŸ¥çœ‹åˆ›å»ºé¡¹ç›®çš„ç»“æœ"><a href="#7-ç‚¹å‡»å¤´åƒæŸ¥çœ‹åˆ›å»ºé¡¹ç›®çš„ç»“æœ" class="headerlink" title="7.ç‚¹å‡»å¤´åƒæŸ¥çœ‹åˆ›å»ºé¡¹ç›®çš„ç»“æœ"></a>7.ç‚¹å‡»å¤´åƒæŸ¥çœ‹åˆ›å»ºé¡¹ç›®çš„ç»“æœ</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-2dc066a5f3995902.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-caf14bb024770513.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="8-æŸ¥çœ‹é¡¹ç›®æ ¹æ®æç¤ºé…ç½®åˆå§‹åŒ–"><a href="#8-æŸ¥çœ‹é¡¹ç›®æ ¹æ®æç¤ºé…ç½®åˆå§‹åŒ–" class="headerlink" title="8.æŸ¥çœ‹é¡¹ç›®æ ¹æ®æç¤ºé…ç½®åˆå§‹åŒ–"></a>8.æŸ¥çœ‹é¡¹ç›®æ ¹æ®æç¤ºé…ç½®åˆå§‹åŒ–</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-fef4277cd6f8e322.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-cb0b1b094c67aac0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="9-æ¨¡æ‹Ÿå¼€å‘å»ºç«‹gitæœ¬åœ°å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“"><a href="#9-æ¨¡æ‹Ÿå¼€å‘å»ºç«‹gitæœ¬åœ°å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“" class="headerlink" title="9.æ¨¡æ‹Ÿå¼€å‘å»ºç«‹gitæœ¬åœ°å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“"></a>9.æ¨¡æ‹Ÿå¼€å‘å»ºç«‹gitæœ¬åœ°å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#è¿™é‡Œçš„æºç ä½¿ç”¨çš„ç äº‘ä¸Šæºç ï¼Œä½ å¯ä»¥è‡ªè¡Œä¸‹è½½ä½¿ç”¨å³å¯ã€‚</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git config --global user.name &quot;Administrator&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git config --global user.email &quot;admin@example.com&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git init</span></span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /root/yiliaoqixie/.git/</span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git add .</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git commit -m &quot;ç¬¬ä¸€æ¬¡æäº¤é¡¹ç›®&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git remote add origin git@10.0.0.55:yiliao/yiliao.git</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git push -u origin --all</span></span><br></pre></td></tr></table></figure><h5 id="10-æŸ¥çœ‹ä¸Šä¼ çš„ç»“æœ"><a href="#10-æŸ¥çœ‹ä¸Šä¼ çš„ç»“æœ" class="headerlink" title="10.æŸ¥çœ‹ä¸Šä¼ çš„ç»“æœ"></a>10.æŸ¥çœ‹ä¸Šä¼ çš„ç»“æœ</h5><p><img src="//upload-images.jianshu.io/upload_images/19901269-f48caa199901c898.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="11-ç‚¹å‡»è®¾ç½®é€‰æ‹©æ–°å»ºç”¨æˆ·"><a href="#11-ç‚¹å‡»è®¾ç½®é€‰æ‹©æ–°å»ºç”¨æˆ·" class="headerlink" title="11.ç‚¹å‡»è®¾ç½®é€‰æ‹©æ–°å»ºç”¨æˆ·"></a>11.ç‚¹å‡»è®¾ç½®é€‰æ‹©æ–°å»ºç”¨æˆ·</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-bf376a1c2e0f11ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="12-è¾“å…¥è´¦å·ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»ºç”¨æˆ·"><a href="#12-è¾“å…¥è´¦å·ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»ºç”¨æˆ·" class="headerlink" title="12.è¾“å…¥è´¦å·ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»ºç”¨æˆ·"></a>12.è¾“å…¥è´¦å·ç›¸å…³ä¿¡æ¯å¹¶ç‚¹å‡»åˆ›å»ºç”¨æˆ·</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-01abf88d15a779f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-04d351fdec1043af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="13-ç‚¹å‡»ç¼–è¾‘ï¼Œä¸ºä¸Šé¢æ–°åˆ›å»ºçš„ç”¨æˆ·è®¾ç½®å¯†ç "><a href="#13-ç‚¹å‡»ç¼–è¾‘ï¼Œä¸ºä¸Šé¢æ–°åˆ›å»ºçš„ç”¨æˆ·è®¾ç½®å¯†ç " class="headerlink" title="13.ç‚¹å‡»ç¼–è¾‘ï¼Œä¸ºä¸Šé¢æ–°åˆ›å»ºçš„ç”¨æˆ·è®¾ç½®å¯†ç "></a>13.ç‚¹å‡»ç¼–è¾‘ï¼Œä¸ºä¸Šé¢æ–°åˆ›å»ºçš„ç”¨æˆ·è®¾ç½®å¯†ç </h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-0bdccd453ea8bdb9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="14-ç»™è¿™ä¸ªè´¦å·è®¾ç½®å¯†ç å¹¶ä¿å­˜"><a href="#14-ç»™è¿™ä¸ªè´¦å·è®¾ç½®å¯†ç å¹¶ä¿å­˜" class="headerlink" title="14.ç»™è¿™ä¸ªè´¦å·è®¾ç½®å¯†ç å¹¶ä¿å­˜"></a>14.ç»™è¿™ä¸ªè´¦å·è®¾ç½®å¯†ç å¹¶ä¿å­˜</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-7848ede10c6052aa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-decd77c763d152b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="15-å°†ä¸Šé¢åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ åˆ°devopsç»„ä¸­å¹¶ç»™ä¸å¼€å‘è€…æƒé™"><a href="#15-å°†ä¸Šé¢åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ åˆ°devopsç»„ä¸­å¹¶ç»™ä¸å¼€å‘è€…æƒé™" class="headerlink" title="15.å°†ä¸Šé¢åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ åˆ°devopsç»„ä¸­å¹¶ç»™ä¸å¼€å‘è€…æƒé™"></a>15.å°†ä¸Šé¢åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ åˆ°devopsç»„ä¸­å¹¶ç»™ä¸å¼€å‘è€…æƒé™</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-8ee57e9f62b3954f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="16-æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„devç”¨æˆ·å¹¶ç»™äºˆå¼€å‘äººå‘˜æƒé™ï¼Œç„¶åå¢åŠ ç”¨æˆ·åˆ°ç¾¤ç»„"><a href="#16-æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„devç”¨æˆ·å¹¶ç»™äºˆå¼€å‘äººå‘˜æƒé™ï¼Œç„¶åå¢åŠ ç”¨æˆ·åˆ°ç¾¤ç»„" class="headerlink" title="16.æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„devç”¨æˆ·å¹¶ç»™äºˆå¼€å‘äººå‘˜æƒé™ï¼Œç„¶åå¢åŠ ç”¨æˆ·åˆ°ç¾¤ç»„"></a>16.æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„devç”¨æˆ·å¹¶ç»™äºˆå¼€å‘äººå‘˜æƒé™ï¼Œç„¶åå¢åŠ ç”¨æˆ·åˆ°ç¾¤ç»„</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-1f58d023dcc17794.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h2 id="3-2Jenkinsé…ç½®"><a href="#3-2Jenkinsé…ç½®" class="headerlink" title="3.2Jenkinsé…ç½®"></a>3.2Jenkinsé…ç½®</h2><h6 id="1-åœ¨Jenkinsçš„æœåŠ¡å™¨ä¸Šç”Ÿæˆç§˜é’¥"><a href="#1-åœ¨Jenkinsçš„æœåŠ¡å™¨ä¸Šç”Ÿæˆç§˜é’¥" class="headerlink" title="1.åœ¨Jenkinsçš„æœåŠ¡å™¨ä¸Šç”Ÿæˆç§˜é’¥"></a>1.åœ¨Jenkinsçš„æœåŠ¡å™¨ä¸Šç”Ÿæˆç§˜é’¥</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@jenkins ~</span>]<span class="meta"># ssh-keygen -t rsa</span></span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa key pair.</span><br><span class="line"><span class="function">Enter file <span class="keyword">in</span> which to save the <span class="title">key</span> (<span class="params">/root/.ssh/id_rsa</span>): </span></span><br><span class="line"><span class="function">Created directory &#x27;/root/.ssh&#x27;.</span></span><br><span class="line"><span class="function">Enter <span class="title">passphrase</span> (<span class="params">empty <span class="keyword">for</span> no passphrase</span>): </span></span><br><span class="line"><span class="function">Enter same passphrase again: </span></span><br><span class="line"><span class="function">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.</span></span><br><span class="line"><span class="function">Your <span class="keyword">public</span> key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.</span></span><br><span class="line"><span class="function">The key fingerprint <span class="keyword">is</span>:</span></span><br><span class="line"><span class="function">SHA256:Y/nVt2+ldZc+h4VrsormDhSXKj3ryP/LlLkpIU95xjA root@jenkins</span></span><br><span class="line"><span class="function">The key&#x27;s randomart image <span class="keyword">is</span>:</span></span><br><span class="line"><span class="function">+---[RSA 2048]----+</span></span><br><span class="line"><span class="function">|                 |</span></span><br><span class="line"><span class="function">|         .       |</span></span><br><span class="line"><span class="function">|      . o        |</span></span><br><span class="line"><span class="function">|     .E+ .   .   |</span></span><br><span class="line"><span class="function">|    .</span> ==S   . ..o|</span><br><span class="line">|    .o+++= .  .oB|</span><br><span class="line">|     +o++ .   .B+|</span><br><span class="line">|   . oo+.+  . =o+|</span><br><span class="line">|    o.o*X....+ .+|</span><br><span class="line">+----[SHA256]-----+</span><br><span class="line">[<span class="meta">root@jenkins ~</span>]<span class="meta"># cat ./.ssh/id_rsa</span></span><br><span class="line">id_rsa      id_rsa.pub  </span><br><span class="line">[<span class="meta">root@jenkins ~</span>]<span class="meta"># cat ./.ssh/id_rsa.pub </span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCssc5KGRIvHV64Md3HR3SdT0w4twdrAIbxWSSo3tvfrauMdSk2ptmxvgzPqfGEQUgHfPsZY10eN0bpvaFARLBDytyRLbgdSo6gts+J0nGhy0hcjOhu4xJgygt8hN53UCUbdy7DhUnwxIfOuzENFYLS7ZW/Uk4N1FrNNuZK0X5aVNsV5r9H+fUeOfMJ4YLjLhFn6C94q4XmS9OfAW0aCSUfBbCT9LnRmeU/FoQMGdujBZ+Koc9289IVNHkVL+vEW6ZTxLPMEoRaB0RlLxfZF86LMsjsqx6ABBHNpV5FZWl0OYnnEn3jKHRNStfxx2g5Hz9e7eRguBubBis75OfHf2br root@jenkins</span><br></pre></td></tr></table></figure><h6 id="2-å›åˆ°gitlabæœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨maliuç”¨æˆ·ç™»å½•ï¼Œç„¶åç‚¹å‡»å¤´åƒé€‰æ‹©è®¾ç½®"><a href="#2-å›åˆ°gitlabæœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨maliuç”¨æˆ·ç™»å½•ï¼Œç„¶åç‚¹å‡»å¤´åƒé€‰æ‹©è®¾ç½®" class="headerlink" title="2.å›åˆ°gitlabæœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨maliuç”¨æˆ·ç™»å½•ï¼Œç„¶åç‚¹å‡»å¤´åƒé€‰æ‹©è®¾ç½®"></a>2.å›åˆ°gitlabæœåŠ¡å™¨ä¸Šé¢ä½¿ç”¨maliuç”¨æˆ·ç™»å½•ï¼Œç„¶åç‚¹å‡»å¤´åƒé€‰æ‹©è®¾ç½®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-65eeefdfa3b423f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-ä¸Šé¢çš„è®¾ç½®ç‚¹è¿›æ¥åï¼Œé€‰æ‹©SSH-ç§˜é’¥ï¼Œ-ç„¶åå¤åˆ¶JenkinsæœåŠ¡å™¨ä¸Šç”Ÿæˆçš„ç§˜é’¥ç„¶åç‚¹å‡»å¢åŠ ç§˜é’¥"><a href="#3-ä¸Šé¢çš„è®¾ç½®ç‚¹è¿›æ¥åï¼Œé€‰æ‹©SSH-ç§˜é’¥ï¼Œ-ç„¶åå¤åˆ¶JenkinsæœåŠ¡å™¨ä¸Šç”Ÿæˆçš„ç§˜é’¥ç„¶åç‚¹å‡»å¢åŠ ç§˜é’¥" class="headerlink" title="3.ä¸Šé¢çš„è®¾ç½®ç‚¹è¿›æ¥åï¼Œé€‰æ‹©SSH ç§˜é’¥ï¼Œ ç„¶åå¤åˆ¶JenkinsæœåŠ¡å™¨ä¸Šç”Ÿæˆçš„ç§˜é’¥ç„¶åç‚¹å‡»å¢åŠ ç§˜é’¥"></a>3.ä¸Šé¢çš„è®¾ç½®ç‚¹è¿›æ¥åï¼Œé€‰æ‹©SSH ç§˜é’¥ï¼Œ ç„¶åå¤åˆ¶JenkinsæœåŠ¡å™¨ä¸Šç”Ÿæˆçš„ç§˜é’¥ç„¶åç‚¹å‡»å¢åŠ ç§˜é’¥</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-cb62a56dc0f15837.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-21869ebbc48f29bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-8f40b346d767b6c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-æ–°å»ºä»»åŠ¡"><a href="#4-æ–°å»ºä»»åŠ¡" class="headerlink" title="4.æ–°å»ºä»»åŠ¡"></a>4.æ–°å»ºä»»åŠ¡</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-80ad5c7275c9baa8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-78da6fa9e19e318f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-ç‚¹å‡»é¡¹ç›®åç§°å¼€å§‹é…ç½®"><a href="#5-ç‚¹å‡»é¡¹ç›®åç§°å¼€å§‹é…ç½®" class="headerlink" title="5.ç‚¹å‡»é¡¹ç›®åç§°å¼€å§‹é…ç½®"></a>5.ç‚¹å‡»é¡¹ç›®åç§°å¼€å§‹é…ç½®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-4813ed392f3dd230.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="6-é€‰æ‹©æºç ç®¡ç†ï¼Œé€‰Gitï¼Œè¾“å…¥ä»“åº“URLåœ°å€ï¼ˆå¦‚æœä¸‹æ–¹å‡ºç°çº¢è‰²åŠè¡¨ç¤ºå‡ºé”™äº†ï¼‰ï¼Œç„¶åé€‰æ‹©ä¿å­˜"><a href="#6-é€‰æ‹©æºç ç®¡ç†ï¼Œé€‰Gitï¼Œè¾“å…¥ä»“åº“URLåœ°å€ï¼ˆå¦‚æœä¸‹æ–¹å‡ºç°çº¢è‰²åŠè¡¨ç¤ºå‡ºé”™äº†ï¼‰ï¼Œç„¶åé€‰æ‹©ä¿å­˜" class="headerlink" title="6.é€‰æ‹©æºç ç®¡ç†ï¼Œé€‰Gitï¼Œè¾“å…¥ä»“åº“URLåœ°å€ï¼ˆå¦‚æœä¸‹æ–¹å‡ºç°çº¢è‰²åŠè¡¨ç¤ºå‡ºé”™äº†ï¼‰ï¼Œç„¶åé€‰æ‹©ä¿å­˜"></a>6.é€‰æ‹©æºç ç®¡ç†ï¼Œé€‰Gitï¼Œè¾“å…¥ä»“åº“URLåœ°å€ï¼ˆå¦‚æœä¸‹æ–¹å‡ºç°çº¢è‰²åŠè¡¨ç¤ºå‡ºé”™äº†ï¼‰ï¼Œç„¶åé€‰æ‹©ä¿å­˜</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-bfe5b72ed06082f5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="7-ç«‹å³æ„å»º"><a href="#7-ç«‹å³æ„å»º" class="headerlink" title="7.ç«‹å³æ„å»º"></a>7.ç«‹å³æ„å»º</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-312d586dd877b0a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="8-æŸ¥çœ‹æ„å»ºä¿¡æ¯"><a href="#8-æŸ¥çœ‹æ„å»ºä¿¡æ¯" class="headerlink" title="8.æŸ¥çœ‹æ„å»ºä¿¡æ¯"></a>8.æŸ¥çœ‹æ„å»ºä¿¡æ¯</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-efa9030643b3111d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="9-æœåŠ¡ç«¯æŸ¥çœ‹"><a href="#9-æœåŠ¡ç«¯æŸ¥çœ‹" class="headerlink" title="9.æœåŠ¡ç«¯æŸ¥çœ‹"></a>9.æœåŠ¡ç«¯æŸ¥çœ‹</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@jenkins /var/lib/jenkins/workspace/yiliao]</span># <span class="selector-tag">ls</span></span><br><span class="line"><span class="selector-tag">about</span><span class="selector-class">.html</span>           <span class="selector-tag">article</span><span class="selector-class">.html</span>                         <span class="selector-tag">contact</span><span class="selector-class">.html</span>  <span class="selector-tag">index</span><span class="selector-class">.html</span>           <span class="selector-tag">product</span><span class="selector-class">.html</span></span><br><span class="line"><span class="selector-tag">album</span><span class="selector-class">.html</span>           <span class="selector-tag">Bootstrap</span>åŒ»ç–—å™¨æ¢°å…¬å¸å“åº”å¼ç½‘ç«™æ¨¡æ¿  <span class="selector-tag">css</span>           <span class="selector-tag">js</span></span><br><span class="line"><span class="selector-tag">article_detail</span><span class="selector-class">.html</span>  <span class="selector-tag">comment</span><span class="selector-class">.html</span>                         <span class="selector-tag">images</span>        <span class="selector-tag">product_detail</span><span class="selector-class">.html</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-3å®ç°è‡ªåŠ¨éƒ¨ç½²"><a href="#3-3å®ç°è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="3.3å®ç°è‡ªåŠ¨éƒ¨ç½²"></a>3.3å®ç°è‡ªåŠ¨éƒ¨ç½²</h2><p>ä¸Šé¢å·²ç»å®Œæˆäº†Jenkinsä»gitlabä¸Šæ‹‰å–ä»£ç ï¼Œç°åœ¨éœ€è¦å®ç°å¦‚ä½•å°†æºç è‡ªåŠ¨éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸Šï¼Œè¿™é‡Œä½¿ç”¨è„šæœ¬çš„æ–¹å¼æ¥å®ç°ï¼ŒJenkinsæ”¯æŒæ‰§è¡Œè„šæœ¬çš„åŠŸèƒ½ã€‚</p><h6 id="1-åœ¨JenkinsæœåŠ¡å™¨ä¸Šé¢ç¼–å†™åŒæ­¥è„šæœ¬ï¼Œç”±äºæ˜¯é€šè¿‡è„šæœ¬æ‹·è´åˆ°webæœåŠ¡å™¨çš„ç«™ç‚¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦å…ˆåšä¸€ä¸ªsshç§˜é’¥è®¤è¯"><a href="#1-åœ¨JenkinsæœåŠ¡å™¨ä¸Šé¢ç¼–å†™åŒæ­¥è„šæœ¬ï¼Œç”±äºæ˜¯é€šè¿‡è„šæœ¬æ‹·è´åˆ°webæœåŠ¡å™¨çš„ç«™ç‚¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦å…ˆåšä¸€ä¸ªsshç§˜é’¥è®¤è¯" class="headerlink" title="1.åœ¨JenkinsæœåŠ¡å™¨ä¸Šé¢ç¼–å†™åŒæ­¥è„šæœ¬ï¼Œç”±äºæ˜¯é€šè¿‡è„šæœ¬æ‹·è´åˆ°webæœåŠ¡å™¨çš„ç«™ç‚¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦å…ˆåšä¸€ä¸ªsshç§˜é’¥è®¤è¯"></a>1.åœ¨JenkinsæœåŠ¡å™¨ä¸Šé¢ç¼–å†™åŒæ­¥è„šæœ¬ï¼Œç”±äºæ˜¯é€šè¿‡è„šæœ¬æ‹·è´åˆ°webæœåŠ¡å™¨çš„ç«™ç‚¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦å…ˆåšä¸€ä¸ªsshç§˜é’¥è®¤è¯</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># ssh-copy-id -i 10.0.0.7</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># ssh-copy-id -i 10.0.0.8</span></span><br><span class="line">[root@jenkins /server/scripts]<span class="comment"># vim deploy.sh </span></span><br><span class="line"><span class="comment">#é¡¹ç›®ç›®å½•</span></span><br><span class="line">CODE_DIR=/var/lib/jenkins/workspace/yiliao/</span><br><span class="line"><span class="comment">#æ—¶é—´æ ¼å¼</span></span><br><span class="line">DATE_TIME=`date +%Y-%m-%d-%H-%M-%S`</span><br><span class="line"><span class="comment">#æ‰“åŒ…åçš„åå­—</span></span><br><span class="line">TAR_NAME=web-<span class="variable">$&#123;DATE_TIME&#125;</span>.tar.gz</span><br><span class="line"><span class="comment">#webæœåŠ¡å™¨ç«™ç‚¹ç›®å½•çš„ä¸Šä¸€çº§ &quot;/usr/share/nginx/html&quot;</span></span><br><span class="line">WEB_DIR=/usr/share/nginx/</span><br><span class="line"><span class="comment">#webæœåŠ¡å™¨æ–°å»ºçš„ç«™ç‚¹ç›®å½•åå­—</span></span><br><span class="line">WEB_NEWDIR_NAME=web-<span class="variable">$&#123;DATE_TIME&#125;</span></span><br><span class="line"><span class="comment">#è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ä¸Šä¸€çº§æ‰“åŒ…ä»£ç </span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$CODE_DIR</span> &amp;&amp; tar czf /opt/<span class="variable">$TAR_NAME</span> ./*</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;7,8&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="comment">#æ‹·è´åˆ°webæœåŠ¡å™¨çš„ç«™ç‚¹ç›®å½•çš„ä¸Šä¸€çº§</span></span><br><span class="line">    scp /opt/<span class="variable">$TAR_NAME</span> 10.0.0.<span class="variable">$&#123;i&#125;</span>:<span class="variable">$WEB_DIR</span></span><br><span class="line"><span class="comment">#è¿æ¥webæœåŠ¡å™¨è¿›è¡Œè§£å‹å‹ç¼©åŒ…åˆ°æ–°çš„ä¸€ä¸ªå·²æ—¶é—´å‘½åçš„ç«™ç‚¹ç›®å½•</span></span><br><span class="line">    ssh 10.0.0.<span class="variable">$i</span> <span class="string">&quot;cd <span class="variable">$WEB_DIR</span> &amp;&amp; mkdir <span class="variable">$WEB_NEWDIR_NAME</span> &amp;&amp; tar xf <span class="variable">$TAR_NAME</span> -C <span class="variable">$WEB_NEWDIR_NAME</span>&quot;</span></span><br><span class="line"><span class="comment">#å°†æ–°å»ºçš„ç«™ç‚¹ç›®å½•ä¸htmlç«™ç‚¹ç›®å½•åšä¸€ä¸ªè½¯é“¾æ¥</span></span><br><span class="line">    ssh 10.0.0.<span class="variable">$i</span> <span class="string">&quot;cd <span class="variable">$WEB_DIR</span> &amp;&amp; rm -rf html &amp;&amp; ln -s <span class="variable">$WEB_NEWDIR_NAME</span> html&quot;</span></span><br><span class="line">    ssh 10.0.0.<span class="variable">$i</span> <span class="string">&quot;cd <span class="variable">$WEB_DIR</span> &amp;&amp; rm -rf <span class="variable">$TAR_NAME</span>&quot;</span></span><br><span class="line">    sleep 3</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h6 id="2-é…ç½®Jenkinsï¼Œä½¿ç”¨Jenkinsè°ƒç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ­¤å¤„å†™è„šæœ¬å…¨è·¯å¾„è„šæœ¬åç§°ï¼‰"><a href="#2-é…ç½®Jenkinsï¼Œä½¿ç”¨Jenkinsè°ƒç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ­¤å¤„å†™è„šæœ¬å…¨è·¯å¾„è„šæœ¬åç§°ï¼‰" class="headerlink" title="2.é…ç½®Jenkinsï¼Œä½¿ç”¨Jenkinsè°ƒç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ­¤å¤„å†™è„šæœ¬å…¨è·¯å¾„è„šæœ¬åç§°ï¼‰"></a>2.é…ç½®Jenkinsï¼Œä½¿ç”¨Jenkinsè°ƒç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ­¤å¤„å†™è„šæœ¬å…¨è·¯å¾„è„šæœ¬åç§°ï¼‰</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-8c8726bbf2777a43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-ç«‹å³æ„å»º"><a href="#3-ç«‹å³æ„å»º" class="headerlink" title="3.ç«‹å³æ„å»º"></a>3.ç«‹å³æ„å»º</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-56ae6962a19eaa34.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-æŸ¥çœ‹è¾“å‡ºç»“æœ"><a href="#4-æŸ¥çœ‹è¾“å‡ºç»“æœ" class="headerlink" title="4.æŸ¥çœ‹è¾“å‡ºç»“æœ"></a>4.æŸ¥çœ‹è¾“å‡ºç»“æœ</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-848814b9bedb872b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-æµ‹è¯•è®¿é—®ç»“æœ"><a href="#5-æµ‹è¯•è®¿é—®ç»“æœ" class="headerlink" title="5.æµ‹è¯•è®¿é—®ç»“æœ"></a>5.æµ‹è¯•è®¿é—®ç»“æœ</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-7fd0ba8900f2b980.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h2 id="3-4è‡ªåŠ¨æ›´æ–°"><a href="#3-4è‡ªåŠ¨æ›´æ–°" class="headerlink" title="3.4è‡ªåŠ¨æ›´æ–°"></a>3.4è‡ªåŠ¨æ›´æ–°</h2><h6 id="1-é…ç½®è‡ªåŠ¨è§¦å‘æ„å»ºã€éœ€è¦è®¾ç½®å®‰å…¨ä»¤ç‰ŒSecret-tokenï¼Œè¿›å…¥é¡¹ç›®é€‰æ‹©é…ç½®ï¼Œè®¾ç½®ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç”Ÿæˆtokenï¼Œå¤åˆ¶tokenï¼ˆéœ€è¦å¡«å†™åˆ°gitlabä¸Šé¢ï¼‰å’ŒBuild-when-a-changä¸Šé¢æç¤ºçš„URLåœ°å€ï¼ˆ-http-10-0-0-57-8080-project-yiliaoï¼‰"><a href="#1-é…ç½®è‡ªåŠ¨è§¦å‘æ„å»ºã€éœ€è¦è®¾ç½®å®‰å…¨ä»¤ç‰ŒSecret-tokenï¼Œè¿›å…¥é¡¹ç›®é€‰æ‹©é…ç½®ï¼Œè®¾ç½®ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç”Ÿæˆtokenï¼Œå¤åˆ¶tokenï¼ˆéœ€è¦å¡«å†™åˆ°gitlabä¸Šé¢ï¼‰å’ŒBuild-when-a-changä¸Šé¢æç¤ºçš„URLåœ°å€ï¼ˆ-http-10-0-0-57-8080-project-yiliaoï¼‰" class="headerlink" title="1.é…ç½®è‡ªåŠ¨è§¦å‘æ„å»ºã€éœ€è¦è®¾ç½®å®‰å…¨ä»¤ç‰ŒSecret tokenï¼Œè¿›å…¥é¡¹ç›®é€‰æ‹©é…ç½®ï¼Œè®¾ç½®ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç”Ÿæˆtokenï¼Œå¤åˆ¶tokenï¼ˆéœ€è¦å¡«å†™åˆ°gitlabä¸Šé¢ï¼‰å’ŒBuild when a changä¸Šé¢æç¤ºçš„URLåœ°å€ï¼ˆ http://10.0.0.57:8080/project/yiliaoï¼‰"></a>1.é…ç½®è‡ªåŠ¨è§¦å‘æ„å»ºã€éœ€è¦è®¾ç½®å®‰å…¨ä»¤ç‰ŒSecret tokenï¼Œè¿›å…¥é¡¹ç›®é€‰æ‹©é…ç½®ï¼Œè®¾ç½®ç›¸å…³ä¿¡æ¯ï¼Œç„¶åç”Ÿæˆtokenï¼Œå¤åˆ¶tokenï¼ˆéœ€è¦å¡«å†™åˆ°gitlabä¸Šé¢ï¼‰å’ŒBuild when a changä¸Šé¢æç¤ºçš„URLåœ°å€ï¼ˆ <a href="https://links.jianshu.com/go?to=http://10.0.0.57:8080/project/yiliao">http://10.0.0.57:8080/project/yiliao</a>ï¼‰</h6><p>é€‰æ‹©æ„å»ºè§¦å‘å™¨ï¼Œç„¶åé€‰æ‹©build when a change is â€¦.,ä¸‹æ–¹æœ‰ä¸ªé«˜çº§é€‰é¡¹åç„¶åé€‰æ‹©Filter branches byname,ç„¶åè¾“å…¥masteråˆ†æ”¯ï¼Œå†ç‚¹å‡»ä¸‹é¢çš„Generateç”Ÿæˆtoken,ç„¶åç‚¹å‡»ä¿å­˜ã€‚</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-c98832fb2e89a63c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="2-é…ç½®gitlabï¼Œæ·»åŠ token"><a href="#2-é…ç½®gitlabï¼Œæ·»åŠ token" class="headerlink" title="2.é…ç½®gitlabï¼Œæ·»åŠ token"></a>2.é…ç½®gitlabï¼Œæ·»åŠ token</h6><p>ç‚¹å‡»é¡¹ç›®â†’è®¾ç½®â†’è®¾ç½®â†’é›†æˆï¼Œç„¶åè¾“å…¥Jenkinsä¸Šé¢æç¤ºçš„URLåœ°å€å’Œå’Œç”Ÿæˆçš„tokenï¼Œç‚¹å‡»å¢åŠ webé’©å­ã€‚</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-a39d98d7f47b447f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-æµ‹è¯•Webé’©å­"><a href="#3-æµ‹è¯•Webé’©å­" class="headerlink" title="3.æµ‹è¯•Webé’©å­"></a>3.æµ‹è¯•Webé’©å­</h6><p>æ·»åŠ å®Œé’©å­å®Œæˆåå¯ä»¥æµ‹è¯•ï¼Œé€‰æ‹©Push event,æ‰§è¡Œå®Œä¼šæ˜¾ç¤ºä¸Šé¢çš„æç¤ºã€‚</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-5ca93f8e5cfda33d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-ä¸Šé¢å·²ç»é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬çŸ¥é“ç›®å‰webæœåŠ¡ç«™ç‚¹è®¿é—®å¾—åˆ°ç»“æœå¦‚ä¸Šé¢ï¼Œ-è¿™é‡ŒgitlabæœåŠ¡å™¨ä¸‹è½½çš„ä»£ç å¹¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ¨é€gitlabä»“åº“ã€‚è¿™é‡Œå»é™¤é¦–é¡µçš„å³ä¸Šè§’çš„Englishç‰ˆæœ¬ã€‚"><a href="#4-ä¸Šé¢å·²ç»é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬çŸ¥é“ç›®å‰webæœåŠ¡ç«™ç‚¹è®¿é—®å¾—åˆ°ç»“æœå¦‚ä¸Šé¢ï¼Œ-è¿™é‡ŒgitlabæœåŠ¡å™¨ä¸‹è½½çš„ä»£ç å¹¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ¨é€gitlabä»“åº“ã€‚è¿™é‡Œå»é™¤é¦–é¡µçš„å³ä¸Šè§’çš„Englishç‰ˆæœ¬ã€‚" class="headerlink" title="4.ä¸Šé¢å·²ç»é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬çŸ¥é“ç›®å‰webæœåŠ¡ç«™ç‚¹è®¿é—®å¾—åˆ°ç»“æœå¦‚ä¸Šé¢ï¼Œ è¿™é‡ŒgitlabæœåŠ¡å™¨ä¸‹è½½çš„ä»£ç å¹¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ¨é€gitlabä»“åº“ã€‚è¿™é‡Œå»é™¤é¦–é¡µçš„å³ä¸Šè§’çš„Englishç‰ˆæœ¬ã€‚"></a>4.ä¸Šé¢å·²ç»é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬çŸ¥é“ç›®å‰webæœåŠ¡ç«™ç‚¹è®¿é—®å¾—åˆ°ç»“æœå¦‚ä¸Šé¢ï¼Œ è¿™é‡ŒgitlabæœåŠ¡å™¨ä¸‹è½½çš„ä»£ç å¹¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ¨é€gitlabä»“åº“ã€‚è¿™é‡Œå»é™¤é¦–é¡µçš„å³ä¸Šè§’çš„Englishç‰ˆæœ¬ã€‚</h6><p>ä¿®æ”¹é¦–é¡µå†…å®¹ï¼š</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-b74a0431f18f3756.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-æ¨é€æ–°çš„ä¿®æ”¹æºç "><a href="#5-æ¨é€æ–°çš„ä¿®æ”¹æºç " class="headerlink" title="5.æ¨é€æ–°çš„ä¿®æ”¹æºç "></a>5.æ¨é€æ–°çš„ä¿®æ”¹æºç </h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git add .</span></span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git commit -m &quot;ç¬¬äºŒæ¬¡æäº¤&quot;</span></span><br><span class="line">[<span class="meta">master 4b8d377</span>] ç¬¬äºŒæ¬¡æäº¤</span><br><span class="line">[<span class="meta">root@gitlab ~/yiliaoqixie</span>]<span class="meta"># git push -u origin --all</span></span><br></pre></td></tr></table></figure><h6 id="6-æµ‹è¯•è®¿é—®"><a href="#6-æµ‹è¯•è®¿é—®" class="headerlink" title="6.æµ‹è¯•è®¿é—®"></a>6.æµ‹è¯•è®¿é—®</h6><p>ä¹‹å‰çš„ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-e41db0597803a470.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>ç°åœ¨çš„ç»“æœï¼š</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-397919621c4700f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h2 id="3-5é…ç½®æ„å»ºJenkinsè¿”å›æ„å»ºçŠ¶æ€gitlab"><a href="#3-5é…ç½®æ„å»ºJenkinsè¿”å›æ„å»ºçŠ¶æ€gitlab" class="headerlink" title="3.5é…ç½®æ„å»ºJenkinsè¿”å›æ„å»ºçŠ¶æ€gitlab"></a>3.5é…ç½®æ„å»ºJenkinsè¿”å›æ„å»ºçŠ¶æ€gitlab</h2><h6 id="1-ç°åœ¨gotlabä¸Šé¢ç”Ÿæˆè®¿é—®ä»¤ç‰Œtokenï¼Œç‚¹å‡»ç”¨æˆ·å¤„çš„è®¾ç½®"><a href="#1-ç°åœ¨gotlabä¸Šé¢ç”Ÿæˆè®¿é—®ä»¤ç‰Œtokenï¼Œç‚¹å‡»ç”¨æˆ·å¤„çš„è®¾ç½®" class="headerlink" title="1.ç°åœ¨gotlabä¸Šé¢ç”Ÿæˆè®¿é—®ä»¤ç‰Œtokenï¼Œç‚¹å‡»ç”¨æˆ·å¤„çš„è®¾ç½®"></a>1.ç°åœ¨gotlabä¸Šé¢ç”Ÿæˆè®¿é—®ä»¤ç‰Œtokenï¼Œç‚¹å‡»ç”¨æˆ·å¤„çš„è®¾ç½®</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-59e6db3363db43db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="2-è®¿é—®ä»¤ç‰Œâ€”â€”-gt-è¾“å…¥åç§°â€”â€”-gt-é€‰æ‹©èŒƒå›´ä¸ºapiâ€”â€”-gt-åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œtokenå¤åˆ¶"><a href="#2-è®¿é—®ä»¤ç‰Œâ€”â€”-gt-è¾“å…¥åç§°â€”â€”-gt-é€‰æ‹©èŒƒå›´ä¸ºapiâ€”â€”-gt-åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œtokenå¤åˆ¶" class="headerlink" title="2.è®¿é—®ä»¤ç‰Œâ€”â€”&gt;è¾“å…¥åç§°â€”â€”&gt;é€‰æ‹©èŒƒå›´ä¸ºapiâ€”â€”&gt;åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œtokenå¤åˆ¶"></a>2.è®¿é—®ä»¤ç‰Œâ€”â€”&gt;è¾“å…¥åç§°â€”â€”&gt;é€‰æ‹©èŒƒå›´ä¸ºapiâ€”â€”&gt;åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œtokenå¤åˆ¶</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-fd2d81d235808feb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="3-ç™»å½•Jenkinsâ€”â€”â€”-gt-é€‰æ‹©ç³»ç»Ÿç®¡ç†â€”â€”-gt-é€‰æ‹©ç³»ç»Ÿè®¾ç½®â€”â€”-gt-é€‰æ‹©Gitlabâ€”â€”-gt-è¾“å…¥åå­—â€”â€”-gt-è¾“å…¥URLâ€”â€”â€”-gt-ç‚¹å‡»Add"><a href="#3-ç™»å½•Jenkinsâ€”â€”â€”-gt-é€‰æ‹©ç³»ç»Ÿç®¡ç†â€”â€”-gt-é€‰æ‹©ç³»ç»Ÿè®¾ç½®â€”â€”-gt-é€‰æ‹©Gitlabâ€”â€”-gt-è¾“å…¥åå­—â€”â€”-gt-è¾“å…¥URLâ€”â€”â€”-gt-ç‚¹å‡»Add" class="headerlink" title="3.ç™»å½•Jenkinsâ€”â€”â€”&gt;é€‰æ‹©ç³»ç»Ÿç®¡ç†â€”â€”&gt;é€‰æ‹©ç³»ç»Ÿè®¾ç½®â€”â€”&gt;é€‰æ‹©Gitlabâ€”â€”&gt;è¾“å…¥åå­—â€”â€”&gt;è¾“å…¥URLâ€”â€”â€”&gt;ç‚¹å‡»Add"></a>3.ç™»å½•Jenkinsâ€”â€”â€”&gt;é€‰æ‹©ç³»ç»Ÿç®¡ç†â€”â€”&gt;é€‰æ‹©ç³»ç»Ÿè®¾ç½®â€”â€”&gt;é€‰æ‹©Gitlabâ€”â€”&gt;è¾“å…¥åå­—â€”â€”&gt;è¾“å…¥URLâ€”â€”â€”&gt;ç‚¹å‡»Add</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-c03148b9f513a509.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="4-ä¸Šé¢ç‚¹å‡»Addè¿›æ¥åï¼Œkindå¤„é€‰æ‹©Gitlab-API-tokenï¼Œç²˜è´´ä¸Šé¢å¤åˆ¶çš„tokenï¼Œè‡ªå®šä¹‰IDå’Œæè¿°"><a href="#4-ä¸Šé¢ç‚¹å‡»Addè¿›æ¥åï¼Œkindå¤„é€‰æ‹©Gitlab-API-tokenï¼Œç²˜è´´ä¸Šé¢å¤åˆ¶çš„tokenï¼Œè‡ªå®šä¹‰IDå’Œæè¿°" class="headerlink" title="4.ä¸Šé¢ç‚¹å‡»Addè¿›æ¥åï¼Œkindå¤„é€‰æ‹©Gitlab API tokenï¼Œç²˜è´´ä¸Šé¢å¤åˆ¶çš„tokenï¼Œè‡ªå®šä¹‰IDå’Œæè¿°"></a>4.ä¸Šé¢ç‚¹å‡»Addè¿›æ¥åï¼Œkindå¤„é€‰æ‹©Gitlab API tokenï¼Œç²˜è´´ä¸Šé¢å¤åˆ¶çš„tokenï¼Œè‡ªå®šä¹‰IDå’Œæè¿°</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-157415e4f2e03ca7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="5-ä¸Šé¢æ·»åŠ åï¼Œå›åˆ°è¿™é‡Œé€‰æ‹©åˆšåˆšç”Ÿæˆçš„è¿™ä¸ªtokenã€‚ç„¶åç‚¹å‡»ä¿å­˜"><a href="#5-ä¸Šé¢æ·»åŠ åï¼Œå›åˆ°è¿™é‡Œé€‰æ‹©åˆšåˆšç”Ÿæˆçš„è¿™ä¸ªtokenã€‚ç„¶åç‚¹å‡»ä¿å­˜" class="headerlink" title="5.ä¸Šé¢æ·»åŠ åï¼Œå›åˆ°è¿™é‡Œé€‰æ‹©åˆšåˆšç”Ÿæˆçš„è¿™ä¸ªtokenã€‚ç„¶åç‚¹å‡»ä¿å­˜"></a>5.ä¸Šé¢æ·»åŠ åï¼Œå›åˆ°è¿™é‡Œé€‰æ‹©åˆšåˆšç”Ÿæˆçš„è¿™ä¸ªtokenã€‚ç„¶åç‚¹å‡»ä¿å­˜</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-834c171ea982d8c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="6-ä¸Šé¢ä¿å­˜åï¼Œè¿›å…¥åˆ°é¡¹ç›®é‡Œé€‰æ‹©é…ç½®ï¼Œé…ç½®æ„å»ºåæ“ä½œï¼Œé€‰æ‹©Publish-â€¦-to-â€¦Gitlabï¼Œé€‰æ‹©åç›´æ¥ä¿å­˜å°±ok"><a href="#6-ä¸Šé¢ä¿å­˜åï¼Œè¿›å…¥åˆ°é¡¹ç›®é‡Œé€‰æ‹©é…ç½®ï¼Œé…ç½®æ„å»ºåæ“ä½œï¼Œé€‰æ‹©Publish-â€¦-to-â€¦Gitlabï¼Œé€‰æ‹©åç›´æ¥ä¿å­˜å°±ok" class="headerlink" title="6.ä¸Šé¢ä¿å­˜åï¼Œè¿›å…¥åˆ°é¡¹ç›®é‡Œé€‰æ‹©é…ç½®ï¼Œé…ç½®æ„å»ºåæ“ä½œï¼Œé€‰æ‹©Publish â€¦ to â€¦Gitlabï¼Œé€‰æ‹©åç›´æ¥ä¿å­˜å°±ok"></a>6.ä¸Šé¢ä¿å­˜åï¼Œè¿›å…¥åˆ°é¡¹ç›®é‡Œé€‰æ‹©é…ç½®ï¼Œé…ç½®æ„å»ºåæ“ä½œï¼Œé€‰æ‹©Publish â€¦ to â€¦Gitlabï¼Œé€‰æ‹©åç›´æ¥ä¿å­˜å°±ok</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-441d390b5e4ef93b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="7-æµ‹è¯•ï¼Œç‚¹å‡»ç«‹å³æ„å»º"><a href="#7-æµ‹è¯•ï¼Œç‚¹å‡»ç«‹å³æ„å»º" class="headerlink" title="7.æµ‹è¯•ï¼Œç‚¹å‡»ç«‹å³æ„å»º"></a>7.æµ‹è¯•ï¼Œç‚¹å‡»ç«‹å³æ„å»º</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-70653c07bb9f21e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="8-å›åˆ°gitlabä¸Šé¢æŸ¥çœ‹ï¼Œé‚£é‡Œç”Ÿæˆäº†ä¸€ä¸ªå¯¹å·"><a href="#8-å›åˆ°gitlabä¸Šé¢æŸ¥çœ‹ï¼Œé‚£é‡Œç”Ÿæˆäº†ä¸€ä¸ªå¯¹å·" class="headerlink" title="8.å›åˆ°gitlabä¸Šé¢æŸ¥çœ‹ï¼Œé‚£é‡Œç”Ÿæˆäº†ä¸€ä¸ªå¯¹å·"></a>8.å›åˆ°gitlabä¸Šé¢æŸ¥çœ‹ï¼Œé‚£é‡Œç”Ÿæˆäº†ä¸€ä¸ªå¯¹å·</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-c229b9b4fc197a5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="9-ç‚¹å‡»å¯¹å·ï¼Œè¿›æ¥åå¯ä»¥çœ‹åˆ°æµæ°´çº¿ï¼Œä¸‹é¢ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ï¼Œæäº¤ç­‰ã€‚"><a href="#9-ç‚¹å‡»å¯¹å·ï¼Œè¿›æ¥åå¯ä»¥çœ‹åˆ°æµæ°´çº¿ï¼Œä¸‹é¢ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ï¼Œæäº¤ç­‰ã€‚" class="headerlink" title="9.ç‚¹å‡»å¯¹å·ï¼Œè¿›æ¥åå¯ä»¥çœ‹åˆ°æµæ°´çº¿ï¼Œä¸‹é¢ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ï¼Œæäº¤ç­‰ã€‚"></a>9.ç‚¹å‡»å¯¹å·ï¼Œè¿›æ¥åå¯ä»¥çœ‹åˆ°æµæ°´çº¿ï¼Œä¸‹é¢ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ï¼Œæäº¤ç­‰ã€‚</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-b9b2e6898e943674.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="10-ç‚¹å‡»ä¸Šé¢Statusä¸‹é¢çš„å¯¹å·ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ä¸€æ ·çš„æœ‰ä¸ªjenkins-success"><a href="#10-ç‚¹å‡»ä¸Šé¢Statusä¸‹é¢çš„å¯¹å·ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ä¸€æ ·çš„æœ‰ä¸ªjenkins-success" class="headerlink" title="10.ç‚¹å‡»ä¸Šé¢Statusä¸‹é¢çš„å¯¹å·ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ä¸€æ ·çš„æœ‰ä¸ªjenkins-success"></a>10.ç‚¹å‡»ä¸Šé¢Statusä¸‹é¢çš„å¯¹å·ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ä¸€æ ·çš„æœ‰ä¸ªjenkins-success</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-9f13e24bff75ac92.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h6 id="11-å†ç‚¹å‡»jenkinså°±è·³è½¬åˆ°jenkinsä¸Šé¢å»äº†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹è¾“å‡ºï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å·¥ä½œç©ºé—´ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰ä»£ç ï¼Œè¿”å›çš„è¯åªèƒ½é€‰æ‹©åé€€ã€‚"><a href="#11-å†ç‚¹å‡»jenkinså°±è·³è½¬åˆ°jenkinsä¸Šé¢å»äº†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹è¾“å‡ºï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å·¥ä½œç©ºé—´ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰ä»£ç ï¼Œè¿”å›çš„è¯åªèƒ½é€‰æ‹©åé€€ã€‚" class="headerlink" title="11.å†ç‚¹å‡»jenkinså°±è·³è½¬åˆ°jenkinsä¸Šé¢å»äº†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹è¾“å‡ºï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å·¥ä½œç©ºé—´ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰ä»£ç ï¼Œè¿”å›çš„è¯åªèƒ½é€‰æ‹©åé€€ã€‚"></a>11.å†ç‚¹å‡»jenkinså°±è·³è½¬åˆ°jenkinsä¸Šé¢å»äº†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹è¾“å‡ºï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å·¥ä½œç©ºé—´ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰ä»£ç ï¼Œè¿”å›çš„è¯åªèƒ½é€‰æ‹©åé€€ã€‚</h6><p><img src="//upload-images.jianshu.io/upload_images/19901269-a77eca688ec6f4b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-ebdd57bd444800b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-860256818c23d065.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><h1 id="å››-javaé¡¹ç›®ä»£ç ä¸Šçº¿"><a href="#å››-javaé¡¹ç›®ä»£ç ä¸Šçº¿" class="headerlink" title="å››.javaé¡¹ç›®ä»£ç ä¸Šçº¿"></a>å››.javaé¡¹ç›®ä»£ç ä¸Šçº¿</h1><p>1ï¼‰æœ€ç»ˆç›®æ ‡ï¼šå¯¹JAVAé¡¹ç›®å®ç°CI/CD<br>2ï¼‰æŠŠä»£ç å­˜åˆ°GitLab<br>3ï¼‰ä½¿ç”¨Mavenç¼–è¯‘å¹¶æ‰“åŒ…æºç <br>4ï¼‰å°†waråŒ…éƒ¨ç½²åˆ°Tomcat</p><h5 id="4-1å®‰è£…maven"><a href="#4-1å®‰è£…maven" class="headerlink" title="4.1å®‰è£…maven"></a>4.1å®‰è£…maven</h5><p>è¯·å‚è€ƒé“¾æ¥æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼š<a href="https://www.jianshu.com/p/b7dfc7c357ca">https://www.jianshu.com/p/b7dfc7c357ca</a></p><h5 id="4-2åœ¨jenkinsä¸­è°ƒç”¨maven"><a href="#4-2åœ¨jenkinsä¸­è°ƒç”¨maven" class="headerlink" title="4.2åœ¨jenkinsä¸­è°ƒç”¨maven"></a>4.2åœ¨jenkinsä¸­è°ƒç”¨maven</h5><p>ç‚¹å‡»ç³»ç»Ÿç®¡ç†â†’å…¨å±€å·¥å…·é…ç½®</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-2a26fc52439e3c50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>åœ¨Maven é…ç½®è¿™é‡Œåˆ†åˆ«è®¾ç½®é»˜è®¤å’Œé»˜è®¤å…¨å±€settingsæä¾›</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-3e1f198b2869fdea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>ä¸‹æ‹‰åˆ°Mavenï¼Œç‚¹å‡»â€œæ–°å¢Mavenâ€ï¼ŒNameè¿™é‡Œè‡ªå®šä¹‰å³å¯ï¼Œç„¶åæŠŠâ€œè‡ªåŠ¨å®‰è£…â€å‰é¢æ–¹æ¡†é‡Œçš„å¯¹å‹¾å–æ¶ˆï¼Œå¡«å†™MAVEN HOMEä¸º/usr/local/maven</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-2f26eea74c828813.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>é…ç½®JDK</p><p>ä¹‹æ‰€ä»¥è¦é…ç½®JDKæ˜¯å› ä¸ºåç»­çš„Mavenæ“ä½œéœ€è¦è®¾ç½®JAVA_HOMEè¿™ä¸ªå˜é‡ã€‚ç‚¹å‡»â€œç³»ç»Ÿç®¡ç†â€ã€â€œå…¨å±€å·¥å…·é…ç½®â€ï¼Œä¸‹æ‹‰åˆ°JDKï¼Œç‚¹å‡»â€œJDKå®‰è£…â€ï¼Œâ€œåˆ«åâ€è®¾ç½®ä¸ºjdkï¼Œâ€œJAVA_HOMEâ€è®¾ç½®ä¸º/usr/java/jdk</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-0ff169a4ae2200d6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1032/format/webp"></p><p>è¿™ä¸ªJAVA_HOMEè·¯å¾„å…¶å®å°±æ˜¯ä½ çš„JDKå®‰è£…è·¯å¾„ï¼Œå¦‚æœç”¨yumå®‰è£…çš„openjdkï¼Œåˆ™åœ¨/usr/lib/jvm/java-xxxxï¼ˆè¿™é‡Œçš„xxxxæ˜¯jdkç‰ˆæœ¬ï¼‰ã€‚</p><h5 id="4-3ç”¨Jenkinséƒ¨ç½²JAVAé¡¹ç›®"><a href="#4-3ç”¨Jenkinséƒ¨ç½²JAVAé¡¹ç›®" class="headerlink" title="4.3ç”¨Jenkinséƒ¨ç½²JAVAé¡¹ç›®"></a>4.3ç”¨Jenkinséƒ¨ç½²JAVAé¡¹ç›®</h5><p><strong>4.3.1å®‰è£…æ’ä»¶</strong><br>é¦–å…ˆéœ€è¦å®‰è£…Maven Integration plugin å’Œ Deploy to container Pluginã€‚<br>åˆ°Jenkinsé€æ¬¡ç‚¹å‡»ç³»ç»Ÿç®¡ç†ã€æ’ä»¶ç®¡ç†ã€å¯é€‰æ’ä»¶ï¼Œåœ¨å³ä¸Šè§’çš„â€œè¿‡æ»¤â€æ–‡æœ¬æ¡†é‡Œè¾“å…¥â€œintegrationâ€ï¼Œä¼šå‡ºç°ä¸¤ä¸ªæ’ä»¶ï¼Œé€‰æ‹©ä¸‹é¢çš„æ’ä»¶ï¼Œç‚¹å‡»ç›´æ¥å®‰è£…ã€‚  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-d25622cc8af855dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><img src="//upload-images.jianshu.io/upload_images/19901269-d168f836d2053ee3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>ç­‰å®ƒå®‰è£…å®Œåï¼Œç”¨åŒæ ·çš„æ–¹å¼å†å®‰è£…Deploy to containerã€‚</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-dc82dd84e9ef80c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>ä¸¤ä¸ªæ’ä»¶å®Œæˆå®‰è£…åï¼Œé‡å¯ä¸€ä¸‹JenkinsæœåŠ¡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@jenkins ~</span>]<span class="meta"># systemctl restart jenkins</span></span><br></pre></td></tr></table></figure><p><strong>4.3.2æ¨¡æ‹Ÿå¼€å‘å»ºç«‹gitæœ¬åœ°å·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#è¿™é‡Œçš„æºç ä½¿ç”¨çš„ç äº‘ä¸Šæºç ï¼Œä½ å¯ä»¥è‡ªè¡Œä¸‹è½½ä½¿ç”¨å³å¯ã€‚</span></span><br><span class="line">[<span class="meta">root@gitlab ~</span>]<span class="meta"># mkdir /jeesns</span></span><br><span class="line">[<span class="meta">root@gitlab ~</span>]<span class="meta"># cd /jeesns/</span></span><br><span class="line">[<span class="meta">root@gitlab /jeesns</span>]<span class="meta">#</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git config --global user.name &quot;Administrator&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git config --global user.email &quot;admin@example.com&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git init</span></span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /jeesns/.git/</span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git add .</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git commit -m &quot;ç¬¬ä¸€æ¬¡æäº¤é¡¹ç›®&quot;</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git remote add origin git@10.0.0.56:jeesns/jeesns.git</span></span><br><span class="line">[<span class="meta">root@gitlab ~/jeesns</span>]<span class="meta"># git push -u origin --all</span></span><br></pre></td></tr></table></figure><p>webç•Œé¢æŸ¥çœ‹é¡¹ç›®</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-f67cf86806744cf5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p><strong>4.3.3æ–°å»ºä»»åŠ¡</strong><br>é‡å¯å®Œæˆåï¼Œå†æ¬¡è®¿é—®Jenkinsçš„WEBç•Œé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œæ–°å»ºä»»åŠ¡â€ï¼Œä»»åŠ¡åç§°è‡ªå®šä¹‰ï¼ˆjeesnsï¼‰ï¼Œé€‰æ‹©â€œæ„å»ºä¸€ä¸ªmavené¡¹ç›®â€  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-c474d7cf2b250cf7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p><p>ç‚¹å‡»å·¦ä¸‹è§’çš„â€œç¡®å®šâ€æŒ‰é’®åï¼Œè¿›å…¥é…ç½®é¡µï¼Œä¸‹æ‹‰åˆ°â€œæºç ç®¡ç†â€ï¼Œç‚¹å‡»â€gitâ€ï¼Œâ€œRepositoriesâ€å¡«å†™GitLabçš„jeesnsé¡¹ç›®åœ°å€  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-b6bddbcbca88ad6b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1180/format/webp"></p><p>è¿™é‡Œéœ€è¦å¦‚ä¹‹å‰çš„ä¸€æ ·å°†Jenkinsçš„æœåŠ¡å™¨ä¸Šç”Ÿæˆç§˜é’¥çš„å…¬é’¥å¡åˆ°gitlabçš„ç”¨æˆ·çš„sshkeyä¸‹ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»â€œæ·»åŠ â€æŒ‰é’®ï¼Œç´§æ¥ç€ç‚¹å‡»â€œJenkinsâ€è¿›å…¥å¦‚ä¸‹é¡µé¢  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-05a158b2ffa22fb3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1065/format/webp"></p><p>ç±»å‹é€‰æ‹©â€œSSH Username with private keyâ€ï¼Œusernameå¡«å†™gitï¼ŒPrivate Keyå³ä¾§å°åœ†ç‚¹ç‚¹å‡»ä¸€ä¸‹ï¼ŒæŠŠåœ¨gitå®¢æˆ·ç«¯ç”Ÿæˆçš„ç§é’¥ï¼ˆ/root/.ssh/id_rsaï¼‰ç²˜è´´åˆ°æ­¤å¤„ï¼Œæœ€åç‚¹â€œæ·»åŠ â€ï¼Œè¿”å›åˆ°åˆšæ‰çš„é¡µé¢ï¼ŒCredentialsè¿™é‡Œé€‰æ‹©åˆšåˆšæ·»åŠ çš„â€œgitâ€  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-82ade542c9e41207.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1173/format/webp"></p><p>Pre Stepsè®¾ç½®ï¼Œè¿™é‡Œå¯ä»¥è®¾ç½®åˆ‡æ¢æ•°æ®åº“ï¼Œç”Ÿäº§ä¸­å¯ä»¥ç”¨äºåˆ‡æ¢æµ‹è¯•åº“å’Œç”Ÿäº§åº“</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-cfc6ed9b14331e9f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/976/format/webp"></p><p>build æ„å»ºè®¾ç½®ï¼Œè¿™é‡Œè®¾ç½®æºç ç¼–è¯‘çš„å‚æ•°</p><p><img src="//upload-images.jianshu.io/upload_images/19901269-2e1a992b1204b0c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/980/format/webp"></p><p>Post Stepsè®¾ç½®ï¼Œè¿™é‡Œåœ¨æºç åŒ…ç¼–è¯‘å®Œæˆåé€šè¿‡ansibleå®ç°ä»£ç çš„æ‰¹é‡ä¸Šçº¿  </p><p><img src="//upload-images.jianshu.io/upload_images/19901269-6ebf859b4b554538.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/976/format/webp"></p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jenkins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå¤šçº¿ç¨‹</title>
      <link href="c7ae4151bb65.html"/>
      <url>c7ae4151bb65.html</url>
      
        <content type="html"><![CDATA[<p>éšç€è®¡ç®—æœºè¡Œä¸šçš„é£é€Ÿå‘å±•ï¼Œæ‘©å°”å®šå¾‹é€æ¸å¤±æ•ˆï¼Œå¤šæ ¸ CPU æˆä¸ºä¸»æµã€‚ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—é€æ¸æˆä¸ºå¼€å‘äººå‘˜æå‡æœåŠ¡å™¨æ€§èƒ½çš„åŸºæœ¬æ­¦å™¨ã€‚J.U.C æä¾›çš„çº¿ç¨‹æ± ï¼šThreadPoolExecutor ç±»ï¼Œå¸®åŠ©å¼€å‘äººå‘˜ç®¡ç†çº¿ç¨‹å¹¶æ–¹ä¾¿åœ°æ‰§è¡Œå¹¶è¡Œä»»åŠ¡ã€‚äº†è§£å¹¶åˆç†ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæ˜¯ä¸€ä¸ªå¼€å‘äººå‘˜å¿…ä¿®çš„åŸºæœ¬åŠŸã€‚</p><p>æœ¬æ–‡å¼€ç¯‡ç®€è¿°çº¿ç¨‹æ± æ¦‚å¿µå’Œç”¨é€”ï¼Œæ¥ç€ç»“åˆçº¿ç¨‹æ± çš„æºç ï¼Œå¸®åŠ©è¯»è€…é¢†ç•¥çº¿ç¨‹æ± çš„è®¾è®¡æ€è·¯ï¼Œæœ€åå›å½’å®è·µï¼Œé€šè¿‡æ¡ˆä¾‹è®²è¿°ä½¿ç”¨çº¿ç¨‹æ± é‡åˆ°çš„é—®é¢˜ï¼Œå¹¶ç»™å‡ºäº†ä¸€ç§åŠ¨æ€åŒ–çº¿ç¨‹æ± è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="ä¸€ã€å†™åœ¨å‰é¢"><a href="#ä¸€ã€å†™åœ¨å‰é¢" class="headerlink" title="ä¸€ã€å†™åœ¨å‰é¢"></a>ä¸€ã€å†™åœ¨å‰é¢</h2><h3 id="1-1-çº¿ç¨‹æ± æ˜¯ä»€ä¹ˆ"><a href="#1-1-çº¿ç¨‹æ± æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.1 çº¿ç¨‹æ± æ˜¯ä»€ä¹ˆ"></a>1.1 çº¿ç¨‹æ± æ˜¯ä»€ä¹ˆ</h3><p>çº¿ç¨‹æ± ï¼ˆThread Poolï¼‰æ˜¯ä¸€ç§åŸºäºæ± åŒ–æ€æƒ³ç®¡ç†çº¿ç¨‹çš„å·¥å…·ï¼Œç»å¸¸å‡ºç°åœ¨å¤šçº¿ç¨‹æœåŠ¡å™¨ä¸­ï¼Œå¦‚ MySQLã€‚</p><p>çº¿ç¨‹è¿‡å¤šä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œå…¶ä¸­åŒ…æ‹¬åˆ›å»ºé”€æ¯çº¿ç¨‹çš„å¼€é”€ã€è°ƒåº¦çº¿ç¨‹çš„å¼€é”€ç­‰ç­‰ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†è®¡ç®—æœºçš„æ•´ä½“æ€§èƒ½ã€‚çº¿ç¨‹æ± ç»´æŠ¤å¤šä¸ªçº¿ç¨‹ï¼Œç­‰å¾…ç›‘ç£ç®¡ç†è€…åˆ†é…å¯å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ã€‚è¿™ç§åšæ³•ï¼Œä¸€æ–¹é¢é¿å…äº†å¤„ç†ä»»åŠ¡æ—¶åˆ›å»ºé”€æ¯çº¿ç¨‹å¼€é”€çš„ä»£ä»·ï¼Œå¦ä¸€æ–¹é¢é¿å…äº†çº¿ç¨‹æ•°é‡è†¨èƒ€å¯¼è‡´çš„è¿‡åˆ†è°ƒåº¦é—®é¢˜ï¼Œä¿è¯äº†å¯¹å†…æ ¸çš„å……åˆ†åˆ©ç”¨ã€‚</p><p>è€Œæœ¬æ–‡æè¿°çº¿ç¨‹æ± æ˜¯ JDK ä¸­æä¾›çš„ ThreadPoolExecutor ç±»ã€‚</p><p>å½“ç„¶ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥å¸¦æ¥ä¸€ç³»åˆ—å¥½å¤„ï¼š</p><ul><li><strong>é™ä½èµ„æºæ¶ˆè€—</strong>ï¼šé€šè¿‡æ± åŒ–æŠ€æœ¯é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹ï¼Œé™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æŸè€—ã€‚</li><li><strong>æé«˜å“åº”é€Ÿåº¦</strong>ï¼šä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œæ— éœ€ç­‰å¾…çº¿ç¨‹åˆ›å»ºå³å¯ç«‹å³æ‰§è¡Œã€‚</li><li><strong>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</strong>ï¼šçº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šå› ä¸ºçº¿ç¨‹çš„ä¸åˆç†åˆ†å¸ƒå¯¼è‡´èµ„æºè°ƒåº¦å¤±è¡¡ï¼Œé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚ä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ã€è°ƒä¼˜å’Œç›‘æ§ã€‚</li><li><strong>æä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½</strong>ï¼šçº¿ç¨‹æ± å…·å¤‡å¯æ‹“å±•æ€§ï¼Œå…è®¸å¼€å‘äººå‘˜å‘å…¶ä¸­å¢åŠ æ›´å¤šçš„åŠŸèƒ½ã€‚æ¯”å¦‚å»¶æ—¶å®šæ—¶çº¿ç¨‹æ±  ScheduledThreadPoolExecutorï¼Œå°±å…è®¸ä»»åŠ¡å»¶æœŸæ‰§è¡Œæˆ–å®šæœŸæ‰§è¡Œã€‚</li></ul><h3 id="1-2-çº¿ç¨‹æ± è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆ"><a href="#1-2-çº¿ç¨‹æ± è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.2 çº¿ç¨‹æ± è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆ"></a>1.2 çº¿ç¨‹æ± è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆ</h3><p>çº¿ç¨‹æ± è§£å†³çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯èµ„æºç®¡ç†é—®é¢˜ã€‚åœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œç³»ç»Ÿä¸èƒ½å¤Ÿç¡®å®šåœ¨ä»»æ„æ—¶åˆ»ä¸­ï¼Œæœ‰å¤šå°‘ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œæœ‰å¤šå°‘èµ„æºéœ€è¦æŠ•å…¥ã€‚è¿™ç§ä¸ç¡®å®šæ€§å°†å¸¦æ¥ä»¥ä¸‹è‹¥å¹²é—®é¢˜ï¼š</p><ol><li>é¢‘ç¹ç”³è¯·/é”€æ¯èµ„æºå’Œè°ƒåº¦èµ„æºï¼Œå°†å¸¦æ¥é¢å¤–çš„æ¶ˆè€—ï¼Œå¯èƒ½ä¼šéå¸¸å·¨å¤§ã€‚</li><li>å¯¹èµ„æºæ— é™ç”³è¯·ç¼ºå°‘æŠ‘åˆ¶æ‰‹æ®µï¼Œæ˜“å¼•å‘ç³»ç»Ÿèµ„æºè€—å°½çš„é£é™©ã€‚</li><li>ç³»ç»Ÿæ— æ³•åˆç†ç®¡ç†å†…éƒ¨çš„èµ„æºåˆ†å¸ƒï¼Œä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</li></ol><p>ä¸ºè§£å†³èµ„æºåˆ†é…è¿™ä¸ªé—®é¢˜ï¼Œçº¿ç¨‹æ± é‡‡ç”¨äº†â€œæ± åŒ–â€ï¼ˆPoolingï¼‰æ€æƒ³ã€‚æ± åŒ–ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸ºäº†æœ€å¤§åŒ–æ”¶ç›Šå¹¶æœ€å°åŒ–é£é™©ï¼Œè€Œå°†èµ„æºç»Ÿä¸€åœ¨ä¸€èµ·ç®¡ç†çš„ä¸€ç§æ€æƒ³ã€‚</p><blockquote><p>Pooling is the grouping together of resources (assets, equipment, personnel, effort, etc.) for the purposes of maximizing advantage or minimizing risk to the users. The term is used in finance, computing and equipment management.â€”â€”wikipedia</p></blockquote><p>â€œæ± åŒ–â€æ€æƒ³ä¸ä»…ä»…èƒ½åº”ç”¨åœ¨è®¡ç®—æœºé¢†åŸŸï¼Œåœ¨é‡‘èã€è®¾å¤‡ã€äººå‘˜ç®¡ç†ã€å·¥ä½œç®¡ç†ç­‰é¢†åŸŸä¹Ÿæœ‰ç›¸å…³çš„åº”ç”¨ã€‚</p><p>åœ¨è®¡ç®—æœºé¢†åŸŸä¸­çš„è¡¨ç°ä¸ºï¼šç»Ÿä¸€ç®¡ç† IT èµ„æºï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ã€å­˜å‚¨ã€å’Œç½‘ç»œèµ„æºç­‰ç­‰ã€‚é€šè¿‡å…±äº«èµ„æºï¼Œä½¿ç”¨æˆ·åœ¨ä½æŠ•å…¥ä¸­è·ç›Šã€‚é™¤å»çº¿ç¨‹æ± ï¼Œè¿˜æœ‰å…¶ä»–æ¯”è¾ƒå…¸å‹çš„å‡ ç§ä½¿ç”¨ç­–ç•¥åŒ…æ‹¬ï¼š</p><ol><li>å†…å­˜æ± (Memory Pooling)ï¼šé¢„å…ˆç”³è¯·å†…å­˜ï¼Œæå‡ç”³è¯·å†…å­˜é€Ÿåº¦ï¼Œå‡å°‘å†…å­˜ç¢ç‰‡ã€‚</li><li>è¿æ¥æ± (Connection Pooling)ï¼šé¢„å…ˆç”³è¯·æ•°æ®åº“è¿æ¥ï¼Œæå‡ç”³è¯·è¿æ¥çš„é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„å¼€é”€ã€‚</li><li>å®ä¾‹æ± (Object Pooling)ï¼šå¾ªç¯ä½¿ç”¨å¯¹è±¡ï¼Œå‡å°‘èµ„æºåœ¨åˆå§‹åŒ–å’Œé‡Šæ”¾æ—¶çš„æ˜‚è´µæŸè€—ã€‚</li></ol><p>åœ¨äº†è§£å®Œâ€œæ˜¯ä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆâ€ä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸€èµ·æ·±å…¥ä¸€ä¸‹çº¿ç¨‹æ± çš„å†…éƒ¨å®ç°åŸç†ã€‚</p><h2 id="äºŒã€çº¿ç¨‹æ± æ ¸å¿ƒè®¾è®¡ä¸å®ç°"><a href="#äºŒã€çº¿ç¨‹æ± æ ¸å¿ƒè®¾è®¡ä¸å®ç°" class="headerlink" title="äºŒã€çº¿ç¨‹æ± æ ¸å¿ƒè®¾è®¡ä¸å®ç°"></a>äºŒã€çº¿ç¨‹æ± æ ¸å¿ƒè®¾è®¡ä¸å®ç°</h2><p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼šçº¿ç¨‹æ± æ˜¯ä¸€ç§é€šè¿‡â€œæ± åŒ–â€æ€æƒ³ï¼Œå¸®åŠ©æˆ‘ä»¬ç®¡ç†çº¿ç¨‹è€Œè·å–å¹¶å‘æ€§çš„å·¥å…·ï¼Œåœ¨ Java ä¸­çš„ä½“ç°æ˜¯ ThreadPoolExecutor ç±»ã€‚é‚£ä¹ˆå®ƒçš„çš„è¯¦ç»†è®¾è®¡ä¸å®ç°æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿæˆ‘ä»¬ä¼šåœ¨æœ¬ç« è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚</p><h3 id="2-1-æ€»ä½“è®¾è®¡"><a href="#2-1-æ€»ä½“è®¾è®¡" class="headerlink" title="2.1 æ€»ä½“è®¾è®¡"></a>2.1 æ€»ä½“è®¾è®¡</h3><p>Java ä¸­çš„çº¿ç¨‹æ± æ ¸å¿ƒå®ç°ç±»æ˜¯ ThreadPoolExecutorï¼Œæœ¬ç« åŸºäº JDK 1.8 çš„æºç æ¥åˆ†æ Java çº¿ç¨‹æ± çš„æ ¸å¿ƒè®¾è®¡ä¸å®ç°ã€‚æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ ThreadPoolExecutor çš„ UML ç±»å›¾ï¼Œäº†è§£ä¸‹ ThreadPoolExecutor çš„ç»§æ‰¿å…³ç³»ã€‚</p><p><a href="https://p1.meituan.net/travelcube/912883e51327e0c7a9d753d11896326511272.png"><img src="https://p1.meituan.net/travelcube/912883e51327e0c7a9d753d11896326511272.png" alt="å›¾1 ThreadPoolExecutor UML ç±»å›¾"></a>å›¾1 ThreadPoolExecutor UML ç±»å›¾</p><p>ThreadPoolExecutor å®ç°çš„é¡¶å±‚æ¥å£æ˜¯ Executorï¼Œé¡¶å±‚æ¥å£ Executor æä¾›äº†ä¸€ç§æ€æƒ³ï¼šå°†ä»»åŠ¡æäº¤å’Œä»»åŠ¡æ‰§è¡Œè¿›è¡Œè§£è€¦ã€‚ç”¨æˆ·æ— éœ€å…³æ³¨å¦‚ä½•åˆ›å»ºçº¿ç¨‹ï¼Œå¦‚ä½•è°ƒåº¦çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œç”¨æˆ·åªéœ€æä¾› Runnable å¯¹è±¡ï¼Œå°†ä»»åŠ¡çš„è¿è¡Œé€»è¾‘æäº¤åˆ°æ‰§è¡Œå™¨(Executor)ä¸­ï¼Œç”± Executor æ¡†æ¶å®Œæˆçº¿ç¨‹çš„è°ƒé…å’Œä»»åŠ¡çš„æ‰§è¡Œéƒ¨åˆ†ã€‚ExecutorService æ¥å£å¢åŠ äº†ä¸€äº›èƒ½åŠ›ï¼š</p><ol><li>æ‰©å……æ‰§è¡Œä»»åŠ¡çš„èƒ½åŠ›ï¼Œè¡¥å……å¯ä»¥ä¸ºä¸€ä¸ªæˆ–ä¸€æ‰¹å¼‚æ­¥ä»»åŠ¡ç”Ÿæˆ Future çš„æ–¹æ³•ï¼›</li><li>æä¾›äº†ç®¡æ§çº¿ç¨‹æ± çš„æ–¹æ³•ï¼Œæ¯”å¦‚åœæ­¢çº¿ç¨‹æ± çš„è¿è¡Œã€‚AbstractExecutorService åˆ™æ˜¯ä¸Šå±‚çš„æŠ½è±¡ç±»ï¼Œå°†æ‰§è¡Œä»»åŠ¡çš„æµç¨‹ä¸²è”äº†èµ·æ¥ï¼Œä¿è¯ä¸‹å±‚çš„å®ç°åªéœ€å…³æ³¨ä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„æ–¹æ³•å³å¯ã€‚æœ€ä¸‹å±‚çš„å®ç°ç±» ThreadPoolExecutor å®ç°æœ€å¤æ‚çš„è¿è¡Œéƒ¨åˆ†ï¼ŒThreadPoolExecutor å°†ä¼šä¸€æ–¹é¢ç»´æŠ¤è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦ä¸€æ–¹é¢åŒæ—¶ç®¡ç†çº¿ç¨‹å’Œä»»åŠ¡ï¼Œä½¿ä¸¤è€…è‰¯å¥½çš„ç»“åˆä»è€Œæ‰§è¡Œå¹¶è¡Œä»»åŠ¡ã€‚</li></ol><p>ThreadPoolExecutor æ˜¯å¦‚ä½•è¿è¡Œï¼Œå¦‚ä½•åŒæ—¶ç»´æŠ¤çº¿ç¨‹å’Œæ‰§è¡Œä»»åŠ¡çš„å‘¢ï¼Ÿå…¶è¿è¡Œæœºåˆ¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/77441586f6b312a54264e3fcf5eebe2663494.png"><img src="https://p0.meituan.net/travelcube/77441586f6b312a54264e3fcf5eebe2663494.png" alt="å›¾2 ThreadPoolExecutor è¿è¡Œæµç¨‹"></a>å›¾2 ThreadPoolExecutor è¿è¡Œæµç¨‹</p><p>çº¿ç¨‹æ± åœ¨å†…éƒ¨å®é™…ä¸Šæ„å»ºäº†ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œå°†çº¿ç¨‹å’Œä»»åŠ¡ä¸¤è€…è§£è€¦ï¼Œå¹¶ä¸ç›´æ¥å…³è”ï¼Œä»è€Œè‰¯å¥½çš„ç¼“å†²ä»»åŠ¡ï¼Œå¤ç”¨çº¿ç¨‹ã€‚çº¿ç¨‹æ± çš„è¿è¡Œä¸»è¦åˆ†æˆä¸¤éƒ¨åˆ†ï¼šä»»åŠ¡ç®¡ç†ã€çº¿ç¨‹ç®¡ç†ã€‚ä»»åŠ¡ç®¡ç†éƒ¨åˆ†å……å½“ç”Ÿäº§è€…çš„è§’è‰²ï¼Œå½“ä»»åŠ¡æäº¤åï¼Œçº¿ç¨‹æ± ä¼šåˆ¤æ–­è¯¥ä»»åŠ¡åç»­çš„æµè½¬ï¼š</p><ol><li>ç›´æ¥ç”³è¯·çº¿ç¨‹æ‰§è¡Œè¯¥ä»»åŠ¡ï¼›</li><li>ç¼“å†²åˆ°é˜Ÿåˆ—ä¸­ç­‰å¾…çº¿ç¨‹æ‰§è¡Œï¼›</li><li>æ‹’ç»è¯¥ä»»åŠ¡ã€‚çº¿ç¨‹ç®¡ç†éƒ¨åˆ†æ˜¯æ¶ˆè´¹è€…ï¼Œå®ƒä»¬è¢«ç»Ÿä¸€ç»´æŠ¤åœ¨çº¿ç¨‹æ± å†…ï¼Œæ ¹æ®ä»»åŠ¡è¯·æ±‚è¿›è¡Œçº¿ç¨‹çš„åˆ†é…ï¼Œå½“çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡ååˆ™ä¼šç»§ç»­è·å–æ–°çš„ä»»åŠ¡å»æ‰§è¡Œï¼Œæœ€ç»ˆå½“çº¿ç¨‹è·å–ä¸åˆ°ä»»åŠ¡çš„æ—¶å€™ï¼Œçº¿ç¨‹å°±ä¼šè¢«å›æ”¶ã€‚</li></ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¼šæŒ‰ç…§ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†å»è¯¦ç»†è®²è§£çº¿ç¨‹æ± è¿è¡Œæœºåˆ¶ï¼š</p><ol><li>çº¿ç¨‹æ± å¦‚ä½•ç»´æŠ¤è‡ªèº«çŠ¶æ€ã€‚</li><li>çº¿ç¨‹æ± å¦‚ä½•ç®¡ç†ä»»åŠ¡ã€‚</li><li>çº¿ç¨‹æ± å¦‚ä½•ç®¡ç†çº¿ç¨‹ã€‚</li></ol><h3 id="2-2-ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#2-2-ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="2.2 ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>2.2 ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3><p>çº¿ç¨‹æ± è¿è¡Œçš„çŠ¶æ€ï¼Œå¹¶ä¸æ˜¯ç”¨æˆ·æ˜¾å¼è®¾ç½®çš„ï¼Œè€Œæ˜¯ä¼´éšç€çº¿ç¨‹æ± çš„è¿è¡Œï¼Œç”±å†…éƒ¨æ¥ç»´æŠ¤ã€‚çº¿ç¨‹æ± å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªå˜é‡ç»´æŠ¤ä¸¤ä¸ªå€¼ï¼šè¿è¡ŒçŠ¶æ€(runState)å’Œçº¿ç¨‹æ•°é‡ (workerCount)ã€‚åœ¨å…·ä½“å®ç°ä¸­ï¼Œçº¿ç¨‹æ± å°†è¿è¡ŒçŠ¶æ€(runState)ã€çº¿ç¨‹æ•°é‡ (workerCount)ä¸¤ä¸ªå…³é”®å‚æ•°çš„ç»´æŠ¤æ”¾åœ¨äº†ä¸€èµ·ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COPYprivate <span class="keyword">final</span> AtomicInteger ctl = <span class="keyword">new</span> AtomicInteger(ctlOf(RUNNING, <span class="number">0</span>));</span><br></pre></td></tr></table></figure><p><code>ctl</code>è¿™ä¸ª AtomicInteger ç±»å‹ï¼Œæ˜¯å¯¹çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€å’Œçº¿ç¨‹æ± ä¸­æœ‰æ•ˆçº¿ç¨‹çš„æ•°é‡è¿›è¡Œæ§åˆ¶çš„ä¸€ä¸ªå­—æ®µï¼Œ å®ƒåŒæ—¶åŒ…å«ä¸¤éƒ¨åˆ†çš„ä¿¡æ¯ï¼šçº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ (runState) å’Œçº¿ç¨‹æ± å†…æœ‰æ•ˆçº¿ç¨‹çš„æ•°é‡ (workerCount)ï¼Œé«˜3ä½ä¿å­˜ runStateï¼Œä½ 29 ä½ä¿å­˜ workerCountï¼Œä¸¤ä¸ªå˜é‡ä¹‹é—´äº’ä¸å¹²æ‰°ã€‚ç”¨ä¸€ä¸ªå˜é‡å»å­˜å‚¨ä¸¤ä¸ªå€¼ï¼Œå¯é¿å…åœ¨åšç›¸å…³å†³ç­–æ—¶ï¼Œå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä¸å¿…ä¸ºäº†ç»´æŠ¤ä¸¤è€…çš„ä¸€è‡´ï¼Œè€Œå ç”¨é”èµ„æºã€‚é€šè¿‡é˜…è¯»çº¿ç¨‹æ± æºä»£ç ä¹Ÿå¯ä»¥å‘ç°ï¼Œç»å¸¸å‡ºç°è¦åŒæ—¶åˆ¤æ–­çº¿ç¨‹æ± è¿è¡ŒçŠ¶æ€å’Œçº¿ç¨‹æ•°é‡çš„æƒ…å†µã€‚çº¿ç¨‹æ± ä¹Ÿæä¾›äº†è‹¥å¹²æ–¹æ³•å»ä¾›ç”¨æˆ·è·å¾—çº¿ç¨‹æ± å½“å‰çš„è¿è¡ŒçŠ¶æ€ã€çº¿ç¨‹ä¸ªæ•°ã€‚è¿™é‡Œéƒ½ä½¿ç”¨çš„æ˜¯ä½è¿ç®—çš„æ–¹å¼ï¼Œç›¸æ¯”äºåŸºæœ¬è¿ç®—ï¼Œé€Ÿåº¦ä¹Ÿä¼šå¿«å¾ˆå¤šã€‚</p><p>å…³äºå†…éƒ¨å°è£…çš„è·å–ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ã€è·å–çº¿ç¨‹æ± çº¿ç¨‹æ•°é‡çš„è®¡ç®—æ–¹æ³•å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">COPYprivate <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">runStateOf</span><span class="params">(<span class="keyword">int</span> c)</span>     </span>&#123; <span class="keyword">return</span> c &amp; ~CAPACITY; &#125; <span class="comment">//è®¡ç®—å½“å‰è¿è¡ŒçŠ¶æ€</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">workerCountOf</span><span class="params">(<span class="keyword">int</span> c)</span>  </span>&#123; <span class="keyword">return</span> c &amp; CAPACITY; &#125;  <span class="comment">//è®¡ç®—å½“å‰çº¿ç¨‹æ•°é‡</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">ctlOf</span><span class="params">(<span class="keyword">int</span> rs, <span class="keyword">int</span> wc)</span> </span>&#123; <span class="keyword">return</span> rs | wc; &#125;   <span class="comment">//é€šè¿‡çŠ¶æ€å’Œçº¿ç¨‹æ•°ç”Ÿæˆ ctl</span></span><br></pre></td></tr></table></figure><p>ThreadPoolExecutor çš„è¿è¡ŒçŠ¶æ€æœ‰ 5 ç§ï¼Œåˆ†åˆ«ä¸ºï¼š</p><table><thead><tr><th>è¿è¡ŒçŠ¶æ€</th><th>çŠ¶æ€æè¿°</th></tr></thead><tbody><tr><td>RUNNING</td><td>èƒ½æ¥å—æ–°æäº¤çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ä¹Ÿèƒ½å¤„ç†é˜»å¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚</td></tr><tr><td>SHUTDOWN</td><td>å…³é—­çŠ¶æ€ï¼Œä¸å†æ¥å—æ–°æäº¤çš„ä»»åŠ¡ï¼Œä½†å´å¯ä»¥ç»§ç»­å¤„ç†é˜»å¡é˜Ÿåˆ—ä¸­å·²ä¿å­˜çš„ä»»åŠ¡ã€‚</td></tr><tr><td>STOP</td><td>ä¸èƒ½æ¥å—æ–°ä»»åŠ¡ï¼Œä¹Ÿä¸å¤„ç†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œä¼šä¸­æ–­æ­£åœ¨å¤„ç†ä»»åŠ¡çš„çº¿ç¨‹ã€‚</td></tr><tr><td>TIDYING</td><td>æ‰€æœ‰çš„ä»»åŠ¡éƒ½å·²ç»ˆæ­¢äº†ï¼ŒworkerCount (æœ‰æ•ˆçº¿ç¨‹æ•°)ä¸º0ã€‚</td></tr><tr><td>TERMINATED</td><td>åœ¨ terminated() æ–¹æ³•æ‰§è¡Œå®Œåè¿›å…¥è¯¥çŠ¶æ€ã€‚</td></tr></tbody></table><p>å…¶ç”Ÿå‘½å‘¨æœŸè½¬æ¢å¦‚ä¸‹å…¥æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/582d1606d57ff99aa0e5f8fc59c7819329028.png"><img src="https://p0.meituan.net/travelcube/582d1606d57ff99aa0e5f8fc59c7819329028.png" alt="å›¾3 çº¿ç¨‹æ± ç”Ÿå‘½å‘¨æœŸ"></a>å›¾3 çº¿ç¨‹æ± ç”Ÿå‘½å‘¨æœŸ</p><h3 id="2-3-ä»»åŠ¡æ‰§è¡Œæœºåˆ¶"><a href="#2-3-ä»»åŠ¡æ‰§è¡Œæœºåˆ¶" class="headerlink" title="2.3 ä»»åŠ¡æ‰§è¡Œæœºåˆ¶"></a>2.3 ä»»åŠ¡æ‰§è¡Œæœºåˆ¶</h3><h4 id="2-3-1-ä»»åŠ¡è°ƒåº¦"><a href="#2-3-1-ä»»åŠ¡è°ƒåº¦" class="headerlink" title="2.3.1 ä»»åŠ¡è°ƒåº¦"></a>2.3.1 ä»»åŠ¡è°ƒåº¦</h4><p>ä»»åŠ¡è°ƒåº¦æ˜¯çº¿ç¨‹æ± çš„ä¸»è¦å…¥å£ï¼Œå½“ç”¨æˆ·æäº¤äº†ä¸€ä¸ªä»»åŠ¡ï¼Œæ¥ä¸‹æ¥è¿™ä¸ªä»»åŠ¡å°†å¦‚ä½•æ‰§è¡Œéƒ½æ˜¯ç”±è¿™ä¸ªé˜¶æ®µå†³å®šçš„ã€‚äº†è§£è¿™éƒ¨åˆ†å°±ç›¸å½“äºäº†è§£äº†çº¿ç¨‹æ± çš„æ ¸å¿ƒè¿è¡Œæœºåˆ¶ã€‚</p><p>é¦–å…ˆï¼Œæ‰€æœ‰ä»»åŠ¡çš„è°ƒåº¦éƒ½æ˜¯ç”± execute æ–¹æ³•å®Œæˆçš„ï¼Œè¿™éƒ¨åˆ†å®Œæˆçš„å·¥ä½œæ˜¯ï¼šæ£€æŸ¥ç°åœ¨çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ã€è¿è¡Œçº¿ç¨‹æ•°ã€è¿è¡Œç­–ç•¥ï¼Œå†³å®šæ¥ä¸‹æ¥æ‰§è¡Œçš„æµç¨‹ï¼Œæ˜¯ç›´æ¥ç”³è¯·çº¿ç¨‹æ‰§è¡Œï¼Œæˆ–æ˜¯ç¼“å†²åˆ°é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œäº¦æˆ–æ˜¯ç›´æ¥æ‹’ç»è¯¥ä»»åŠ¡ã€‚å…¶æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>é¦–å…ˆæ£€æµ‹çº¿ç¨‹æ± è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœä¸æ˜¯ RUNNINGï¼Œåˆ™ç›´æ¥æ‹’ç»ï¼Œçº¿ç¨‹æ± è¦ä¿è¯åœ¨ RUNNING çš„çŠ¶æ€ä¸‹æ‰§è¡Œä»»åŠ¡ã€‚</li><li>å¦‚æœ workerCount &lt; corePoolSizeï¼Œåˆ™åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œæ–°æäº¤çš„ä»»åŠ¡ã€‚</li><li>å¦‚æœ workerCount &gt;= corePoolSizeï¼Œä¸”çº¿ç¨‹æ± å†…çš„é˜»å¡é˜Ÿåˆ—æœªæ»¡ï¼Œåˆ™å°†ä»»åŠ¡æ·»åŠ åˆ°è¯¥é˜»å¡é˜Ÿåˆ—ä¸­ã€‚</li><li>å¦‚æœ workerCount &gt;= corePoolSize &amp;&amp; workerCount &lt; maximumPoolSizeï¼Œä¸”çº¿ç¨‹æ± å†…çš„é˜»å¡é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œæ–°æäº¤çš„ä»»åŠ¡ã€‚</li><li>å¦‚æœ workerCount &gt;= maximumPoolSizeï¼Œå¹¶ä¸”çº¿ç¨‹æ± å†…çš„é˜»å¡é˜Ÿåˆ—å·²æ»¡, åˆ™æ ¹æ®æ‹’ç»ç­–ç•¥æ¥å¤„ç†è¯¥ä»»åŠ¡, é»˜è®¤çš„å¤„ç†æ–¹å¼æ˜¯ç›´æ¥æŠ›å¼‚å¸¸ã€‚</li></ol><p>å…¶æ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/31bad766983e212431077ca8da92762050214.png"><img src="https://p0.meituan.net/travelcube/31bad766983e212431077ca8da92762050214.png" alt="å›¾4 ä»»åŠ¡è°ƒåº¦æµç¨‹"></a>å›¾4 ä»»åŠ¡è°ƒåº¦æµç¨‹</p><h4 id="2-3-2-ä»»åŠ¡ç¼“å†²"><a href="#2-3-2-ä»»åŠ¡ç¼“å†²" class="headerlink" title="2.3.2 ä»»åŠ¡ç¼“å†²"></a>2.3.2 ä»»åŠ¡ç¼“å†²</h4><p>ä»»åŠ¡ç¼“å†²æ¨¡å—æ˜¯çº¿ç¨‹æ± èƒ½å¤Ÿç®¡ç†ä»»åŠ¡çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚çº¿ç¨‹æ± çš„æœ¬è´¨æ˜¯å¯¹ä»»åŠ¡å’Œçº¿ç¨‹çš„ç®¡ç†ï¼Œè€Œåšåˆ°è¿™ä¸€ç‚¹æœ€å…³é”®çš„æ€æƒ³å°±æ˜¯å°†ä»»åŠ¡å’Œçº¿ç¨‹ä¸¤è€…è§£è€¦ï¼Œä¸è®©ä¸¤è€…ç›´æ¥å…³è”ï¼Œæ‰å¯ä»¥åšåç»­çš„åˆ†é…å·¥ä½œã€‚çº¿ç¨‹æ± ä¸­æ˜¯ä»¥ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—æ¥å®ç°çš„ã€‚é˜»å¡é˜Ÿåˆ—ç¼“å­˜ä»»åŠ¡ï¼Œå·¥ä½œçº¿ç¨‹ä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡ã€‚</p><p>é˜»å¡é˜Ÿåˆ—(BlockingQueue)æ˜¯ä¸€ä¸ªæ”¯æŒä¸¤ä¸ªé™„åŠ æ“ä½œçš„é˜Ÿåˆ—ã€‚è¿™ä¸¤ä¸ªé™„åŠ çš„æ“ä½œæ˜¯ï¼šåœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè·å–å…ƒç´ çš„çº¿ç¨‹ä¼šç­‰å¾…é˜Ÿåˆ—å˜ä¸ºéç©ºã€‚å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œå­˜å‚¨å…ƒç´ çš„çº¿ç¨‹ä¼šç­‰å¾…é˜Ÿåˆ—å¯ç”¨ã€‚é˜»å¡é˜Ÿåˆ—å¸¸ç”¨äºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„åœºæ™¯ï¼Œç”Ÿäº§è€…æ˜¯å¾€é˜Ÿåˆ—é‡Œæ·»åŠ å…ƒç´ çš„çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…æ˜¯ä»é˜Ÿåˆ—é‡Œæ‹¿å…ƒç´ çš„çº¿ç¨‹ã€‚é˜»å¡é˜Ÿåˆ—å°±æ˜¯ç”Ÿäº§è€…å­˜æ”¾å…ƒç´ çš„å®¹å™¨ï¼Œè€Œæ¶ˆè´¹è€…ä¹Ÿåªä»å®¹å™¨é‡Œæ‹¿å…ƒç´ ã€‚</p><p>ä¸‹å›¾ä¸­å±•ç¤ºäº†çº¿ç¨‹ 1 å¾€é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œè€Œçº¿ç¨‹ 2 ä»é˜»å¡é˜Ÿåˆ—ä¸­ç§»é™¤å…ƒç´ ï¼š</p><p><a href="https://p1.meituan.net/travelcube/f4d89c87acf102b45be8ccf3ed83352a9497.png"><img src="https://p1.meituan.net/travelcube/f4d89c87acf102b45be8ccf3ed83352a9497.png" alt="å›¾5 é˜»å¡é˜Ÿåˆ—"></a>å›¾5 é˜»å¡é˜Ÿåˆ—</p><p>ä½¿ç”¨ä¸åŒçš„é˜Ÿåˆ—å¯ä»¥å®ç°ä¸ä¸€æ ·çš„ä»»åŠ¡å­˜å–ç­–ç•¥ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å†ä»‹ç»ä¸‹é˜»å¡é˜Ÿåˆ—çš„æˆå‘˜ï¼š</p><p><a href="https://p0.meituan.net/travelcube/725a3db5114d95675f2098c12dc331c3316963.png"><img src="https://p0.meituan.net/travelcube/725a3db5114d95675f2098c12dc331c3316963.png" alt="img"></a>img</p><h4 id="2-3-3-ä»»åŠ¡ç”³è¯·"><a href="#2-3-3-ä»»åŠ¡ç”³è¯·" class="headerlink" title="2.3.3 ä»»åŠ¡ç”³è¯·"></a>2.3.3 ä»»åŠ¡ç”³è¯·</h4><p>ç”±ä¸Šæ–‡çš„ä»»åŠ¡åˆ†é…éƒ¨åˆ†å¯çŸ¥ï¼Œä»»åŠ¡çš„æ‰§è¡Œæœ‰ä¸¤ç§å¯èƒ½ï¼šä¸€ç§æ˜¯ä»»åŠ¡ç›´æ¥ç”±æ–°åˆ›å»ºçš„çº¿ç¨‹æ‰§è¡Œã€‚å¦ä¸€ç§æ˜¯çº¿ç¨‹ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡ç„¶åæ‰§è¡Œï¼Œæ‰§è¡Œå®Œä»»åŠ¡çš„ç©ºé—²çº¿ç¨‹ä¼šå†æ¬¡å»ä»é˜Ÿåˆ—ä¸­ç”³è¯·ä»»åŠ¡å†å»æ‰§è¡Œã€‚ç¬¬ä¸€ç§æƒ…å†µä»…å‡ºç°åœ¨çº¿ç¨‹åˆå§‹åˆ›å»ºçš„æ—¶å€™ï¼Œç¬¬äºŒç§æ˜¯çº¿ç¨‹è·å–ä»»åŠ¡ç»å¤§å¤šæ•°çš„æƒ…å†µã€‚</p><p>çº¿ç¨‹éœ€è¦ä»ä»»åŠ¡ç¼“å­˜æ¨¡å—ä¸­ä¸æ–­åœ°å–ä»»åŠ¡æ‰§è¡Œï¼Œå¸®åŠ©çº¿ç¨‹ä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡ï¼Œå®ç°çº¿ç¨‹ç®¡ç†æ¨¡å—å’Œä»»åŠ¡ç®¡ç†æ¨¡å—ä¹‹é—´çš„é€šä¿¡ã€‚è¿™éƒ¨åˆ†ç­–ç•¥ç”± getTask æ–¹æ³•å®ç°ï¼Œå…¶æ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/49d8041f8480aba5ef59079fcc7143b996706.png"><img src="https://p0.meituan.net/travelcube/49d8041f8480aba5ef59079fcc7143b996706.png" alt="å›¾6 è·å–ä»»åŠ¡æµç¨‹å›¾"></a>å›¾6 è·å–ä»»åŠ¡æµç¨‹å›¾</p><p>getTask è¿™éƒ¨åˆ†è¿›è¡Œäº†å¤šæ¬¡åˆ¤æ–­ï¼Œä¸ºçš„æ˜¯æ§åˆ¶çº¿ç¨‹çš„æ•°é‡ï¼Œä½¿å…¶ç¬¦åˆçº¿ç¨‹æ± çš„çŠ¶æ€ã€‚å¦‚æœçº¿ç¨‹æ± ç°åœ¨ä¸åº”è¯¥æŒæœ‰é‚£ä¹ˆå¤šçº¿ç¨‹ï¼Œåˆ™ä¼šè¿”å› null å€¼ã€‚å·¥ä½œçº¿ç¨‹ Worker ä¼šä¸æ–­æ¥æ”¶æ–°ä»»åŠ¡å»æ‰§è¡Œï¼Œè€Œå½“å·¥ä½œçº¿ç¨‹ Worker æ¥æ”¶ä¸åˆ°ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±ä¼šå¼€å§‹è¢«å›æ”¶ã€‚</p><h4 id="2-3-4-ä»»åŠ¡æ‹’ç»"><a href="#2-3-4-ä»»åŠ¡æ‹’ç»" class="headerlink" title="2.3.4 ä»»åŠ¡æ‹’ç»"></a>2.3.4 ä»»åŠ¡æ‹’ç»</h4><p>ä»»åŠ¡æ‹’ç»æ¨¡å—æ˜¯çº¿ç¨‹æ± çš„ä¿æŠ¤éƒ¨åˆ†ï¼Œçº¿ç¨‹æ± æœ‰ä¸€ä¸ªæœ€å¤§çš„å®¹é‡ï¼Œå½“çº¿ç¨‹æ± çš„ä»»åŠ¡ç¼“å­˜é˜Ÿåˆ—å·²æ»¡ï¼Œå¹¶ä¸”çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° maximumPoolSize æ—¶ï¼Œå°±éœ€è¦æ‹’ç»æ‰è¯¥ä»»åŠ¡ï¼Œé‡‡å–ä»»åŠ¡æ‹’ç»ç­–ç•¥ï¼Œä¿æŠ¤çº¿ç¨‹æ± ã€‚</p><p>æ‹’ç»ç­–ç•¥æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…¶è®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">COPYpublic <span class="class"><span class="keyword">interface</span> <span class="title">RejectedExecutionHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rejectedExecution</span><span class="params">(Runnable r, ThreadPoolExecutor executor)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·å¯ä»¥é€šè¿‡å®ç°è¿™ä¸ªæ¥å£å»å®šåˆ¶æ‹’ç»ç­–ç•¥ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© JDK æä¾›çš„å››ç§å·²æœ‰æ‹’ç»ç­–ç•¥ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><p><a href="https://p0.meituan.net/travelcube/9ffb64cc4c64c0cb8d38dac01c89c905178456.png"><img src="https://p0.meituan.net/travelcube/9ffb64cc4c64c0cb8d38dac01c89c905178456.png" alt="img"></a>img</p><h3 id="2-4-Worker-çº¿ç¨‹ç®¡ç†"><a href="#2-4-Worker-çº¿ç¨‹ç®¡ç†" class="headerlink" title="2.4 Worker çº¿ç¨‹ç®¡ç†"></a>2.4 Worker çº¿ç¨‹ç®¡ç†</h3><h4 id="2-4-1-Worker-çº¿ç¨‹"><a href="#2-4-1-Worker-çº¿ç¨‹" class="headerlink" title="2.4.1 Worker çº¿ç¨‹"></a>2.4.1 Worker çº¿ç¨‹</h4><p>çº¿ç¨‹æ± ä¸ºäº†æŒæ¡çº¿ç¨‹çš„çŠ¶æ€å¹¶ç»´æŠ¤çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œè®¾è®¡äº†çº¿ç¨‹æ± å†…çš„å·¥ä½œçº¿ç¨‹ Workerã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„éƒ¨åˆ†ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">COPYprivate <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Worker</span> <span class="keyword">extends</span> <span class="title">AbstractQueuedSynchronizer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> Thread thread;<span class="comment">//Worker æŒæœ‰çš„çº¿ç¨‹</span></span><br><span class="line">    Runnable firstTask;<span class="comment">//åˆå§‹åŒ–çš„ä»»åŠ¡ï¼Œå¯ä»¥ä¸º null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Worker è¿™ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œå®ç°äº† Runnable æ¥å£ï¼Œå¹¶æŒæœ‰ä¸€ä¸ªçº¿ç¨‹ threadï¼Œä¸€ä¸ªåˆå§‹åŒ–çš„ä»»åŠ¡ firstTaskã€‚thread æ˜¯åœ¨è°ƒç”¨æ„é€ æ–¹æ³•æ—¶é€šè¿‡ ThreadFactory æ¥åˆ›å»ºçš„çº¿ç¨‹ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œä»»åŠ¡ï¼›firstTask ç”¨å®ƒæ¥ä¿å­˜ä¼ å…¥çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡å¯ä»¥æœ‰ä¹Ÿå¯ä»¥ä¸º nullã€‚å¦‚æœè¿™ä¸ªå€¼æ˜¯éç©ºçš„ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±ä¼šåœ¨å¯åŠ¨åˆæœŸç«‹å³æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼Œä¹Ÿå°±å¯¹åº”æ ¸å¿ƒçº¿ç¨‹åˆ›å»ºæ—¶çš„æƒ…å†µï¼›å¦‚æœè¿™ä¸ªå€¼æ˜¯ nullï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡åˆ—è¡¨ï¼ˆworkQueueï¼‰ä¸­çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯éæ ¸å¿ƒçº¿ç¨‹çš„åˆ›å»ºã€‚</p><p>Worker æ‰§è¡Œä»»åŠ¡çš„æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/03268b9dc49bd30bb63064421bb036bf90315.png"><img src="https://p0.meituan.net/travelcube/03268b9dc49bd30bb63064421bb036bf90315.png" alt="å›¾7 Worker æ‰§è¡Œä»»åŠ¡"></a>å›¾7 Worker æ‰§è¡Œä»»åŠ¡</p><p>çº¿ç¨‹æ± éœ€è¦ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œéœ€è¦åœ¨çº¿ç¨‹é•¿æ—¶é—´ä¸è¿è¡Œçš„æ—¶å€™è¿›è¡Œå›æ”¶ã€‚çº¿ç¨‹æ± ä½¿ç”¨ä¸€å¼  Hash è¡¨å»æŒæœ‰çº¿ç¨‹çš„å¼•ç”¨ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡æ·»åŠ å¼•ç”¨ã€ç§»é™¤å¼•ç”¨è¿™æ ·çš„æ“ä½œæ¥æ§åˆ¶çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™ä¸ªæ—¶å€™é‡è¦çš„å°±æ˜¯å¦‚ä½•åˆ¤æ–­çº¿ç¨‹æ˜¯å¦åœ¨è¿è¡Œã€‚</p><p>Worker æ˜¯é€šè¿‡ç»§æ‰¿ AQSï¼Œä½¿ç”¨ AQS æ¥å®ç°ç‹¬å é”è¿™ä¸ªåŠŸèƒ½ã€‚æ²¡æœ‰ä½¿ç”¨å¯é‡å…¥é” ReentrantLockï¼Œè€Œæ˜¯ä½¿ç”¨ AQSï¼Œä¸ºçš„å°±æ˜¯å®ç°ä¸å¯é‡å…¥çš„ç‰¹æ€§å»ååº”çº¿ç¨‹ç°åœ¨çš„æ‰§è¡ŒçŠ¶æ€ã€‚</p><ol><li>lock æ–¹æ³•ä¸€æ—¦è·å–äº†ç‹¬å é”ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œä»»åŠ¡ä¸­ã€‚</li><li>å¦‚æœæ­£åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™ä¸åº”è¯¥ä¸­æ–­çº¿ç¨‹ã€‚</li><li>å¦‚æœè¯¥çº¿ç¨‹ç°åœ¨ä¸æ˜¯ç‹¬å é”çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ç©ºé—²çš„çŠ¶æ€ï¼Œè¯´æ˜å®ƒæ²¡æœ‰åœ¨å¤„ç†ä»»åŠ¡ï¼Œè¿™æ—¶å¯ä»¥å¯¹è¯¥çº¿ç¨‹è¿›è¡Œä¸­æ–­ã€‚</li><li>çº¿ç¨‹æ± åœ¨æ‰§è¡Œ shutdown æ–¹æ³•æˆ– tryTerminate æ–¹æ³•æ—¶ä¼šè°ƒç”¨ interruptIdleWorkers æ–¹æ³•æ¥ä¸­æ–­ç©ºé—²çš„çº¿ç¨‹ï¼ŒinterruptIdleWorkers æ–¹æ³•ä¼šä½¿ç”¨ tryLock æ–¹æ³•æ¥åˆ¤æ–­çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ˜¯å¦æ˜¯ç©ºé—²çŠ¶æ€ï¼›å¦‚æœçº¿ç¨‹æ˜¯ç©ºé—²çŠ¶æ€åˆ™å¯ä»¥å®‰å…¨å›æ”¶ã€‚</li></ol><p>åœ¨çº¿ç¨‹å›æ”¶è¿‡ç¨‹ä¸­å°±ä½¿ç”¨åˆ°äº†è¿™ç§ç‰¹æ€§ï¼Œå›æ”¶è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p1.meituan.net/travelcube/9d8dc9cebe59122127460f81a98894bb34085.png"><img src="https://p1.meituan.net/travelcube/9d8dc9cebe59122127460f81a98894bb34085.png" alt="å›¾8 çº¿ç¨‹æ± å›æ”¶è¿‡ç¨‹"></a>å›¾8 çº¿ç¨‹æ± å›æ”¶è¿‡ç¨‹</p><h4 id="2-4-2-Worker-çº¿ç¨‹å¢åŠ "><a href="#2-4-2-Worker-çº¿ç¨‹å¢åŠ " class="headerlink" title="2.4.2 Worker çº¿ç¨‹å¢åŠ "></a>2.4.2 Worker çº¿ç¨‹å¢åŠ </h4><p>å¢åŠ çº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹æ± ä¸­çš„ addWorker æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„åŠŸèƒ½å°±æ˜¯å¢åŠ ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥æ–¹æ³•ä¸è€ƒè™‘çº¿ç¨‹æ± æ˜¯åœ¨å“ªä¸ªé˜¶æ®µå¢åŠ çš„è¯¥çº¿ç¨‹ï¼Œè¿™ä¸ªåˆ†é…çº¿ç¨‹çš„ç­–ç•¥æ˜¯åœ¨ä¸Šä¸ªæ­¥éª¤å®Œæˆçš„ï¼Œè¯¥æ­¥éª¤ä»…ä»…å®Œæˆå¢åŠ çº¿ç¨‹ï¼Œå¹¶ä½¿å®ƒè¿è¡Œï¼Œæœ€åè¿”å›æ˜¯å¦æˆåŠŸè¿™ä¸ªç»“æœã€‚addWorker æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼šfirstTaskã€coreã€‚firstTask å‚æ•°ç”¨äºæŒ‡å®šæ–°å¢çš„çº¿ç¨‹æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œè¯¥å‚æ•°å¯ä»¥ä¸ºç©ºï¼›core å‚æ•°ä¸º true è¡¨ç¤ºåœ¨æ–°å¢çº¿ç¨‹æ—¶ä¼šåˆ¤æ–­å½“å‰æ´»åŠ¨çº¿ç¨‹æ•°æ˜¯å¦å°‘äº corePoolSizeï¼Œfalse è¡¨ç¤ºæ–°å¢çº¿ç¨‹å‰éœ€è¦åˆ¤æ–­å½“å‰æ´»åŠ¨çº¿ç¨‹æ•°æ˜¯å¦å°‘äº maximumPoolSizeï¼Œå…¶æ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/49527b1bb385f0f43529e57b614f59ae145454.png"><img src="https://p0.meituan.net/travelcube/49527b1bb385f0f43529e57b614f59ae145454.png" alt="å›¾9 ç”³è¯·çº¿ç¨‹æ‰§è¡Œæµç¨‹å›¾"></a>å›¾9 ç”³è¯·çº¿ç¨‹æ‰§è¡Œæµç¨‹å›¾</p><h4 id="2-4-3-Worker-çº¿ç¨‹å›æ”¶"><a href="#2-4-3-Worker-çº¿ç¨‹å›æ”¶" class="headerlink" title="2.4.3 Worker çº¿ç¨‹å›æ”¶"></a>2.4.3 Worker çº¿ç¨‹å›æ”¶</h4><p>çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„é”€æ¯ä¾èµ– JVM è‡ªåŠ¨çš„å›æ”¶ï¼Œçº¿ç¨‹æ± åšçš„å·¥ä½œæ˜¯æ ¹æ®å½“å‰çº¿ç¨‹æ± çš„çŠ¶æ€ç»´æŠ¤ä¸€å®šæ•°é‡çš„çº¿ç¨‹å¼•ç”¨ï¼Œé˜²æ­¢è¿™éƒ¨åˆ†çº¿ç¨‹è¢« JVM å›æ”¶ï¼Œå½“çº¿ç¨‹æ± å†³å®šå“ªäº›çº¿ç¨‹éœ€è¦å›æ”¶æ—¶ï¼Œåªéœ€è¦å°†å…¶å¼•ç”¨æ¶ˆé™¤å³å¯ã€‚Worker è¢«åˆ›å»ºå‡ºæ¥åï¼Œå°±ä¼šä¸æ–­åœ°è¿›è¡Œè½®è¯¢ï¼Œç„¶åè·å–ä»»åŠ¡å»æ‰§è¡Œï¼Œæ ¸å¿ƒçº¿ç¨‹å¯ä»¥æ— é™ç­‰å¾…è·å–ä»»åŠ¡ï¼Œéæ ¸å¿ƒçº¿ç¨‹è¦é™æ—¶è·å–ä»»åŠ¡ã€‚å½“ Worker æ— æ³•è·å–åˆ°ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è·å–çš„ä»»åŠ¡ä¸ºç©ºæ—¶ï¼Œå¾ªç¯ä¼šç»“æŸï¼ŒWorker ä¼šä¸»åŠ¨æ¶ˆé™¤è‡ªèº«åœ¨çº¿ç¨‹æ± å†…çš„å¼•ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">COPYtry &#123;</span><br><span class="line">  <span class="keyword">while</span> (task != <span class="keyword">null</span> || (task = getTask()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  processWorkerExit(w, completedAbruptly);<span class="comment">//è·å–ä¸åˆ°ä»»åŠ¡æ—¶ï¼Œä¸»åŠ¨å›æ”¶è‡ªå·±</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿ç¨‹å›æ”¶çš„å·¥ä½œæ˜¯åœ¨ processWorkerExit æ–¹æ³•å®Œæˆçš„ã€‚</p><p><a href="https://p0.meituan.net/travelcube/90ea093549782945f2c968403fdc39d415386.png"><img src="https://p0.meituan.net/travelcube/90ea093549782945f2c968403fdc39d415386.png" alt="å›¾10 çº¿ç¨‹é”€æ¯æµç¨‹"></a>å›¾10 çº¿ç¨‹é”€æ¯æµç¨‹</p><p>äº‹å®ä¸Šï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå°†çº¿ç¨‹å¼•ç”¨ç§»å‡ºçº¿ç¨‹æ± å°±å·²ç»ç»“æŸäº†çº¿ç¨‹é”€æ¯çš„éƒ¨åˆ†ã€‚ä½†ç”±äºå¼•èµ·çº¿ç¨‹é”€æ¯çš„å¯èƒ½æ€§æœ‰å¾ˆå¤šï¼Œçº¿ç¨‹æ± è¿˜è¦åˆ¤æ–­æ˜¯ä»€ä¹ˆå¼•å‘äº†è¿™æ¬¡é”€æ¯ï¼Œæ˜¯å¦è¦æ”¹å˜çº¿ç¨‹æ± çš„ç°é˜¶æ®µçŠ¶æ€ï¼Œæ˜¯å¦è¦æ ¹æ®æ–°çŠ¶æ€ï¼Œé‡æ–°åˆ†é…çº¿ç¨‹ã€‚</p><h4 id="2-4-4-Worker-çº¿ç¨‹æ‰§è¡Œä»»åŠ¡"><a href="#2-4-4-Worker-çº¿ç¨‹æ‰§è¡Œä»»åŠ¡" class="headerlink" title="2.4.4 Worker çº¿ç¨‹æ‰§è¡Œä»»åŠ¡"></a>2.4.4 Worker çº¿ç¨‹æ‰§è¡Œä»»åŠ¡</h4><p>åœ¨ Worker ç±»ä¸­çš„ run æ–¹æ³•è°ƒç”¨äº† runWorker æ–¹æ³•æ¥æ‰§è¡Œä»»åŠ¡ï¼ŒrunWorker æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>while å¾ªç¯ä¸æ–­åœ°é€šè¿‡ getTask()æ–¹æ³•è·å–ä»»åŠ¡ã€‚</li><li>getTask()æ–¹æ³•ä»é˜»å¡é˜Ÿåˆ—ä¸­å–ä»»åŠ¡ã€‚</li><li>å¦‚æœçº¿ç¨‹æ± æ­£åœ¨åœæ­¢ï¼Œé‚£ä¹ˆè¦ä¿è¯å½“å‰çº¿ç¨‹æ˜¯ä¸­æ–­çŠ¶æ€ï¼Œå¦åˆ™è¦ä¿è¯å½“å‰çº¿ç¨‹ä¸æ˜¯ä¸­æ–­çŠ¶æ€ã€‚</li><li>æ‰§è¡Œä»»åŠ¡ã€‚</li><li>å¦‚æœ getTask ç»“æœä¸º null åˆ™è·³å‡ºå¾ªç¯ï¼Œæ‰§è¡Œ processWorkerExit()æ–¹æ³•ï¼Œé”€æ¯çº¿ç¨‹ã€‚</li></ol><p>æ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/879edb4f06043d76cea27a3ff358cb1d45243.png"><img src="https://p0.meituan.net/travelcube/879edb4f06043d76cea27a3ff358cb1d45243.png" alt="å›¾11 æ‰§è¡Œä»»åŠ¡æµç¨‹"></a>å›¾11 æ‰§è¡Œä»»åŠ¡æµç¨‹</p><h2 id="ä¸‰ã€çº¿ç¨‹æ± åœ¨ä¸šåŠ¡ä¸­çš„å®è·µ"><a href="#ä¸‰ã€çº¿ç¨‹æ± åœ¨ä¸šåŠ¡ä¸­çš„å®è·µ" class="headerlink" title="ä¸‰ã€çº¿ç¨‹æ± åœ¨ä¸šåŠ¡ä¸­çš„å®è·µ"></a>ä¸‰ã€çº¿ç¨‹æ± åœ¨ä¸šåŠ¡ä¸­çš„å®è·µ</h2><h3 id="3-1-ä¸šåŠ¡èƒŒæ™¯"><a href="#3-1-ä¸šåŠ¡èƒŒæ™¯" class="headerlink" title="3.1 ä¸šåŠ¡èƒŒæ™¯"></a>3.1 ä¸šåŠ¡èƒŒæ™¯</h3><p>åœ¨å½“ä»Šçš„äº’è”ç½‘ä¸šç•Œï¼Œä¸ºäº†æœ€å¤§ç¨‹åº¦åˆ©ç”¨ CPU çš„å¤šæ ¸æ€§èƒ½ï¼Œå¹¶è¡Œè¿ç®—çš„èƒ½åŠ›æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚é€šè¿‡çº¿ç¨‹æ± ç®¡ç†çº¿ç¨‹è·å–å¹¶å‘æ€§æ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€çš„æ“ä½œï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªå…¸å‹çš„ä½¿ç”¨çº¿ç¨‹æ± è·å–å¹¶å‘æ€§çš„åœºæ™¯ã€‚</p><p><strong>åœºæ™¯1ï¼šå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚</strong></p><p><strong>æè¿°</strong>ï¼šç”¨æˆ·å‘èµ·çš„å®æ—¶è¯·æ±‚ï¼ŒæœåŠ¡è¿½æ±‚å“åº”æ—¶é—´ã€‚æ¯”å¦‚è¯´ç”¨æˆ·è¦æŸ¥çœ‹ä¸€ä¸ªå•†å“çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†å•†å“ç»´åº¦çš„ä¸€ç³»åˆ—ä¿¡æ¯å¦‚å•†å“çš„ä»·æ ¼ã€ä¼˜æƒ ã€åº“å­˜ã€å›¾ç‰‡ç­‰ç­‰èšåˆèµ·æ¥ï¼Œå±•ç¤ºç»™ç”¨æˆ·ã€‚</p><p><strong>åˆ†æ</strong>ï¼šä»ç”¨æˆ·ä½“éªŒè§’åº¦çœ‹ï¼Œè¿™ä¸ªç»“æœå“åº”çš„è¶Šå¿«è¶Šå¥½ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢åŠå¤©éƒ½åˆ·ä¸å‡ºï¼Œç”¨æˆ·å¯èƒ½å°±æ”¾å¼ƒæŸ¥çœ‹è¿™ä¸ªå•†å“äº†ã€‚è€Œé¢å‘ç”¨æˆ·çš„åŠŸèƒ½èšåˆé€šå¸¸éå¸¸å¤æ‚ï¼Œä¼´éšç€è°ƒç”¨ä¸è°ƒç”¨ä¹‹é—´çš„çº§è”ã€å¤šçº§çº§è”ç­‰æƒ…å†µï¼Œä¸šåŠ¡å¼€å‘åŒå­¦å¾€å¾€ä¼šé€‰æ‹©ä½¿ç”¨çº¿ç¨‹æ± è¿™ç§ç®€å•çš„æ–¹å¼ï¼Œå°†è°ƒç”¨å°è£…æˆä»»åŠ¡å¹¶è¡Œçš„æ‰§è¡Œï¼Œç¼©çŸ­æ€»ä½“å“åº”æ—¶é—´ã€‚å¦å¤–ï¼Œä½¿ç”¨çº¿ç¨‹æ± ä¹Ÿæ˜¯æœ‰è€ƒé‡çš„ï¼Œè¿™ç§åœºæ™¯æœ€é‡è¦çš„å°±æ˜¯è·å–æœ€å¤§çš„å“åº”é€Ÿåº¦å»æ»¡è¶³ç”¨æˆ·ï¼Œæ‰€ä»¥åº”è¯¥ä¸è®¾ç½®é˜Ÿåˆ—å»ç¼“å†²å¹¶å‘ä»»åŠ¡ï¼Œè°ƒé«˜ corePoolSize å’Œ maxPoolSize å»å°½å¯èƒ½åˆ›é€ å¤šçš„çº¿ç¨‹å¿«é€Ÿæ‰§è¡Œä»»åŠ¡ã€‚</p><p><a href="https://p0.meituan.net/travelcube/e9a363c8577f211577e4962e9110cb0226733.png"><img src="https://p0.meituan.net/travelcube/e9a363c8577f211577e4962e9110cb0226733.png" alt="å›¾12 å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æå‡ä»»åŠ¡å“åº”é€Ÿåº¦"></a>å›¾12 å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æå‡ä»»åŠ¡å“åº”é€Ÿåº¦</p><p><strong>åœºæ™¯2ï¼šå¿«é€Ÿå¤„ç†æ‰¹é‡ä»»åŠ¡</strong></p><p><strong>æè¿°</strong>ï¼šç¦»çº¿çš„å¤§é‡è®¡ç®—ä»»åŠ¡ï¼Œéœ€è¦å¿«é€Ÿæ‰§è¡Œã€‚æ¯”å¦‚è¯´ï¼Œç»Ÿè®¡æŸä¸ªæŠ¥è¡¨ï¼Œéœ€è¦è®¡ç®—å‡ºå…¨å›½å„ä¸ªé—¨åº—ä¸­æœ‰å“ªäº›å•†å“æœ‰æŸç§å±æ€§ï¼Œç”¨äºåç»­è¥é”€ç­–ç•¥çš„åˆ†æï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æŸ¥è¯¢å…¨å›½æ‰€æœ‰é—¨åº—ä¸­çš„æ‰€æœ‰å•†å“ï¼Œå¹¶ä¸”è®°å½•å…·æœ‰æŸå±æ€§çš„å•†å“ï¼Œç„¶åå¿«é€Ÿç”ŸæˆæŠ¥è¡¨ã€‚</p><p><strong>åˆ†æ</strong>ï¼šè¿™ç§åœºæ™¯éœ€è¦æ‰§è¡Œå¤§é‡çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå¸Œæœ›ä»»åŠ¡æ‰§è¡Œçš„è¶Šå¿«è¶Šå¥½ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨å¤šçº¿ç¨‹ç­–ç•¥ï¼Œå¹¶è¡Œè®¡ç®—ã€‚ä½†ä¸å“åº”é€Ÿåº¦ä¼˜å…ˆçš„åœºæ™¯åŒºåˆ«åœ¨äºï¼Œè¿™ç±»åœºæ™¯ä»»åŠ¡é‡å·¨å¤§ï¼Œå¹¶ä¸éœ€è¦ç¬æ—¶çš„å®Œæˆï¼Œè€Œæ˜¯å…³æ³¨å¦‚ä½•ä½¿ç”¨æœ‰é™çš„èµ„æºï¼Œå°½å¯èƒ½åœ¨å•ä½æ—¶é—´å†…å¤„ç†æ›´å¤šçš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ååé‡ä¼˜å…ˆçš„é—®é¢˜ã€‚æ‰€ä»¥åº”è¯¥è®¾ç½®é˜Ÿåˆ—å»ç¼“å†²å¹¶å‘ä»»åŠ¡ï¼Œè°ƒæ•´åˆé€‚çš„ corePoolSize å»è®¾ç½®å¤„ç†ä»»åŠ¡çš„çº¿ç¨‹æ•°ã€‚åœ¨è¿™é‡Œï¼Œè®¾ç½®çš„çº¿ç¨‹æ•°è¿‡å¤šå¯èƒ½è¿˜ä¼šå¼•å‘çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç¹çš„é—®é¢˜ï¼Œä¹Ÿä¼šé™ä½å¤„ç†ä»»åŠ¡çš„é€Ÿåº¦ï¼Œé™ä½ååé‡ã€‚</p><p><a href="https://p1.meituan.net/travelcube/1a1746f33bfdcb03da074d8539ebb2f367563.png"><img src="https://p1.meituan.net/travelcube/1a1746f33bfdcb03da074d8539ebb2f367563.png" alt="å›¾13 å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æå‡æ‰¹é‡ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦"></a>å›¾13 å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æå‡æ‰¹é‡ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦</p><h3 id="3-2-å®é™…é—®é¢˜åŠæ–¹æ¡ˆæ€è€ƒ"><a href="#3-2-å®é™…é—®é¢˜åŠæ–¹æ¡ˆæ€è€ƒ" class="headerlink" title="3.2 å®é™…é—®é¢˜åŠæ–¹æ¡ˆæ€è€ƒ"></a>3.2 å®é™…é—®é¢˜åŠæ–¹æ¡ˆæ€è€ƒ</h3><p>çº¿ç¨‹æ± ä½¿ç”¨é¢ä¸´çš„æ ¸å¿ƒçš„é—®é¢˜åœ¨äºï¼š<strong>çº¿ç¨‹æ± çš„å‚æ•°å¹¶ä¸å¥½é…ç½®</strong>ã€‚ä¸€æ–¹é¢çº¿ç¨‹æ± çš„è¿è¡Œæœºåˆ¶ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œé…ç½®åˆç†éœ€è¦å¼ºä¾èµ–å¼€å‘äººå‘˜çš„ä¸ªäººç»éªŒå’ŒçŸ¥è¯†ï¼›å¦ä¸€æ–¹é¢ï¼Œçº¿ç¨‹æ± æ‰§è¡Œçš„æƒ…å†µå’Œä»»åŠ¡ç±»å‹ç›¸å…³æ€§è¾ƒå¤§ï¼ŒIO å¯†é›†å‹å’Œ CPU å¯†é›†å‹çš„ä»»åŠ¡è¿è¡Œèµ·æ¥çš„æƒ…å†µå·®å¼‚éå¸¸å¤§ï¼Œè¿™å¯¼è‡´ä¸šç•Œå¹¶æ²¡æœ‰ä¸€äº›æˆç†Ÿçš„ç»éªŒç­–ç•¥å¸®åŠ©å¼€å‘äººå‘˜å‚è€ƒã€‚</p><p>å…³äºçº¿ç¨‹æ± é…ç½®ä¸åˆç†å¼•å‘çš„æ•…éšœï¼Œå…¬å¸å†…éƒ¨æœ‰è¾ƒå¤šè®°å½•ï¼Œä¸‹é¢ä¸¾ä¸€äº›ä¾‹å­ï¼š</p><p><strong>Case1</strong>ï¼š2018å¹´ XX é¡µé¢å±•ç¤ºæ¥å£å¤§é‡è°ƒç”¨é™çº§ï¼š</p><p><strong>äº‹æ•…æè¿°</strong>ï¼šXX é¡µé¢å±•ç¤ºæ¥å£äº§ç”Ÿå¤§é‡è°ƒç”¨é™çº§ï¼Œæ•°é‡çº§åœ¨å‡ ååˆ°ä¸Šç™¾ã€‚</p><p><strong>äº‹æ•…åŸå› </strong>ï¼šè¯¥æœåŠ¡å±•ç¤ºæ¥å£å†…éƒ¨é€»è¾‘ä½¿ç”¨çº¿ç¨‹æ± åšå¹¶è¡Œè®¡ç®—ï¼Œç”±äºæ²¡æœ‰é¢„ä¼°å¥½è°ƒç”¨çš„æµé‡ï¼Œå¯¼è‡´æœ€å¤§æ ¸å¿ƒæ•°è®¾ç½®åå°ï¼Œå¤§é‡æŠ›å‡º RejectedExecutionExceptionï¼Œè§¦å‘æ¥å£é™çº§æ¡ä»¶ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><a href="https://p0.meituan.net/travelcube/1df932840b31f41931bb69e16be2932844240.png"><img src="https://p0.meituan.net/travelcube/1df932840b31f41931bb69e16be2932844240.png" alt="å›¾14 çº¿ç¨‹æ•°æ ¸å¿ƒè®¾ç½®è¿‡å°å¼•å‘ RejectExecutionException"></a>å›¾14 çº¿ç¨‹æ•°æ ¸å¿ƒè®¾ç½®è¿‡å°å¼•å‘ RejectExecutionException</p><p><strong>Case2</strong>ï¼š2018å¹´ XX ä¸šåŠ¡æœåŠ¡ä¸å¯ç”¨ S2çº§æ•…éšœ</p><p><strong>äº‹æ•…æè¿°</strong>ï¼šXX ä¸šåŠ¡æä¾›çš„æœåŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œä½œä¸ºä¸Šæ¸¸æœåŠ¡æ•´ä½“è¶…æ—¶ï¼Œå¤§é‡ä¸‹æ¸¸æœåŠ¡è°ƒç”¨å¤±è´¥ã€‚</p><p><strong>äº‹æ•…åŸå› </strong>ï¼šè¯¥æœåŠ¡å¤„ç†è¯·æ±‚å†…éƒ¨é€»è¾‘ä½¿ç”¨çº¿ç¨‹æ± åšèµ„æºéš”ç¦»ï¼Œç”±äºé˜Ÿåˆ—è®¾ç½®è¿‡é•¿ï¼Œæœ€å¤§çº¿ç¨‹æ•°è®¾ç½®å¤±æ•ˆï¼Œå¯¼è‡´è¯·æ±‚æ•°é‡å¢åŠ æ—¶ï¼Œå¤§é‡ä»»åŠ¡å †ç§¯åœ¨é˜Ÿåˆ—ä¸­ï¼Œä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œæœ€ç»ˆå¯¼è‡´ä¸‹æ¸¸æœåŠ¡çš„å¤§é‡è°ƒç”¨è¶…æ—¶å¤±è´¥ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><a href="https://p1.meituan.net/travelcube/668e3c90f4b918bfcead2f4280091e9757284.png"><img src="https://p1.meituan.net/travelcube/668e3c90f4b918bfcead2f4280091e9757284.png" alt="å›¾15 çº¿ç¨‹æ± é˜Ÿåˆ—é•¿åº¦è®¾ç½®è¿‡é•¿ã€corePoolSize è®¾ç½®è¿‡å°å¯¼è‡´ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦ä½"></a>å›¾15 çº¿ç¨‹æ± é˜Ÿåˆ—é•¿åº¦è®¾ç½®è¿‡é•¿ã€corePoolSize è®¾ç½®è¿‡å°å¯¼è‡´ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦ä½</p><p>ä¸šåŠ¡ä¸­è¦ä½¿ç”¨çº¿ç¨‹æ± ï¼Œè€Œä½¿ç”¨ä¸å½“åˆä¼šå¯¼è‡´æ•…éšœï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€æ ·æ‰èƒ½æ›´å¥½åœ°ä½¿ç”¨çº¿ç¨‹æ± å‘¢ï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸‹é¢å»¶å±•å‡ ä¸ªæ–¹å‘ï¼š</p><h4 id="3-2-1-èƒ½å¦ä¸ç”¨çº¿ç¨‹æ± "><a href="#3-2-1-èƒ½å¦ä¸ç”¨çº¿ç¨‹æ± " class="headerlink" title="3.2.1 èƒ½å¦ä¸ç”¨çº¿ç¨‹æ± ?"></a>3.2.1 èƒ½å¦ä¸ç”¨çº¿ç¨‹æ± ?</h4><p>å›åˆ°æœ€åˆçš„é—®é¢˜ï¼Œä¸šåŠ¡ä½¿ç”¨çº¿ç¨‹æ± æ˜¯ä¸ºäº†è·å–å¹¶å‘æ€§ï¼Œå¯¹äºè·å–å¹¶å‘æ€§ï¼Œæ˜¯å¦å¯ä»¥æœ‰ä»€ä¹ˆå…¶ä»–çš„æ–¹æ¡ˆå‘¢æ›¿ä»£ï¼Ÿæˆ‘ä»¬å°è¯•è¿›è¡Œäº†ä¸€äº›å…¶ä»–æ–¹æ¡ˆçš„è°ƒç ”ï¼š</p><p><a href="https://p0.meituan.net/travelcube/56ab763273b2c03b2f1c37db7b150338414771.png"><img src="https://p0.meituan.net/travelcube/56ab763273b2c03b2f1c37db7b150338414771.png" alt="img"></a></p><p>ç»¼åˆè€ƒè™‘ï¼Œè¿™äº›æ–°çš„æ–¹æ¡ˆéƒ½èƒ½åœ¨æŸç§æƒ…å†µä¸‹æå‡å¹¶è¡Œä»»åŠ¡çš„æ€§èƒ½ï¼Œç„¶è€Œæœ¬æ¬¡é‡ç‚¹è§£å†³çš„é—®é¢˜æ˜¯å¦‚ä½•æ›´ç®€æ˜“ã€æ›´å®‰å…¨åœ°è·å¾—çš„å¹¶å‘æ€§ã€‚å¦å¤–ï¼ŒActor æ¨¡å‹çš„åº”ç”¨å®é™…ä¸Šç”šå°‘ï¼Œåªåœ¨ Scala ä¸­ä½¿ç”¨å¹¿æ³›ï¼Œåç¨‹æ¡†æ¶åœ¨ Java ä¸­ç»´æŠ¤çš„ä¹Ÿä¸æˆç†Ÿã€‚è¿™ä¸‰è€…ç°é˜¶æ®µéƒ½ä¸æ˜¯è¶³å¤Ÿçš„æ˜“ç”¨ï¼Œä¹Ÿå¹¶ä¸èƒ½è§£å†³ä¸šåŠ¡ä¸Šç°é˜¶æ®µçš„é—®é¢˜ã€‚</p><h4 id="3-2-1-è¿½æ±‚å‚æ•°è®¾ç½®åˆç†æ€§ï¼Ÿ"><a href="#3-2-1-è¿½æ±‚å‚æ•°è®¾ç½®åˆç†æ€§ï¼Ÿ" class="headerlink" title="3.2.1 è¿½æ±‚å‚æ•°è®¾ç½®åˆç†æ€§ï¼Ÿ"></a>3.2.1 è¿½æ±‚å‚æ•°è®¾ç½®åˆç†æ€§ï¼Ÿ</h4><p>æœ‰æ²¡æœ‰ä¸€ç§è®¡ç®—å…¬å¼ï¼Œèƒ½å¤Ÿè®©å¼€å‘åŒå­¦å¾ˆç®€æ˜“åœ°è®¡ç®—å‡ºæŸç§åœºæ™¯ä¸­çš„çº¿ç¨‹æ± åº”è¯¥æ˜¯ä»€ä¹ˆå‚æ•°å‘¢ï¼Ÿ</p><p>å¸¦ç€è¿™æ ·çš„ç–‘é—®ï¼Œæˆ‘ä»¬è°ƒç ”äº†ä¸šç•Œçš„ä¸€äº›çº¿ç¨‹æ± å‚æ•°é…ç½®æ–¹æ¡ˆï¼š</p><p><a href="https://p0.meituan.net/travelcube/23a44974ff68a08261fb675242b83648181953.png"><img src="https://p0.meituan.net/travelcube/23a44974ff68a08261fb675242b83648181953.png" alt="img"></a></p><p>è°ƒç ”äº†ä»¥ä¸Šä¸šç•Œæ–¹æ¡ˆåï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å¾—å‡ºé€šç”¨çš„çº¿ç¨‹æ± è®¡ç®—æ–¹å¼ã€‚å¹¶å‘ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µå’Œä»»åŠ¡ç±»å‹ç›¸å…³ï¼ŒIO å¯†é›†å‹å’Œ CPU å¯†é›†å‹çš„ä»»åŠ¡è¿è¡Œèµ·æ¥çš„æƒ…å†µå·®å¼‚éå¸¸å¤§ï¼Œä½†è¿™ç§å æ¯”æ˜¯è¾ƒéš¾åˆç†é¢„ä¼°çš„ï¼Œè¿™å¯¼è‡´å¾ˆéš¾æœ‰ä¸€ä¸ªç®€å•æœ‰æ•ˆçš„é€šç”¨å…¬å¼å¸®æˆ‘ä»¬ç›´æ¥è®¡ç®—å‡ºç»“æœã€‚</p><h4 id="3-2-3-çº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–ï¼Ÿ"><a href="#3-2-3-çº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–ï¼Ÿ" class="headerlink" title="3.2.3 çº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–ï¼Ÿ"></a>3.2.3 çº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–ï¼Ÿ</h4><p>å°½ç®¡ç»è¿‡è°¨æ…çš„è¯„ä¼°ï¼Œä»ç„¶ä¸èƒ½å¤Ÿä¿è¯ä¸€æ¬¡è®¡ç®—å‡ºæ¥åˆé€‚çš„å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†ä¿®æ”¹çº¿ç¨‹æ± å‚æ•°çš„æˆæœ¬é™ä¸‹æ¥ï¼Œè¿™æ ·è‡³å°‘å¯ä»¥å‘ç”Ÿæ•…éšœçš„æ—¶å€™å¯ä»¥å¿«é€Ÿè°ƒæ•´ä»è€Œç¼©çŸ­æ•…éšœæ¢å¤çš„æ—¶é—´å‘¢ï¼ŸåŸºäºè¿™ä¸ªæ€è€ƒï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†çº¿ç¨‹æ± çš„å‚æ•°<br>ä»ä»£ç ä¸­è¿ç§»åˆ°åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒä¸Šï¼Œå®ç°çº¿ç¨‹æ± å‚æ•°å¯åŠ¨æ€é…ç½®å’Œå³æ—¶ç”Ÿæ•ˆï¼Œçº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–å‰åçš„å‚æ•°ä¿®æ”¹æµç¨‹å¯¹æ¯”å¦‚ä¸‹ï¼š</p><p><a href="https://p0.meituan.net/travelcube/c6caa5be64f39758ada0593b995d65fd25982.png"><img src="https://p0.meituan.net/travelcube/c6caa5be64f39758ada0593b995d65fd25982.png" alt="å›¾16 åŠ¨æ€ä¿®æ”¹çº¿ç¨‹æ± å‚æ•°æ–°æ—§æµç¨‹å¯¹æ¯”"></a>å›¾16 åŠ¨æ€ä¿®æ”¹çº¿ç¨‹æ± å‚æ•°æ–°æ—§æµç¨‹å¯¹æ¯”</p><p>åŸºäºä»¥ä¸Šä¸‰ä¸ªæ–¹å‘å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå‚æ•°åŠ¨æ€åŒ–æ–¹å‘ç®€å•æœ‰æ•ˆã€‚</p><h3 id="3-3-åŠ¨æ€åŒ–çº¿ç¨‹æ± "><a href="#3-3-åŠ¨æ€åŒ–çº¿ç¨‹æ± " class="headerlink" title="3.3 åŠ¨æ€åŒ–çº¿ç¨‹æ± "></a>3.3 åŠ¨æ€åŒ–çº¿ç¨‹æ± </h3><h4 id="3-3-1-æ•´ä½“è®¾è®¡"><a href="#3-3-1-æ•´ä½“è®¾è®¡" class="headerlink" title="3.3.1 æ•´ä½“è®¾è®¡"></a>3.3.1 æ•´ä½“è®¾è®¡</h4><p>åŠ¨æ€åŒ–çº¿ç¨‹æ± çš„æ ¸å¿ƒè®¾è®¡åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p><ol><li>ç®€åŒ–çº¿ç¨‹æ± é…ç½®ï¼šçº¿ç¨‹æ± æ„é€ å‚æ•°æœ‰8ä¸ªï¼Œä½†æ˜¯æœ€æ ¸å¿ƒçš„æ˜¯3ä¸ªï¼šcorePoolSizeã€maximumPoolSizeï¼ŒworkQueueï¼Œå®ƒä»¬æœ€å¤§ç¨‹åº¦åœ°å†³å®šäº†çº¿ç¨‹æ± çš„ä»»åŠ¡åˆ†é…å’Œçº¿ç¨‹åˆ†é…ç­–ç•¥ã€‚è€ƒè™‘åˆ°åœ¨å®é™…åº”ç”¨ä¸­æˆ‘ä»¬è·å–å¹¶å‘æ€§çš„åœºæ™¯ä¸»è¦æ˜¯ä¸¤ç§ï¼š</li></ol><ul><li>å¹¶è¡Œæ‰§è¡Œå­ä»»åŠ¡ï¼Œæé«˜å“åº”é€Ÿåº¦ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨åŒæ­¥é˜Ÿåˆ—ï¼Œæ²¡æœ‰ä»€ä¹ˆä»»åŠ¡åº”è¯¥è¢«ç¼“å­˜ä¸‹æ¥ï¼Œè€Œæ˜¯åº”è¯¥ç«‹å³æ‰§è¡Œã€‚</li><li>å¹¶è¡Œæ‰§è¡Œå¤§æ‰¹æ¬¡ä»»åŠ¡ï¼Œæå‡ååé‡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—ï¼Œä½¿ç”¨é˜Ÿåˆ—å»ç¼“å†²å¤§æ‰¹é‡çš„ä»»åŠ¡ï¼Œé˜Ÿåˆ—å®¹é‡å¿…é¡»å£°æ˜ï¼Œé˜²æ­¢ä»»åŠ¡æ— é™åˆ¶å †ç§¯ã€‚æ‰€ä»¥çº¿ç¨‹æ± åªéœ€è¦æä¾›è¿™ä¸‰ä¸ªå…³é”®å‚æ•°çš„é…ç½®ï¼Œå¹¶ä¸”æä¾›ä¸¤ç§é˜Ÿåˆ—çš„é€‰æ‹©ï¼Œå°±å¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°çš„ä¸šåŠ¡éœ€æ±‚ï¼ŒLess is Moreã€‚</li></ul><ol><li>å‚æ•°å¯åŠ¨æ€ä¿®æ”¹ï¼šä¸ºäº†è§£å†³å‚æ•°ä¸å¥½é…ï¼Œä¿®æ”¹å‚æ•°æˆæœ¬é«˜ç­‰é—®é¢˜ã€‚åœ¨ Java çº¿ç¨‹æ± ç•™æœ‰é«˜æ‰©å±•æ€§çš„åŸºç¡€ä¸Šï¼Œå°è£…çº¿ç¨‹æ± ï¼Œå…è®¸çº¿ç¨‹æ± ç›‘å¬åŒæ­¥å¤–éƒ¨çš„æ¶ˆæ¯ï¼Œæ ¹æ®æ¶ˆæ¯è¿›è¡Œä¿®æ”¹é…ç½®ã€‚å°†çº¿ç¨‹æ± çš„é…ç½®æ”¾ç½®åœ¨å¹³å°ä¾§ï¼Œå…è®¸å¼€å‘åŒå­¦ç®€å•çš„æŸ¥çœ‹ã€ä¿®æ”¹çº¿ç¨‹æ± é…ç½®ã€‚</li><li>å¢åŠ çº¿ç¨‹æ± ç›‘æ§ï¼šå¯¹æŸäº‹ç‰©ç¼ºä¹çŠ¶æ€çš„è§‚æµ‹ï¼Œå°±å¯¹å…¶æ”¹è¿›æ— ä»ä¸‹æ‰‹ã€‚åœ¨çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸæ·»åŠ ç›‘æ§èƒ½åŠ›ï¼Œå¸®åŠ©å¼€å‘åŒå­¦äº†è§£çº¿ç¨‹æ± çŠ¶æ€ã€‚</li></ol><p><a href="https://p1.meituan.net/travelcube/4d5c410ad23782350cc9f980787151fd54144.png"><img src="https://p1.meituan.net/travelcube/4d5c410ad23782350cc9f980787151fd54144.png" alt="å›¾17 åŠ¨æ€åŒ–çº¿ç¨‹æ± æ•´ä½“è®¾è®¡"></a>å›¾17 åŠ¨æ€åŒ–çº¿ç¨‹æ± æ•´ä½“è®¾è®¡</p><h4 id="3-3-2-åŠŸèƒ½æ¶æ„"><a href="#3-3-2-åŠŸèƒ½æ¶æ„" class="headerlink" title="3.3.2 åŠŸèƒ½æ¶æ„"></a>3.3.2 åŠŸèƒ½æ¶æ„</h4><p>åŠ¨æ€åŒ–çº¿ç¨‹æ± æä¾›å¦‚ä¸‹åŠŸèƒ½ï¼š</p><p><strong>åŠ¨æ€è°ƒå‚</strong>ï¼šæ”¯æŒçº¿ç¨‹æ± å‚æ•°åŠ¨æ€è°ƒæ•´ã€ç•Œé¢åŒ–æ“ä½œï¼›åŒ…æ‹¬ä¿®æ”¹çº¿ç¨‹æ± æ ¸å¿ƒå¤§å°ã€æœ€å¤§æ ¸å¿ƒå¤§å°ã€é˜Ÿåˆ—é•¿åº¦ç­‰ï¼›å‚æ•°ä¿®æ”¹ååŠæ—¶ç”Ÿæ•ˆã€‚</p><p><strong>ä»»åŠ¡ç›‘æ§</strong>ï¼šæ”¯æŒåº”ç”¨ç²’åº¦ã€çº¿ç¨‹æ± ç²’åº¦ã€ä»»åŠ¡ç²’åº¦çš„ Transaction ç›‘æ§ï¼›å¯ä»¥çœ‹åˆ°çº¿ç¨‹æ± çš„ä»»åŠ¡æ‰§è¡Œæƒ…å†µã€æœ€å¤§ä»»åŠ¡æ‰§è¡Œæ—¶é—´ã€å¹³å‡ä»»åŠ¡æ‰§è¡Œæ—¶é—´ã€95/99çº¿ç­‰ã€‚</p><p><strong>è´Ÿè½½å‘Šè­¦</strong>ï¼šçº¿ç¨‹æ± é˜Ÿåˆ—ä»»åŠ¡ç§¯å‹åˆ°ä¸€å®šå€¼çš„æ—¶å€™ä¼šé€šè¿‡å¤§è±¡ï¼ˆç¾å›¢å†…éƒ¨é€šè®¯å·¥å…·ï¼‰å‘ŠçŸ¥åº”ç”¨å¼€å‘è´Ÿè´£äººï¼›å½“çº¿ç¨‹æ± è´Ÿè½½æ•°è¾¾åˆ°ä¸€å®šé˜ˆå€¼çš„æ—¶å€™ä¼šé€šè¿‡å¤§è±¡å‘ŠçŸ¥åº”ç”¨å¼€å‘è´Ÿè´£äººã€‚</p><p><strong>æ“ä½œç›‘æ§</strong>ï¼šåˆ›å»º/ä¿®æ”¹å’Œåˆ é™¤çº¿ç¨‹æ± éƒ½ä¼šé€šçŸ¥åˆ°åº”ç”¨çš„å¼€å‘è´Ÿè´£äººã€‚</p><p><strong>æ“ä½œæ—¥å¿—</strong>ï¼šå¯ä»¥æŸ¥çœ‹çº¿ç¨‹æ± å‚æ•°çš„ä¿®æ”¹è®°å½•ï¼Œè°åœ¨ä»€ä¹ˆæ—¶å€™ä¿®æ”¹äº†çº¿ç¨‹æ± å‚æ•°ã€ä¿®æ”¹å‰çš„å‚æ•°å€¼æ˜¯ä»€ä¹ˆã€‚</p><p><strong>æƒé™æ ¡éªŒ</strong>ï¼šåªæœ‰åº”ç”¨å¼€å‘è´Ÿè´£äººæ‰èƒ½å¤Ÿä¿®æ”¹åº”ç”¨çš„çº¿ç¨‹æ± å‚æ•°ã€‚</p><p><a href="https://p0.meituan.net/travelcube/6c0091e92e90f50f89fd83f3b9eb5472135718.png"><img src="https://p0.meituan.net/travelcube/6c0091e92e90f50f89fd83f3b9eb5472135718.png" alt="å›¾18 åŠ¨æ€åŒ–çº¿ç¨‹æ± åŠŸèƒ½æ¶æ„"></a>å›¾18 åŠ¨æ€åŒ–çº¿ç¨‹æ± åŠŸèƒ½æ¶æ„</p><h4 id="3-2-3-å‚æ•°åŠ¨æ€åŒ–"><a href="#3-2-3-å‚æ•°åŠ¨æ€åŒ–" class="headerlink" title="3.2.3 å‚æ•°åŠ¨æ€åŒ–"></a>3.2.3 å‚æ•°åŠ¨æ€åŒ–</h4><p>JDK åŸç”Ÿçº¿ç¨‹æ±  ThreadPoolExecutor æä¾›äº†å¦‚ä¸‹å‡ ä¸ª public çš„ setter æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p1.meituan.net/travelcube/efd32f1211e9cf0a3ca9d35b0dc5de8588353.png"><img src="https://p1.meituan.net/travelcube/efd32f1211e9cf0a3ca9d35b0dc5de8588353.png" alt="å›¾19 JDK çº¿ç¨‹æ± å‚æ•°è®¾ç½®æ¥å£"></a>å›¾19 JDK çº¿ç¨‹æ± å‚æ•°è®¾ç½®æ¥å£</p><p>JDK å…è®¸çº¿ç¨‹æ± ä½¿ç”¨æ–¹é€šè¿‡ ThreadPoolExecutor çš„å®ä¾‹æ¥åŠ¨æ€è®¾ç½®çº¿ç¨‹æ± çš„æ ¸å¿ƒç­–ç•¥ï¼Œä»¥ setCorePoolSize ä¸ºæ–¹æ³•ä¾‹ï¼Œåœ¨è¿è¡ŒæœŸçº¿ç¨‹æ± ä½¿ç”¨æ–¹è°ƒç”¨æ­¤æ–¹æ³•è®¾ç½® corePoolSize ä¹‹åï¼Œçº¿ç¨‹æ± ä¼šç›´æ¥è¦†ç›–åŸæ¥çš„ corePoolSize å€¼ï¼Œå¹¶ä¸”åŸºäºå½“å‰å€¼å’ŒåŸå§‹å€¼çš„æ¯”è¾ƒç»“æœé‡‡å–ä¸åŒçš„å¤„ç†ç­–ç•¥ã€‚å¯¹äºå½“å‰å€¼å°äºå½“å‰å·¥ä½œçº¿ç¨‹æ•°çš„æƒ…å†µï¼Œè¯´æ˜æœ‰å¤šä½™çš„ worker çº¿ç¨‹ï¼Œæ­¤æ—¶ä¼šå‘å½“å‰ idle çš„ worker çº¿ç¨‹å‘èµ·ä¸­æ–­è¯·æ±‚ä»¥å®ç°å›æ”¶ï¼Œå¤šä½™çš„ worker åœ¨ä¸‹æ¬¡ idel çš„æ—¶å€™ä¹Ÿä¼šè¢«å›æ”¶ï¼›å¯¹äºå½“å‰å€¼å¤§äºåŸå§‹å€¼ä¸”å½“å‰é˜Ÿåˆ—ä¸­æœ‰å¾…æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™çº¿ç¨‹æ± ä¼šåˆ›å»ºæ–°çš„ worker çº¿ç¨‹æ¥æ‰§è¡Œé˜Ÿåˆ—ä»»åŠ¡ï¼ŒsetCorePoolSize å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p><a href="https://p0.meituan.net/travelcube/9379fe1666818237f842138812bf63bd85645.png"><img src="https://p0.meituan.net/travelcube/9379fe1666818237f842138812bf63bd85645.png" alt="å›¾20 setCorePoolSize æ–¹æ³•æ‰§è¡Œæµç¨‹"></a>å›¾20 setCorePoolSize æ–¹æ³•æ‰§è¡Œæµç¨‹</p><p>çº¿ç¨‹æ± å†…éƒ¨ä¼šå¤„ç†å¥½å½“å‰çŠ¶æ€åšåˆ°å¹³æ»‘ä¿®æ”¹ï¼Œå…¶ä»–å‡ ä¸ªæ–¹æ³•é™äºç¯‡å¹…ï¼Œè¿™é‡Œä¸ä¸€ä¸€ä»‹ç»ã€‚é‡ç‚¹æ˜¯åŸºäºè¿™å‡ ä¸ª public æ–¹æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤ ThreadPoolExecutor çš„å®ä¾‹ï¼Œå¹¶ä¸”åœ¨éœ€è¦ä¿®æ”¹çš„æ—¶å€™æ‹¿åˆ°å®ä¾‹ä¿®æ”¹å…¶å‚æ•°å³å¯ã€‚åŸºäºä»¥ä¸Šçš„æ€è·¯ï¼Œæˆ‘ä»¬å®ç°äº†çº¿ç¨‹æ± å‚æ•°çš„åŠ¨æ€åŒ–ã€çº¿ç¨‹æ± å‚æ•°åœ¨ç®¡ç†å¹³å°å¯é…ç½®å¯ä¿®æ”¹ï¼Œå…¶æ•ˆæœå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/414ba7f3abd11e5f805c58635ae10988166121.png"><img src="https://p0.meituan.net/travelcube/414ba7f3abd11e5f805c58635ae10988166121.png" alt="å›¾21 å¯åŠ¨æ€ä¿®æ”¹çº¿ç¨‹æ± å‚æ•°"></a>å›¾21 å¯åŠ¨æ€ä¿®æ”¹çº¿ç¨‹æ± å‚æ•°</p><p>ç”¨æˆ·å¯ä»¥åœ¨ç®¡ç†å¹³å°ä¸Šé€šè¿‡çº¿ç¨‹æ± çš„åå­—æ‰¾åˆ°æŒ‡å®šçš„çº¿ç¨‹æ± ï¼Œç„¶åå¯¹å…¶å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œä¿å­˜åä¼šå®æ—¶ç”Ÿæ•ˆã€‚ç›®å‰æ”¯æŒçš„åŠ¨æ€å‚æ•°åŒ…æ‹¬æ ¸å¿ƒæ•°ã€æœ€å¤§å€¼ã€é˜Ÿåˆ—é•¿åº¦ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬è¿˜èƒ½çœ‹åˆ°ç”¨æˆ·å¯ä»¥é…ç½®æ˜¯å¦å¼€å¯å‘Šè­¦ã€é˜Ÿåˆ—ç­‰å¾…ä»»åŠ¡å‘Šè­¦é˜ˆå€¼ã€æ´»è·ƒåº¦å‘Šè­¦ç­‰ç­‰ã€‚å…³äºç›‘æ§å’Œå‘Šè­¦ï¼Œæˆ‘ä»¬ä¸‹é¢ä¸€èŠ‚ä¼šå¯¹é½è¿›è¡Œä»‹ç»ã€‚</p><h4 id="3-2-4-çº¿ç¨‹æ± ç›‘æ§"><a href="#3-2-4-çº¿ç¨‹æ± ç›‘æ§" class="headerlink" title="3.2.4 çº¿ç¨‹æ± ç›‘æ§"></a>3.2.4 çº¿ç¨‹æ± ç›‘æ§</h4><p>é™¤äº†å‚æ•°åŠ¨æ€åŒ–ä¹‹å¤–ï¼Œä¸ºäº†æ›´å¥½åœ°ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæˆ‘ä»¬éœ€è¦å¯¹çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶å†µæœ‰æ„ŸçŸ¥ï¼Œæ¯”å¦‚å½“å‰çº¿ç¨‹æ± çš„è´Ÿè½½æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿåˆ†é…çš„èµ„æºå¤Ÿä¸å¤Ÿç”¨ï¼Ÿä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿæ˜¯é•¿ä»»åŠ¡è¿˜æ˜¯çŸ­ä»»åŠ¡ï¼ŸåŸºäºå¯¹è¿™äº›é—®é¢˜çš„æ€è€ƒï¼ŒåŠ¨æ€åŒ–çº¿ç¨‹æ± æä¾›äº†å¤šä¸ªç»´åº¦çš„ç›‘æ§å’Œå‘Šè­¦èƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼šçº¿ç¨‹æ± æ´»è·ƒåº¦ã€ä»»åŠ¡çš„æ‰§è¡Œ Transactionï¼ˆé¢‘ç‡ã€è€—æ—¶ï¼‰ã€Reject å¼‚å¸¸ã€çº¿ç¨‹æ± å†…éƒ¨ç»Ÿè®¡ä¿¡æ¯ç­‰ç­‰ï¼Œæ—¢èƒ½å¸®åŠ©ç”¨æˆ·ä»å¤šä¸ªç»´åº¦åˆ†æçº¿ç¨‹æ± çš„ä½¿ç”¨æƒ…å†µï¼Œåˆèƒ½åœ¨å‡ºç°é—®é¢˜ç¬¬ä¸€æ—¶é—´é€šçŸ¥åˆ°ç”¨æˆ·ï¼Œä»è€Œé¿å…æ•…éšœæˆ–åŠ é€Ÿæ•…éšœæ¢å¤ã€‚</p><h4 id="3-2-5-è´Ÿè½½ç›‘æ§å’Œå‘Šè­¦"><a href="#3-2-5-è´Ÿè½½ç›‘æ§å’Œå‘Šè­¦" class="headerlink" title="3.2.5 è´Ÿè½½ç›‘æ§å’Œå‘Šè­¦"></a>3.2.5 è´Ÿè½½ç›‘æ§å’Œå‘Šè­¦</h4><p>çº¿ç¨‹æ± è´Ÿè½½å…³æ³¨çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šåŸºäºå½“å‰çº¿ç¨‹æ± å‚æ•°åˆ†é…çš„èµ„æºå¤Ÿä¸å¤Ÿã€‚å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä»äº‹å‰å’Œäº‹ä¸­ä¸¤ä¸ªè§’åº¦æ¥çœ‹ã€‚äº‹å‰ï¼Œçº¿ç¨‹æ± å®šä¹‰äº†â€œæ´»è·ƒåº¦â€è¿™ä¸ªæ¦‚å¿µï¼Œæ¥è®©ç”¨æˆ·åœ¨å‘ç”Ÿ Reject å¼‚å¸¸ä¹‹å‰èƒ½å¤Ÿæ„ŸçŸ¥çº¿ç¨‹æ± è´Ÿè½½é—®é¢˜ï¼Œçº¿ç¨‹æ± æ´»è·ƒåº¦è®¡ç®—å…¬å¼ä¸ºï¼šçº¿ç¨‹æ± æ´»è·ƒåº¦ = activeCount/maximumPoolSizeã€‚è¿™ä¸ªå…¬å¼ä»£è¡¨å½“æ´»è·ƒçº¿ç¨‹æ•°è¶‹å‘äº maximumPoolSize çš„æ—¶å€™ï¼Œä»£è¡¨çº¿ç¨‹è´Ÿè½½è¶‹é«˜ã€‚äº‹ä¸­ï¼Œä¹Ÿå¯ä»¥ä»ä¸¤æ–¹é¢æ¥çœ‹çº¿ç¨‹æ± çš„è¿‡è½½åˆ¤å®šæ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯å‘ç”Ÿäº† Reject å¼‚å¸¸ï¼Œä¸€ä¸ªæ˜¯é˜Ÿåˆ—ä¸­æœ‰ç­‰å¾…ä»»åŠ¡ï¼ˆæ”¯æŒå®šåˆ¶é˜ˆå€¼ï¼‰ã€‚ä»¥ä¸Šä¸¤ç§æƒ…å†µå‘ç”Ÿäº†éƒ½ä¼šè§¦å‘å‘Šè­¦ï¼Œå‘Šè­¦ä¿¡æ¯ä¼šé€šè¿‡å¤§è±¡æ¨é€ç»™æœåŠ¡æ‰€å…³è”çš„è´Ÿè´£äººã€‚</p><p><a href="https://p0.meituan.net/travelcube/04e73f7186a91d99181e1b5615ce9e4a318600.png"><img src="https://p0.meituan.net/travelcube/04e73f7186a91d99181e1b5615ce9e4a318600.png" alt="å›¾22 å¤§è±¡å‘Šè­¦é€šçŸ¥"></a>å›¾22 å¤§è±¡å‘Šè­¦é€šçŸ¥</p><h4 id="3-2-6-ä»»åŠ¡çº§ç²¾ç»†åŒ–ç›‘æ§"><a href="#3-2-6-ä»»åŠ¡çº§ç²¾ç»†åŒ–ç›‘æ§" class="headerlink" title="3.2.6 ä»»åŠ¡çº§ç²¾ç»†åŒ–ç›‘æ§"></a>3.2.6 ä»»åŠ¡çº§ç²¾ç»†åŒ–ç›‘æ§</h4><p>åœ¨ä¼ ç»Ÿçš„çº¿ç¨‹æ± åº”ç”¨åœºæ™¯ä¸­ï¼Œçº¿ç¨‹æ± ä¸­çš„ä»»åŠ¡æ‰§è¡Œæƒ…å†µå¯¹äºç”¨æˆ·æ¥è¯´æ˜¯é€æ˜çš„ã€‚æ¯”å¦‚åœ¨ä¸€ä¸ªå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸šåŠ¡å¼€å‘ç”³è¯·äº†ä¸€ä¸ªçº¿ç¨‹æ± åŒæ—¶ç”¨äºæ‰§è¡Œä¸¤ç§ä»»åŠ¡ï¼Œä¸€ä¸ªæ˜¯å‘æ¶ˆæ¯ä»»åŠ¡ã€ä¸€ä¸ªæ˜¯å‘çŸ­ä¿¡ä»»åŠ¡ï¼Œè¿™ä¸¤ç±»ä»»åŠ¡å®é™…æ‰§è¡Œçš„é¢‘ç‡å’Œæ—¶é•¿å¯¹äºç”¨æˆ·æ¥è¯´æ²¡æœ‰ä¸€ä¸ªç›´è§‚çš„æ„Ÿå—ï¼Œå¾ˆå¯èƒ½è¿™ä¸¤ç±»ä»»åŠ¡ä¸é€‚åˆå…±äº«ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œä½†æ˜¯ç”±äºç”¨æˆ·æ— æ³•æ„ŸçŸ¥ï¼Œå› æ­¤ä¹Ÿæ— ä»ä¼˜åŒ–ã€‚åŠ¨æ€åŒ–çº¿ç¨‹æ± å†…éƒ¨å®ç°äº†ä»»åŠ¡çº§åˆ«çš„åŸ‹ç‚¹ï¼Œä¸”å…è®¸ä¸ºä¸åŒçš„ä¸šåŠ¡ä»»åŠ¡æŒ‡å®šå…·æœ‰ä¸šåŠ¡å«ä¹‰çš„åç§°ï¼Œçº¿ç¨‹æ± å†…éƒ¨åŸºäºè¿™ä¸ªåç§°åš Transaction æ‰“ç‚¹ï¼ŒåŸºäºè¿™ä¸ªåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥çœ‹åˆ°çº¿ç¨‹æ± å†…éƒ¨ä»»åŠ¡çº§åˆ«çš„æ‰§è¡Œæƒ…å†µï¼Œä¸”åŒºåˆ†ä¸šåŠ¡ï¼Œä»»åŠ¡ç›‘æ§ç¤ºæ„å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p1.meituan.net/travelcube/cd0b9445c3c93a866201b7cfb24d2ce7214776.png"><img src="https://p1.meituan.net/travelcube/cd0b9445c3c93a866201b7cfb24d2ce7214776.png" alt="å›¾23 çº¿ç¨‹æ± ä»»åŠ¡æ‰§è¡Œç›‘æ§"></a>å›¾23 çº¿ç¨‹æ± ä»»åŠ¡æ‰§è¡Œç›‘æ§</p><h4 id="3-2-7-è¿è¡Œæ—¶çŠ¶æ€å®æ—¶æŸ¥çœ‹"><a href="#3-2-7-è¿è¡Œæ—¶çŠ¶æ€å®æ—¶æŸ¥çœ‹" class="headerlink" title="3.2.7 è¿è¡Œæ—¶çŠ¶æ€å®æ—¶æŸ¥çœ‹"></a>3.2.7 è¿è¡Œæ—¶çŠ¶æ€å®æ—¶æŸ¥çœ‹</h4><p>ç”¨æˆ·åŸºäº JDK åŸç”Ÿçº¿ç¨‹æ±  ThreadPoolExecutor æä¾›çš„å‡ ä¸ª public çš„ getter æ–¹æ³•ï¼Œå¯ä»¥è¯»å–åˆ°å½“å‰çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ä»¥åŠå‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p0.meituan.net/travelcube/aba8d9c09e6f054c7061ddd720a04a26147951.png"><img src="https://p0.meituan.net/travelcube/aba8d9c09e6f054c7061ddd720a04a26147951.png" alt="å›¾24 çº¿ç¨‹æ± å®æ—¶è¿è¡Œæƒ…å†µ"></a>å›¾24 çº¿ç¨‹æ± å®æ—¶è¿è¡Œæƒ…å†µ</p><p>åŠ¨æ€åŒ–çº¿ç¨‹æ± åŸºäºè¿™å‡ ä¸ªæ¥å£å°è£…äº†è¿è¡Œæ—¶çŠ¶æ€å®æ—¶æŸ¥çœ‹çš„åŠŸèƒ½ï¼Œç”¨æˆ·åŸºäºè¿™ä¸ªåŠŸèƒ½å¯ä»¥äº†è§£çº¿ç¨‹æ± çš„å®æ—¶çŠ¶æ€ï¼Œæ¯”å¦‚å½“å‰æœ‰å¤šå°‘ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œæ‰§è¡Œäº†å¤šå°‘ä¸ªä»»åŠ¡ï¼Œé˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡æ•°ç­‰ç­‰ã€‚æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://p1.meituan.net/travelcube/38d5fbeaebd4998f3a30d44bd20b996f113233.png"><img src="https://p1.meituan.net/travelcube/38d5fbeaebd4998f3a30d44bd20b996f113233.png" alt="å›¾25 çº¿ç¨‹æ± å®æ—¶è¿è¡Œæƒ…å†µ"></a>å›¾25 çº¿ç¨‹æ± å®æ—¶è¿è¡Œæƒ…å†µ</p><h3 id="3-4-å®è·µæ€»ç»“"><a href="#3-4-å®è·µæ€»ç»“" class="headerlink" title="3.4 å®è·µæ€»ç»“"></a>3.4 å®è·µæ€»ç»“</h3><p>é¢å¯¹ä¸šåŠ¡ä¸­ä½¿ç”¨çº¿ç¨‹æ± é‡åˆ°çš„å®é™…é—®é¢˜ï¼Œæˆ‘ä»¬æ›¾å›åˆ°æ”¯æŒå¹¶å‘æ€§é—®é¢˜æœ¬èº«æ¥æ€è€ƒæœ‰æ²¡æœ‰å–ä»£çº¿ç¨‹æ± çš„æ–¹æ¡ˆï¼Œä¹Ÿæ›¾å°è¯•ç€å»è¿½æ±‚çº¿ç¨‹æ± å‚æ•°è®¾ç½®çš„åˆç†æ€§ï¼Œä½†é¢å¯¹ä¸šç•Œæ–¹æ¡ˆå…·ä½“è½åœ°çš„å¤æ‚æ€§ã€å¯ç»´æŠ¤æ€§ä»¥åŠçœŸå®è¿è¡Œç¯å¢ƒçš„ä¸ç¡®å®šæ€§ï¼Œæˆ‘ä»¬åœ¨å‰ä¸¤ä¸ªæ–¹å‘ä¸Šå¯è°“â€œä¸¾æ­¥ç»´è‰°â€ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å›åˆ°çº¿ç¨‹æ± å‚æ•°åŠ¨æ€åŒ–æ–¹å‘ä¸Šæ¢ç´¢ï¼Œå¾—å‡ºä¸€ä¸ªä¸”å¯ä»¥è§£å†³ä¸šåŠ¡é—®é¢˜çš„æ–¹æ¡ˆï¼Œè™½ç„¶æœ¬è´¨ä¸Šè¿˜æ˜¯æ²¡æœ‰é€ƒç¦»ä½¿ç”¨çº¿ç¨‹æ± çš„èŒƒç•´ï¼Œä½†æ˜¯åœ¨æˆæœ¬å’Œæ”¶ç›Šä¹‹é—´ï¼Œç®—æ˜¯å–å¾—äº†ä¸€ä¸ªå¾ˆå¥½çš„å¹³è¡¡ã€‚æˆæœ¬åœ¨äºå®ç°åŠ¨æ€åŒ–ä»¥åŠç›‘æ§æˆæœ¬ä¸é«˜ï¼Œæ”¶ç›Šåœ¨äºï¼šåœ¨ä¸é¢ è¦†åŸæœ‰çº¿ç¨‹æ± ä½¿ç”¨æ–¹å¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œä»é™ä½çº¿ç¨‹æ± å‚æ•°ä¿®æ”¹çš„æˆæœ¬ä»¥åŠå¤šç»´åº¦ç›‘æ§è¿™ä¸¤ä¸ªæ–¹é¢é™ä½äº†æ•…éšœå‘ç”Ÿçš„æ¦‚ç‡ã€‚å¸Œæœ›æœ¬æ–‡æä¾›çš„åŠ¨æ€åŒ–çº¿ç¨‹æ± æ€è·¯èƒ½å¯¹å¤§å®¶æœ‰å¸®åŠ©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
            <tag> å¹¶å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”Ÿäº§ç¯å¢ƒæ—¥å¸¸å‘½ä»¤</title>
      <link href="2ef1ed5250c5.html"/>
      <url>2ef1ed5250c5.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç”Ÿäº§ç¯å¢ƒæ—¥å¸¸å‘½ä»¤"><a href="#ç”Ÿäº§ç¯å¢ƒæ—¥å¸¸å‘½ä»¤" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒæ—¥å¸¸å‘½ä»¤"></a>ç”Ÿäº§ç¯å¢ƒæ—¥å¸¸å‘½ä»¤</h2><p>æŸ¥çœ‹httpçš„å¹¶å‘è¯·æ±‚æ•°ä¸å…¶TCPè¿æ¥çŠ¶æ€</p><p>netstat -n | awk â€˜/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}â€™</p><p>{++S[$NF]ç»Ÿè®¡æ¯è¡Œæœ€åä¸€ä¸ªå‡ºç°çš„æ¬¡æ•°ï¼Œè‡³å°‘ä¸€æ¬¡ï¼Œæ”¾å…¥æ•°ç»„ä¸­$NFçš„æ„æ€å°±æ˜¯æ‰“å°æœ€åä¸€è¡Œ<br>ENDå‰é¢æ˜¯æŠŠæœ€åä¸€ä¸ªå­—æ®µ+1æ”¾åˆ°æ•°ç»„Sä¸­,ENDæ˜¯æŠŠæ•°ç»„æ‰“å°å‡ºæ¥,<br>å…³è”æ•°ç»„çš„keyæ˜¯æœ€åä¸€ä¸ªå­—æ®µçš„å€¼,valueéƒ½æ˜¯1(å› ä¸ºé»˜è®¤å€¼æ˜¯0,++åæ˜¯1)<br>æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ¯ä¸ªipçš„è¿æ¥æ•°</p><p>ESTABLISHEDï¼šæ­£å¸¸æ•°æ®ä¼ è¾“çŠ¶æ€</p><p>CLOSEDï¼šæ— è¿æ¥æ˜¯æ´»åŠ¨ çš„æˆ–æ­£åœ¨è¿›è¡Œ</p><p>TIME_WAITï¼šå¦ä¸€è¾¹å·²åˆå§‹åŒ–ä¸€ä¸ªé‡Šæ”¾</p><p>æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ¯ä¸ªIPçš„è¿æ¥æ•°</p><p>netstat -n | awk â€˜/^tcp/ {print $5}â€™| awk -F: â€˜{print $1}â€™ | sort | uniq -c |sort -rn</p><p>sort:æ’åºå¹¶è¾“å‡º<br>uniq:å»é‡å¤è¡Œ</p><p>ç”¨tcpdumpå—…æ¢80ç«¯å£çš„è®¿é—®çœ‹çœ‹è°æœ€é«˜</p><p>tcpdump  -i eth0 -tnn dst port 80 -c 1000 | awk -Fâ€.â€ â€˜{print $1â€.â€$2â€.â€$3â€.â€$4}â€™ | sort | uniq -c | sort -nr |head -20</p><p>ç»“æœï¼š<br>1000 packets captured<br>1002 packets received by filter<br>0 packets dropped by kernel</p><p>1000 IP 192.168.1.103</p><p>#æŸ¥çœ‹ç½‘ç«™å¹¶å‘è¿æ¥æ•°</p><p>netstat -nat|grep ESTABLISHED|wc â€“l</p><p>æŸ¥è¯¢è®¿é—®IPæ€»é‡</p><p>awk â€˜{print $1}â€™ /var/log/nginx/access.log|sort|uniq -c|sort -nr |wc -l</p><p>æŸ¥è¯¢è®¿é—®é‡å‰10çš„ip</p><p>awk â€˜{print $1}â€™ /var/log/nginx/access.log|sort|uniq -c|sort -nr |head -10</p><p>PVè®¿é—®é‡ï¼ˆPage Viewï¼‰ï¼Œå³é¡µé¢è®¿é—®é‡ï¼Œæ¯æ‰“å¼€ä¸€æ¬¡é¡µé¢PVè®¡æ•°+1ï¼Œåˆ·æ–°é¡µé¢ä¹Ÿæ˜¯</p><p>IPè®¿é—®æ•°æŒ‡å…¬ç½‘IPè®¿é—®æ•°</p><p>UVè®¿é—®æ•°ï¼ˆUnique Visitorï¼‰æŒ‡ç‹¬ç«‹è®¿å®¢è®¿é—®æ•°ï¼Œä¸€å°ç”µè„‘ç»ˆç«¯ä¸ºä¸€ä¸ªè®¿å®¢</p><p>åœ¨/testç›®å½•ä¸­æŸ¥æ‰¾åŒ…æ‹¬ibmå†…å®¹çš„æ–‡ä»¶</p><p>ls /test |xargs grep -ri â€œibmâ€</p><p>æ‰“å°nginx.confçš„è¡Œå·å’Œå†…å®¹</p><p>cat -n /etc/nginx.conf</p><p>æ›¿æ¢æ–‡ä»¶å†…å®¹<br>vim /test/test.txt<br>:%  s/b/a/g<br>sed -i â€˜s/a/bb/gâ€™ test.txt</p><p>linuxå¦‚æœæŒ‚è½½windå…±äº«ç›®å½•</p><p>mount -t cifs -o usernam=è´¦æˆ·å,password=å¯†ç  //ip/ç›®å½• æŒ‚è½½ç›®å½•</p><p>shellä¸‹32ä½éšæœºå¯†ç ç”Ÿæˆ<br>cat /dev/urandom | head -1 | md5sum | head -c 32 &gt;&gt; /pass</p><p>å†™ä¸€ä¸ªè„šæœ¬æŸ¥æ‰¾æœ€ååˆ›å»ºæ—¶é—´æ˜¯3å¤©å‰ï¼Œåç¼€æ˜¯*.logçš„æ–‡ä»¶å¹¶åˆ é™¤</p><p>find / -name â€œ*.logâ€ -ctime +3 -exec rm -f {} ;</p><p>å†™ä¸€ä¸ªè„šæœ¬å°†æŸç›®å½•ä¸‹å¤§äº100Kçš„æ–‡ä»¶ç§»åŠ¨è‡³/tmp</p><p>#!/bin/bash<br>for file in <code>ls /root</code><br>do<br>if [ -f $file ];then<br>   if [ <code>ls -l $file|awk &#39;&#123;print $5&#125;&#39;</code> -gt 100000 ];then<br>   mv $file /test/<br>fi<br>fi<br>done</p><p>å¦‚ä½•æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶</p><p>hexdump</p><p>åœ¨å½“å‰ç›®å½•æŠŠåŒ…å«xxå†…å®¹çš„æ–‡ä»¶æ‰¾å‡ºï¼Œå¹¶æå–å‡ºè§„å®šä¸‰ä¸ªå†…å®¹ï¼Œå¹¶æŠŠæŒ‡å®šçš„ä¸€ä¸ªå†…å®¹æ”¹æˆè¦æ±‚çš„æ ¼å¼ï¼ˆæç¤ºï¼šå…ˆæ›¿æ¢åˆ†éš”ç¬¦ï¼‰</p><p>ls /test |xargs grep -ri â€œaaâ€ |awk â€˜{print $1,$2,$3,$4,$5}</p><h3 id="MySQLè¯¯æ“ä½œåå¿«é€Ÿæ¢å¤æ•°æ®çš„æ–¹æ³•"><a href="#MySQLè¯¯æ“ä½œåå¿«é€Ÿæ¢å¤æ•°æ®çš„æ–¹æ³•" class="headerlink" title="MySQLè¯¯æ“ä½œåå¿«é€Ÿæ¢å¤æ•°æ®çš„æ–¹æ³•"></a>MySQLè¯¯æ“ä½œåå¿«é€Ÿæ¢å¤æ•°æ®çš„æ–¹æ³•</h3><p><a href="https://www.jb51.net/article/99941.htm">https://www.jb51.net/article/99941.htm</a></p><p><a href="https://www.cnblogs.com/kevingrace/p/5904800.html">https://www.cnblogs.com/kevingrace/p/5904800.html</a></p><p>mysqlä¸€ä¸»å¤šä»ï¼Œä¸»åº“å®•æœºå¦‚ä½•åˆç†åˆ‡æ¢ä»åº“ï¼Œå…¶ä»–ä»åº“å¦‚ä½•å¤„ç†</p><p><a href="https://blog.csdn.net/yabingshi_tech/article/details/51286073">https://blog.csdn.net/yabingshi_tech/article/details/51286073</a></p><p><a href="http://blog.51cto.com/ucode/1747078">http://blog.51cto.com/ucode/1747078</a></p><p>æŸ¥çœ‹httpçš„å¹¶å‘è¯·æ±‚æ•°ä¸å…¶TCPè¿æ¥çŠ¶æ€<br>netstat -n | awk â€˜/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}â€™</p><p>{++S[$NF]  ç»Ÿè®¡æ¯è¡Œæœ€åä¸€ä¸ªå‡ºç°çš„æ¬¡æ•°ï¼Œè‡³å°‘ä¸€æ¬¡ï¼Œæ”¾å…¥æ•°ç»„ä¸­$NFçš„æ„æ€å°±æ˜¯æ‰“å°æœ€åä¸€è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENDå‰é¢æ˜¯æŠŠæœ€åä¸€ä¸ªå­—æ®µ+1æ”¾åˆ°æ•°ç»„Sä¸­,ENDæ˜¯æŠŠæ•°ç»„æ‰“å°å‡ºæ¥, å…³è”æ•°ç»„çš„keyæ˜¯æœ€åä¸€ä¸ªå­—æ®µçš„å€¼,valueéƒ½æ˜¯1(å› ä¸ºé»˜è®¤å€¼æ˜¯0,++åæ˜¯1)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢è®¿é—®é‡å‰10çš„IPåœ°å€<br>awk â€˜{print $1}â€™ /var/log/nginx/access.log|sort|uniq -c|sort -nr|head â€“10</p><p>sort å°†æ–‡ä»¶è¿›è¡Œæ’åº-nï¼šä¾ç…§æ•°å€¼çš„å¤§å°æ’åº ï¼Œ-rï¼šä»¥ç›¸åçš„é¡ºåºæ¥æ’åºï¼›</p><p>ä¾‹å­ï¼šsort error.log |uniq -c |sort -rn &gt;&gt; cuowu.txt     #å¯¹æ–‡æœ¬è¡ŒæŒ‰é‡å¤æ¬¡æ•°è¿›è¡Œæ’åºï¼Œåˆ†ææ—¥å¿—ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-bï¼šå¿½ç•¥æ¯è¡Œå‰é¢å¼€å§‹å‡ºçš„ç©ºæ ¼å­—ç¬¦ï¼›</span><br><span class="line">-cï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç»æŒ‰ç…§é¡ºåºæ’åºï¼›</span><br><span class="line">-dï¼šæ’åºæ—¶ï¼Œå¤„ç†è‹±æ–‡å­—æ¯ã€æ•°å­—åŠç©ºæ ¼å­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›</span><br><span class="line">-fï¼šæ’åºæ—¶ï¼Œå°†å°å†™å­—æ¯è§†ä¸ºå¤§å†™å­—æ¯ï¼›</span><br><span class="line">-iï¼šæ’åºæ—¶ï¼Œé™¤äº†040è‡³176ä¹‹é—´çš„ASCIIå­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›</span><br><span class="line">-mï¼šå°†å‡ ä¸ªæ’åºå·çš„æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼›</span><br><span class="line">-Mï¼šå°†å‰é¢3ä¸ªå­—æ¯ä¾ç…§æœˆä»½çš„ç¼©å†™è¿›è¡Œæ’åºï¼›</span><br><span class="line">-nï¼šä¾ç…§æ•°å€¼çš„å¤§å°æ’åºï¼›</span><br><span class="line">-o&lt;è¾“å‡ºæ–‡ä»¶&gt;ï¼šå°†æ’åºåçš„ç»“æœå­˜å…¥åˆ¶å®šçš„æ–‡ä»¶ï¼›</span><br><span class="line">-rï¼šä»¥ç›¸åçš„é¡ºåºæ¥æ’åºï¼›</span><br><span class="line">-t&lt;åˆ†éš”å­—ç¬¦&gt;ï¼šæŒ‡å®šæ’åºæ—¶æ‰€ç”¨çš„æ ä½åˆ†éš”å­—ç¬¦ï¼›</span><br><span class="line">+&lt;èµ·å§‹æ ä½&gt;-&lt;ç»“æŸæ ä½&gt;ï¼šä»¥æŒ‡å®šçš„æ ä½æ¥æ’åºï¼ŒèŒƒå›´ç”±èµ·å§‹æ ä½åˆ°ç»“æŸæ ä½çš„å‰ä¸€æ ä½ã€‚</span><br><span class="line">uniq   å»é‡ -cåœ¨æ¯åˆ—æ—è¾¹æ˜¾ç¤ºè¯¥è¡Œçš„é‡å¤æ¬¡æ•°</span><br><span class="line">-cæˆ–â€”â€”countï¼šåœ¨æ¯åˆ—æ—è¾¹æ˜¾ç¤ºè¯¥è¡Œé‡å¤å‡ºç°çš„æ¬¡æ•°ï¼›</span><br><span class="line">-dæˆ–--repeatedï¼šä»…æ˜¾ç¤ºé‡å¤å‡ºç°çš„è¡Œåˆ—ï¼›</span><br><span class="line">-f&lt;æ ä½&gt;æˆ–--skip-fields&#x3D;&lt;æ ä½&gt;ï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„æ ä½ï¼›</span><br><span class="line">-s&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--skip-chars&#x3D;&lt;å­—ç¬¦ä½ç½®&gt;ï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„å­—ç¬¦ï¼›</span><br><span class="line">-uæˆ–â€”â€”uniqueï¼šä»…æ˜¾ç¤ºå‡ºä¸€æ¬¡çš„è¡Œåˆ—ï¼›</span><br><span class="line">-w&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--check-chars&#x3D;&lt;å­—ç¬¦ä½ç½®&gt;ï¼šæŒ‡å®šè¦æ¯”è¾ƒçš„å­—ç¬¦ã€‚</span><br></pre></td></tr></table></figure><p>ls |xargs du -h|sort -rn |head  -20     #åˆ—å‡ºå½“å‰<strong>ç›®å½•</strong>ä½¿ç”¨é‡ï¼Œå¹¶æŒ‰å¤§å°æ’åºï¼Œ#ä¸é€’å½’ä¸‹çº§ç›®å½•ä½¿ç”¨du â€“sh</p><p>xargsç”¨ä½œæ›¿æ¢å·¥å…·ï¼Œè¯»å–è¾“å…¥æ•°æ®é‡æ–°æ ¼å¼åŒ–åè¾“å‡º</p><p>ll   -hS                          #åˆ—å‡ºå½“å‰ç›®å½•æ–‡ä»¶å¹¶æŒ‰å¤§å°æ’åº</p><p>mysqldump -h 172.26.100.145 -uroot -proot test &gt;/home/testbackup.sql å¤‡ä»½è¿œç¨‹testæ•°æ®åº“åˆ°æœ¬åœ°<br>å¦‚æœè¦å¤‡ä»½æœ¬åœ°mysqlåº“åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå°±å…ˆå¤‡ä»½åˆ°æœ¬åœ°åœ¨æ‹·è´è¿‡è¿œç¨‹æœåŠ¡å™¨æˆ–è€…æŒ‚è½½è¿œç¨‹æœåŠ¡å™¨æŸç›®å½•</p><p>mysqldump -uroot -p123456 â€“opt â€“all-databases &gt;all-data.sql     #å¤‡ä»½æ‰€æœ‰åº“<br>mysql -uroot -pqwer1234 &lt; /bak/mysqlbak/2018031711-all.sql      #è¿˜åŸ</p><p>#æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¦‚æœè¦å¤åˆ¶ç›®å½• scp â€“r</p><p>scp â€“r /www/  <a href="mailto:&#x72;&#x6f;&#x6f;&#x74;&#64;&#x31;&#50;&#x31;&#x2e;&#50;&#48;&#49;&#46;&#54;&#x36;&#x2e;&#x31;&#x34;&#x39;">&#x72;&#x6f;&#x6f;&#x74;&#64;&#x31;&#50;&#x31;&#x2e;&#50;&#48;&#49;&#46;&#54;&#x36;&#x2e;&#x31;&#x34;&#x39;</a>:/opt/ </p><p>#å¤åˆ¶è¿œç¨‹æœåŠ¡å™¨ç›®å½•åˆ°æœ¬åœ°</p><p>scp -r <a href="mailto:&#x72;&#111;&#111;&#x74;&#x40;&#x31;&#x32;&#49;&#x2e;&#x32;&#x30;&#49;&#x2e;&#54;&#54;&#x2e;&#51;&#56;">&#x72;&#111;&#111;&#x74;&#x40;&#x31;&#x32;&#49;&#x2e;&#x32;&#x30;&#49;&#x2e;&#54;&#54;&#x2e;&#51;&#56;</a>:/www/ /opt/ </p><p>#æŸ¥æ‰¾å¹¶åˆ é™¤ä¸ƒå¤©ä»¥å‰çš„æ•°æ®</p><p>find /opt/db_bak/ -name â€œ*.sqlâ€ -type f -mtime +7 -exec rm {} ; &gt; /dev/null 2&gt;&amp;1</p><p>#æŸ¥æ‰¾å‰48~24å°æ—¶ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚è€Œä¸æ˜¯48å°æ—¶ä»¥å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶</p><p>find /opt/db_bak/ -name â€œ*.sqlâ€ -type f -mtime 1   </p><p>find /opt -type f -size 0 -exec rm -rf {} ;               #åˆ é™¤ç©ºæ–‡ä»¶</p><p>nethogs                #ç›‘æ§æ¯ä¸ªè¿›ç¨‹çš„ç½‘ç»œå¸¦å®½å ç”¨<br>iftop                   #åŠ¨æ€æŸ¥çœ‹ç½‘å¡æµé‡</p><p>dstat 3 5               #æ‰§è¡Œï¼•æ¬¡ï¼Œæ¯æ¬¡é—´éš”ï¼“ç§’æ€§èƒ½ç›‘æ§å™¨ï¼dstat</p><p>#çœ‹è¿›ç¨‹å·ä¸º18842çš„è¿›ç¨‹æ‰“å¼€äº†å“ªäº›æ–‡ä»¶<br>ps -ef |grep nginx<br>lsof -p 1859</p><p>lsof å¯ä»¥åˆ—å‡ºè¢«è¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶çš„ä¿¡æ¯</p><p>nginx/sbin/nginx -V     #æŸ¥çœ‹nginxæœ‰å“ªäº›æ¨¡å—</p><p>/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf  #nginxæŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨</p><p>ps aux â€“sort=rss |sort -k 6 â€“rn       #ä»¥å†…å­˜å¤§å°æ’åºåˆ—å‡ºè¿›ç¨‹</p><p>grep -Ev  â€œ#|^$â€  xx.conf    #æŸ¥çœ‹æ–‡ä»¶æ’é™¤ä»¥#å¼€å…³å’Œç©ºç™½è¡Œï¼Œé€‚åˆæŸ¥çœ‹é…ç½®æ–‡ä»¶</p><p>sed â€˜/#.*$/d; /^ *$/dâ€™       #æŸ¥çœ‹æ–‡ä»¶æ’é™¤ä»¥#å¼€å…³å’Œç©ºç™½è¡Œï¼Œé€‚åˆæŸ¥çœ‹é…ç½®æ–‡ä»¶</p><p>grep â€“r â€“l å†…å®¹ è·¯å¾„          #æŸ¥æ‰¾åŒ…å«æŸäº›å†…å®¹çš„æ–‡ä»¶</p><p>#æŸ¥æ‰¾æ–‡ä»¶ä¸­åŒ…å«errorçš„å†…å®¹å¹¶æ˜¾ç¤ºå‡ºæ¥ -A 1æ˜¯åŒæ—¶æ˜¾ç¤ºä¸‹è¡Œå†…å®¹ -eé€‰é¡¹æ˜¯æˆ–è€…çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯å¤šæ¡ä»¶</p><p>grep -e â€œerrorâ€ -A 1  /var/log/nginx/access.log<br>egrep -v â€œ^#|^$â€  xx.conf    #æŸ¥çœ‹æ–‡ä»¶æ’é™¤ä»¥#å¼€å…³å’Œç©ºç™½è¡Œï¼Œé€‚åˆæŸ¥çœ‹é…ç½®æ–‡ä»¶</p><p>pgrep nginx|xargs kill              #æŸ¥æ‰¾è¿›ç¨‹pidå¹¶kill</p><p>ifconfig |awk -Fâ€[ ]+|[:]â€ â€˜NR==2 {print $4}â€™  è·å–å½“å‰IPåœ°å€ï¼Œå¼ºå¤§çš„awk<br>utmpdump /var/log/wtmp        #æ–‡æœ¬æ–¹å¼æŸ¥çœ‹wtmpæ—¥å¿—(äºŒè¿›åˆ¶æ–‡ä»¶)</p><p>find /home/ -user prj -exec cp -a {} /opt/ ;     #æŸ¥æ‰¾prjç”¨æˆ·æ‰€æ‹¥æœ‰çš„æ–‡ä»¶ï¼Œå¹¶æ”¾åˆ°/opt/ä¸‹ </p><p>mii-tool eth0                #æŸ¥çœ‹eth0ç‰©ç†è¿æ¥çŠ¶æ€<br>service â€“status-all            #æŸ¥çœ‹å·²å®‰è£…æ‰€æœ‰æœåŠ¡åŒ…æ‹¬å·²è¿è¡Œå’Œæœªè¿è¡Œçš„æœåŠ¡</p><p>ping -L æºIP -c  ç›®æ ‡ip          #æŒ‡å®šæºIP ping</p><p>dirs     #æ‰“å°å‡ºå½“å‰çš„ç›®å½•æ ˆ,ä¹Ÿå°±æ˜¯æ˜¾ç¤ºæœ€è¿‘è®¿é—®è¿‡çš„ç›®å½•</p><p>æ¸…é™¤ç¼“å­˜<br>echo 1 &gt; /proc/sys/vm/drop_caches<br>echo 2 &gt; /proc/sys/vm/drop_caches<br>echo 3 &gt; /proc/sys/vm/drop_caches</p><p>æŸ¥è¯¢è®¿é—®é‡å‰10çš„url<br>cat /var/log/nginx/access.log |cut -f 6 -d â€˜ â€˜|sort |uniq -c |sort -k 1 -n -r |head -10<br>æŸ¥è¯¢æœ€è€—æ—¶çš„é¡µé¢<br>cat /var/log/nginx/access.log |sort -k 4 -n -r |head â€“10 </p><p>cat /proc/sys/kernel/threads-max   #æŸ¥çœ‹è¿›ç¨‹çš„æ€»æ•°ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ï¼Ÿ</p><p>#æŸ¥çœ‹å·²è¿è¡Œçš„è¿›ç¨‹æ€»æ•°<br> ps -ef |wc -l   </p><p>ps -ef|grep php-fpm|wc -l<br>ps -ef|grep nginx|wc -l<br>ps -ef|grep java|wc â€“l</p><p>pkill -KILL -t pts/0       #è¸¢å‡ºç™»å½•çš„ç”¨æˆ·ï¼Œç”¨whoæŸ¥çœ‹ç»ˆç«¯</p><p>mysql â€“help | grep Distrib     #æŸ¥çœ‹mysqlç‰ˆæœ¬</p><p>ln -s /usr/local/mysql/bin/* /usr/local/bin/  #ç¼–è¯‘å®‰è£…mysqlåæ— æ³•æ‰§è¡Œmysqlç­‰å‘½ä»¤ï¼ŒæŠŠå‘½ä»¤è¿æ¥åˆ°ç³»ç»Ÿé»˜è®¤çš„è·¯å¾„ï¼Œè·¯å¾„å¯èƒ½å¥½å‡ ä¸ª</p><p>crontab -l                    #æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡åˆ—è¡¨<br>pgrep nginx                   #æŸ¥çœ‹æœåŠ¡è¿›ç¨‹å·<br>top -id 1                    #è§‚å¯Ÿæ˜¯å¦æœ‰å¼‚å¸¸è¿›ç¨‹å‡ºç°</p><p>setfacl -m u:natasha:rwx fstab          #å•ç‹¬è®¾ç½®ç”¨æˆ·æƒé™,è€Œä¸å½±å“å…¶ä»–ç”¨æˆ·æƒé™<br>getfacl fstab                  #éªŒè¯æƒé™</p><p>æ•°æ®å¤‡ä»½è¿˜åŸï¼š<br>å‹ç¼©ï¼š<br>tar czvf /opt/http.tar.gz /var/log/httpd/     #å‹ç¼©å¤‡ä»½ï¼Œå¤‡ä»½çš„åŒ…å«äº†è·¯å¾„å»é™¤äº†/<br>è§£å‹<br>tar zxvf /opt/http.tar.gz  -C /          #è¿˜åŸç›´æ¥åˆ°/å°±å¯ä»¥äº†ï¼Œå› ä¸ºå¤‡ä»½æ—¶/ä¸‹è¿˜æœ‰var/logè·¯å¾„</p><p><strong>ä¸´æ—¶è§£å†³DOSæ”»å‡»-å°IP<br>iptables -I INPUT -s 91.121.80.20 -j DROP</strong><br><strong>SSHå…å¯†ç™»å½•ï¼š</strong><br>é…ç½®sshå…ç§˜é’¥åç”¨scpä¸éœ€è¦å¯†ç <br>\1. åœ¨æœåŠ¡å™¨ A ä¸Šæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥ç”Ÿæˆé…å¯¹å¯†é’¥ï¼š<br>ssh-keygen -t rsa ï¼ˆåé¢å…¨éƒ¨æŒ‰å›è½¦ï¼‰<br>\2. å°† /root/.ssh/ ç›®å½•ä¸­çš„ id_rsa.pub æ–‡ä»¶å¤åˆ¶åˆ° æœåŠ¡å™¨ B çš„ /root/.ssh/ ç›®å½•ä¸­ï¼Œå¹¶æ”¹åä¸º authorized_keysã€‚ å¦‚æœå·²ç»å­˜åœ¨å°±æŠŠå†…å®¹åœ¨æœ«å°¾æ·»åŠ <br>scp /root/.ssh/id_rsa.pub <a href="mailto:&#114;&#x6f;&#111;&#x74;&#x40;&#x31;&#57;&#50;&#46;&#x31;&#54;&#56;&#46;&#x32;&#52;&#46;&#x31;&#x35;&#48;">&#114;&#x6f;&#111;&#x74;&#x40;&#x31;&#57;&#50;&#46;&#x31;&#54;&#56;&#46;&#x32;&#52;&#46;&#x31;&#x35;&#48;</a>:/root/.ssh/authorized_keys<br>ä»¥åä»æœåŠ¡å™¨ A scp åˆ°æœåŠ¡å™¨ B å°±ä¸éœ€è¦å¯†ç äº†ï¼ˆå¦‚æœæ²¡æœ‰/root/.ssh/æ˜¯å› ä¸ºæ²¡æ‰§è¡Œssh-keygen -t rsa ç”Ÿæˆç§˜é’¥å‘½ä»¤ï¼‰</p><p>yum install openssh-clients -y          #scpè½¯ä»¶åŒ…</p><p>tacå‘½ä»¤ç”¨äºå°†æ–‡ä»¶å·²è¡Œä¸ºå•ä½çš„ååºè¾“å‡ºï¼Œå³ç¬¬ä¸€è¡Œæœ€åæ˜¾ç¤ºï¼Œæœ€åä¸€è¡Œå…ˆæ˜¾ç¤ºï¼Œä¸catç›¸åçš„å‘½ä»¤<br>awk  -v é€‰é¡¹ï¼ŒæŒ‡å®šåœ¨ä»»ä½•è¾“å…¥è¢«è¯»å…¥å‰å®šä¹‰å‚æ•°</p><p>#æ­£å¸¸è”ç½‘æƒ…å†µä¸‹ç›´æ¥å¯¹ç½‘ç»œåœ°å€(æ³¨æ„å‰ææ˜¯ntpdæœåŠ¡è¦å¯åŠ¨)<br>echo â€˜*/15 * * * * /usr/sbin/ntpdate  -u 210.72.145.44 â€˜ &gt;&gt; /var/spool/cron/root</p><p>/var/spool/cron/root  #è®¡åˆ’ä»»åŠ¡é…ç½®æ–‡ä»¶<br>å‡Œæ™¨ä¸‰ç‚¹    00 03 * * *<br>æ¯äº”åˆ†é’Ÿæ‰§è¡Œ */5 * * * *</p><p>æ¯å°æ—¶æ‰§è¡Œ   0 * * * *</p><p>æ¯å¤©æ‰§è¡Œ    0 0 * * *</p><p>æ¯å‘¨æ‰§è¡Œ    0 0 * * 0</p><p>æ¯æœˆæ‰§è¡Œ    0 0 1 * *</p><p>æ¯å¹´æ‰§è¡Œ    0 0 1 1 *</p><p><strong>åœ¨zabbixæœåŠ¡ä¸Šè®¾ç½®é‚®ä»¶æŠ¥è­¦å¤–éƒ¨SMTPæ¨¡å¼</strong>ï¼š<br>#vim /etc/mail.rc   #å°¾éƒ¨è¿½åŠ smtpéªŒè¯ä¿¡æ¯<br>set from=pengrongjiana@163.com smtp=smtp.163.com<br>set smtp-auth-user=pengrongjiana@163.com smtp-auth-password=qwer1234<br>set smtp-auth=login<br>#è®¾ç½®å®Œæˆä¹‹åå‘é€ä¸€ä¸ªæµ‹è¯•é‚®ä»¶ï¼Œæ”¶åˆ°é‚®ä»¶è¡¨ç¤ºé…ç½®æˆåŠŸ<br>echo â€œå‘ç°çŸ­æ—¶é—´å†…å¤§é‡è®¿é—®çš„ipâ€|mail -s â€œç½‘ç«™è®¿é—®è­¦å‘Šâ€ <a href="mailto:&#54;&#50;&#51;&#x31;&#56;&#49;&#x39;&#49;&#50;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;">&#54;&#50;&#51;&#x31;&#56;&#49;&#x39;&#49;&#50;&#64;&#x71;&#x71;&#46;&#x63;&#x6f;&#109;</a><br>å¦‚æœæ²¡æœ‰/etc/mail.rcæ–‡ä»¶ï¼Œåˆ™éœ€è¦yum install -y mailx</p><p><strong>tcp wrappers è®¿é—®æ§åˆ¶</strong></p><p>vim /etc/hosts.allow       #ä»…å…è®¸199.150å’Œ199.55sshè¿æ¥</p><p>sshd:192.168.199.150,192.168.199.55</p><p>vim /etc/hosts.deny</p><p>sshd:all</p><p><strong>linuxå‘½ä»¤ç´¯ç§¯&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</strong></p><p>w      ##æŸ¥çœ‹å·²ç™»å½•çš„ç”¨æˆ·<br>last                #æŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿—<br>lsof -i :22                   #æŸ¥çœ‹22ç«¯å£è¢«å“ªä¸ªIPè¿›ç¨‹å ç”¨å’Œå·²å»ºç«‹è¿æ¥çš„å®¢æˆ·ç«¯<br>lsof /bin/bash                  #æŸ¥çœ‹è°æ­£åœ¨ä½¿ç”¨æŸä¸ªæ–‡ä»¶<br>#æŸ¥çœ‹php-fpmçš„åœ°å€<br>whereis php-fpm<br>å¯åŠ¨php-fpm<br>rpm -ql httpd      #æœåŠ¡è¯¦ç»†è·¯å¾„<br>tar zcvf - httpd/ | ssh <a href="mailto:&#x72;&#111;&#111;&#116;&#x40;&#x31;&#x30;&#46;&#x30;&#x2e;&#48;&#x2e;&#49;&#48;">&#x72;&#111;&#111;&#116;&#x40;&#x31;&#x30;&#46;&#x30;&#x2e;&#48;&#x2e;&#49;&#48;</a> tar xzf - -C /root  SSHå¿«é€Ÿå¤‡ä»½æ–‡ä»¶åˆ°å¦ä¸€æœåŠ¡å™¨<br>echo -e  å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼Œè€Œä¸ä¼šå°†å®ƒå½“æˆä¸€èˆ¬æ–‡å­—è¾“å‡ºï¼Œå¦‚ echo -e <code>cat access_log</code><br>/etc/profile                #æ‰€æœ‰ç³»ç»Ÿç”¨æˆ·ç™»å½•æ‰§è¡Œ<br>hash     #è®°å½•äº†å·²æ‰§è¡Œè¿‡çš„å‘½ä»¤çš„å®Œæ•´è·¯å¾„<br>grep â€“e â€œå†…å®¹â€ *.html /  #æ‰¾åˆ°æ ¹ç›®å½•ä¸‹ä»¥.htmlç»“å°¾çš„æ–‡ä»¶ä¸­å«æœ‰â€œå†…å®¹â€çš„è¡Œå¹¶æ˜¾ç¤ºå®ƒä»¬<br>df -hT<br>uptime<br>free -m<br>ls | xargs rm  #ç›®å½•ä¸­å¤§é‡æ–‡ä»¶åˆ é™¤</p><p>linux netstat ç”¨ä¸äº†ï¼Œå®‰è£…net-toolså³å¯: yum -y install net-tools</p><p>ç”ŸæˆSSHè¯ä¹¦å¹¶å¤åˆ¶åˆ°è¿œç«¯æœåŠ¡å™¨# å¥½åƒä¸è¡Œ<br>ssh-keygen -y -f ~/.ssh/id_rsa &amp;&amp;ã€€cat ~/.ssh/id_rsa.pub | ssh <a href="mailto:&#x72;&#111;&#x6f;&#116;&#x40;&#x31;&#x39;&#x32;&#x2e;&#49;&#x36;&#x38;&#x2e;&#x31;&#57;&#x33;&#x2e;&#x31;&#50;&#57;">&#x72;&#111;&#x6f;&#116;&#x40;&#x31;&#x39;&#x32;&#x2e;&#49;&#x36;&#x38;&#x2e;&#x31;&#57;&#x33;&#x2e;&#x31;&#50;&#57;</a> â€œcat - &gt;&gt; ~/.ssh/authorized_keysâ€<br>sed â€˜/^$/dâ€™ filename       #åˆ é™¤ç©ºè¡Œ<br>sed â€˜s/ //gâ€™ filename       #åˆ é™¤ç©ºæ ¼<br>sed -i â€˜s/#.*$//gâ€™ filename    #åˆ é™¤#åçš„æ³¨é‡Š<br>cat /dev/urandom | tr -dc â€˜a-zA-Z0-9â€™ | fold -w 32 | head -n 1    # ç”Ÿæˆéšæœºå­—ç¬¦<br>è¡Œé¦–æˆ–è¡Œå°¾æ’å…¥ï¼š<br>sed â€˜s/^/new/gâ€™ file<br>sed â€˜s/$/new/gâ€™ file<br>wget -r -p -np -k <a href="http://www.jb51.net/">http://www.jb51.net</a>   #ç”¨wgetä¸‹è½½æ•´ç«™<br>cat filename |awk -F â€˜â€™ â€˜{if(NF&gt;6) print $0}â€™   #æŸ¥æ‰¾æ¯è¡Œå¤§äºå‡ ä½æ•°çš„æ•°æ®ï¼š<br>lynx -dump <a href="http://www.jb51.net/">www.jb51.net</a>    #è·å–HTMLé¡µé¢æ–‡æœ¬å†…å®¹åŒ…å«é¡µé¢çš„URL<br>links -dump <a href="http://www.jb51.net/">www.jb51.net</a>    #è·å–HTMLé¡µé¢æ–‡æœ¬å†…å®¹ å¯¹ä¸­æ–‡å†…å®¹æ”¯æŒä¸å¥½<br>socat TCP4-LISTEN:1234,reuseaddr,fork, TCP4:<a href="http://www.baidu.com/">www.baidu.com:80</a>  ç«¯å£é‡å®šå‘</p><p>rpm -qpl xxxxxx.rpm        #å®‰è£…åŒ…é»˜è®¤å®‰è£…ä½ç½®</p><p>who -b           #æŸ¥çœ‹æœ€åä¸€æ¬¡ç³»ç»Ÿå¯åŠ¨çš„æ—¶é—´<br>last reboot        #æŸ¥çœ‹Linuxç³»ç»Ÿå†å²å¯åŠ¨çš„æ—¶é—´<br>diff              #è¾“å‡ºä¸ºäº†ä¸¤ä¸ªæ–‡ä»¶ä¿®æ”¹åçš„å†…å®¹<br>cfdisk /dev/sdb     #å›¾åƒåˆ†åŒºï¼ˆ2Tä»¥ä¸‹ï¼‰<br>parted /dev/sdb     #å¤§å®¹é‡å­˜å‚¨åˆ†åŒº<br>blkid             #åˆ—å‡ºæ‰€æœ‰åˆ†åŒºçš„UUID<br>ls -l /dev/disk/by-uuid/     #åˆ—å‡ºæ‰€æœ‰åˆ†åŒºçš„UUIDå’Œåˆ†åŒºåç§°</p><p>#å¼€å§‹è¿›å…¥æ‰«æã€ä¿®å¤æ–‡ä»¶ç³»ç»Ÿï¼Œæ³¨æ„ï¼šåœ¨å•ç”¨æˆ·æ¨¡å¼(init 1)ã€ä¿®å¤æ¨¡å¼æˆ–æŠŠè®¾å¤‡umountåè¿›è¡Œä¿®å¤</p><p>fsck.ext4 -y /dev/sdb</p><p>ethtool -p ethX                #æ‰§è¡Œç½‘å¡ç¯äº®ï¼Œå¤šç½‘å¡æ˜¯ç”¨æ¥åˆ¤æ–­ç½‘å¡ä½ç½®</p><p>lsusb                     #æŸ¥çœ‹USBè®¾å¤‡ï¼Œ -vçœ‹è¯¦ç»†ä¿¡æ¯<br>more /proc/cpuinfo |grep -i model       #æŸ¥çœ‹CPUå‹å·<br>more /proc/scsi/scsi |grep -i model      #æŸ¥çœ‹ç¡¬ç›˜å‹å·<br>nmcli con |sed -n â€˜1,2pâ€™                           #è·å–ç½‘å¡UUID<br>more /etc/udev/rules.d/70-persistent-net.rules          #æŸ¥çœ‹ç½‘å¡MACåœ°å€ï¼Œifcofigä¹Ÿè¡Œ<br>chmod -R  +x ç›®å½•                              #ç›®å½•å’Œç›®å½•ä¸‹å­ç›®å½•æƒé™+æ‰§è¡Œ<br>/root/.bash_profile                               #é…ç½®å•ç”¨æˆ·ç™»å½•åæ‰§è¡Œ<br>env                              #åˆ—å‡ºå½“å‰ç»ˆç«¯ä¸Šçš„å…¨éƒ¨ç¯å¢ƒå˜é‡<br>lsmod                              #åˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å—<br>modprobe dm-multipath                           #åŠ è½½æ¨¡å—<br>cat /proc/partitions                               #æŸ¥çœ‹æ‰€æœ‰åˆ†</p><p>blkid               #åˆ—å‡ºæ‰€æœ‰åˆ†åŒºçš„UUID</p><p>ls -l /dev/disk/by-uuid/      #åˆ—å‡ºæ‰€æœ‰åˆ†åŒºçš„UUIDå’Œåˆ†åŒºåç§°</p><p>ntpæœåŠ¡å™¨é…ç½®åŒæ­¥ç³»ç»Ÿæ—¶é—´&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br>#æ­£å¸¸è”ç½‘æƒ…å†µä¸‹ç›´æ¥å¯¹ç½‘ç»œåœ°å€<br>echo â€˜*/15 * * * * /usr/sbin/ntpdate åœ°å€â€™ &gt;&gt; /var/spool/cron/root</p><p>è®¾ç½®æœ¬åœ°ntpæ—¶é—´æœåŠ¡å™¨/etc/ntp.conf</p><p>1.åˆ™å°†â€œrestrict default kod nomodify notrap nopeer noqueryâ€è¿™è¡Œä¿®æ”¹æˆï¼š</p><p>restrict default nomodify</p><p>2.å¦‚æœéœ€è¦ä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼Œåˆ™æŠŠerver 0.centos.pool.ntp.org iburstæŠŠè¿™å‡ è¡ŒåŒæ­¥äº’è”ç½‘çš„</p><p>åˆ æ‰æˆ–è€…ç”¨â€œ#â€å·æ³¨é‡Šæ‰ï¼Œç„¶åæ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼šï¼ˆæ³¨æ„ï¼šç›¸åä¸æ·»åŠ è¿™ä¸¤è¡Œï¼Œç›´æ¥ä½¿ç”¨ä¸Šé¢çš„è¿æ¥äº’è”ç½‘ï¼Œå®¢æˆ·ç«¯å°±æ›´æ–°ä¸äº†ï¼‰</p><p>server 127.127.1.0</p><p>fudge 127.127.1.0 stratum 10</p><p>3.é‡å¯ntpdæœåŠ¡ï¼Œè®¾ç½®å¼€æœºå¯åŠ¨ntpdæœåŠ¡        #æ³¨æ„å®¢æˆ·ç«¯ä¸å¯åŠ¨ntpdä¹Ÿè¡Œ</p><p>å®¢æˆ·ç«¯è¿æ¥ntpæ—¶é—´æœåŠ¡å™¨ï¼Œå¹¶åŠ å…¥è®¡åˆ’ä»»åŠ¡</p><p>ntpdate 192.168.199.23        #ä¸è¦é¢‘ç¹æ‰§è¡Œè¿æ¥</p><p>echo â€˜*/15 * * * * /usr/sbin/ntpdate 192.168.199.23â€™ &gt;&gt; /var/spool/cron/root</p><p>å®¢æˆ·ç«¯è®¾ç½®ï¼š </p><p>ntpdate  192.168.199.23</p><p>åŠ å…¥è®¡åˆ’ä»»åŠ¡</p><p>å¦‚æœæœ¬åœ°æ—¶é—´å’Œç¡¬ä»¶æ—¶é—´éƒ½ä¸å¯¹ã€‚éœ€è¦æ‰‹åŠ¨è®¾ç½®åé‡å¯ä¹Ÿç”Ÿæ•ˆï¼š</p><p>1.date                #æŸ¥çœ‹æœ¬åœ°æ—¶é—´</p><p>2.hwclock â€“show           #æŸ¥çœ‹æœºå™¨ä¸Šçš„ç¡¬ä»¶æ—¶é—´</p><p>3.date -s â€œ2017-12-27 16:48â€     #ä¸€æ¬¡æ€§è®¾ç½®æ—¶é—´</p><p>4.hwclock -w             #å†™å…¥ BIOS æ—¶é—´,ç³»ç»Ÿé‡å¯åä¼šè¯»å–BIOS,clock -wä¹Ÿå¯ä»¥</p><p>clock -w               #æŠŠç³»ç»Ÿæ—¶é—´å†™å…¥CMOS</p><p>vi /etc/sysconfig/ntpd </p><p>SYNC_HWCLOCK=yes          #å°†åŒæ­¥å¥½çš„æ—¶é—´å†™åˆ°CMOSé‡Œ</p><p>ntpq -p           #æ£€æŸ¥æ—¶é—´æœåŠ¡å™¨åŒæ­¥çš„çŠ¶æ€</p><p>clock â€“utc          #æ˜¾ç¤ºUTCæ—¶é—´</p><p>åŒæ­¥äº’è”ç½‘æ—¶é’Ÿå¹¶å†™å…¥ç¡¬ä»¶bios:</p><p>ä½¿ç”¨ä»¥ä¸‹æ–¹å¼åŒæ­¥LFSç³»ç»Ÿæ—¶é—´ï¼Œcp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime ä¿®æ”¹æ—¶åŒºä¸ºä¸Šæµ·</p><p>ntpdate cn.pool.ntp.org;hwclock -w ,åŒæ­¥æ—¶é—´å¹¶å†™å…¥biosç¡¬ä»¶æ—¶é—´ï¼›</p><p>è®¾ç½®è®¡åˆ’ä»»åŠ¡ï¼Œç¡®ä¿æ—¶é—´å¾—åˆ°æ›´æ–°ï¼Œcrontab -e.æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><p>0 * * * * /usr/sbin/ntpdate cn.pool.ntp.org;hwclock -w</p><p>/usr/sbin/ntpdate time.nist.gov   #åŒæ­¥äº’è”ç½‘æ—¶é—´ï¼Œå¦‚æœæ²¡äº’è”ç½‘å°±åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿï¼Œå¦‚æœæœåŠ¡å™¨è¾ƒå¤šå°±é…ç½®ä¸€å°ntpæ—¶é—´æœåŠ¡å™¨</p><p>ç³»ç»Ÿè´Ÿè½½&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>top -id 1                             #è§‚å¯Ÿæ˜¯å¦æœ‰å¼‚å¸¸è¿›ç¨‹å‡ºç°</p><p>ä¸‰è¡Œï¼šcpuçŠ¶æ€</p><p>6.7% us â€” ç”¨æˆ·ç©ºé—´å ç”¨CPUçš„ç™¾åˆ†æ¯”ã€‚</p><p>0.4% sy â€” å†…æ ¸ç©ºé—´å ç”¨CPUçš„ç™¾åˆ†æ¯”ã€‚</p><p>0.0% ni â€” æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”</p><p>92.9% id â€” ç©ºé—²CPUç™¾åˆ†æ¯”</p><p>0.0% wa â€” IOç­‰å¾…å ç”¨CPUçš„ç™¾åˆ†æ¯”</p><p>0.0% hi â€” ç¡¬ä¸­æ–­ï¼ˆHardware IRQï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯”</p><p>0.0% si â€” è½¯ä¸­æ–­ï¼ˆSoftware Interruptsï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯”</p><p>0.0% st - æ˜¯å½“ hypervisor æœåŠ¡å¦ä¸€ä¸ªè™šæ‹Ÿå¤„ç†å™¨çš„æ—¶å€™ï¼Œè™šæ‹Ÿ CPU ç­‰å¾…å®é™… CPU çš„æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>topé»˜è®¤çš„æ’åºåˆ—æ˜¯â€œ%CPUâ€ï¼ŒæŒ‰é”®ç›˜æ•°å­—â€œ1â€ï¼Œå¯ç›‘æ§æ¯ä¸ªé€»è¾‘CPUçš„çŠ¶å†µ</p><p>æ•²å‡»é”®ç›˜â€œbâ€ï¼ˆæ‰“å¼€/å…³é—­åŠ äº®æ•ˆæœï¼‰</p><p>é€šè¿‡â€shift + &gt;æŒ‰ç…§%MEMæ¥æ’åº</p><p>æ•²å‡»â€œfâ€é”®ï¼Œtopè¿›å…¥å¦ä¸€ä¸ªè§†å›¾ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç¼–æ’åŸºæœ¬è§†å›¾ä¸­çš„æ˜¾ç¤ºå­—æ®µ,æƒ³æ˜¾ç¤ºå“ªä¸ªå­—æ®µå°±æŒ‰ä»€ä¹ˆï¼Œæ¯”å¦‚æ˜¾ç¤ºSWAPå°±æŒ‰å‰é¢çš„på­—æ¯</p><p>PID â€” è¿›ç¨‹id</p><p>USER â€” è¿›ç¨‹æ‰€æœ‰è€…</p><p>PR â€” è¿›ç¨‹ä¼˜å…ˆçº§</p><p>NI â€” niceå€¼ã€‚è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£å€¼è¡¨ç¤ºä½ä¼˜å…ˆçº§</p><p>VIRT â€” è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼Œå•ä½kbã€‚VIRT=SWAP+RES</p><p>RES â€” è¿›ç¨‹ä½¿ç”¨çš„ã€æœªè¢«æ¢å‡ºçš„ç‰©ç†å†…å­˜å¤§å°ï¼Œå•ä½kbã€‚RES=CODE+DATA</p><p>SHR â€” å…±äº«å†…å­˜å¤§å°ï¼Œå•ä½kb</p><p>S â€” è¿›ç¨‹çŠ¶æ€ã€‚D=ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ R=è¿è¡Œ S=ç¡çœ  T=è·Ÿè¸ª/åœæ­¢ Z=åƒµå°¸è¿›ç¨‹</p><p>%CPU â€” ä¸Šæ¬¡æ›´æ–°åˆ°ç°åœ¨çš„CPUæ—¶é—´å ç”¨ç™¾åˆ†æ¯”</p><p>%MEM â€” è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯”</p><p>TIME+ â€” è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½1/100ç§’</p><p>COMMAND â€” è¿›ç¨‹åç§°ï¼ˆå‘½ä»¤å/å‘½ä»¤è¡Œï¼‰</p><p>mpstat           #æŸ¥çœ‹CPUä½¿ç”¨ç‡</p><p>ç³»ç»Ÿè´Ÿè½½&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>ps aux | wc -l  #è¿›ç¨‹æ€»æ•°æ£€æŸ¥è¿›ç¨‹ä¸ªæ•°æ˜¯å¦æ­£å¸¸ (æ¯”å¦‚è¶…è¿‡250ï¼Œæ¯”å¦‚å•ä¸ªæœåŠ¡çš„è¿›ç¨‹æ•°ps -ef |grep httpd|wc -l</p><p>-a æ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé™¤äº†ä¼šè¯å¼•çº¿</p><p>-u uid or username é€‰æ‹©æœ‰æ•ˆçš„ç”¨æˆ·idæˆ–è€…æ˜¯ç”¨æˆ·å</p><p>-x æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼ŒåŒæ—¶æ˜¾ç¤ºå„ä¸ªå‘½ä»¤çš„å…·ä½“è·¯å¾„</p><p>USER  ç”¨æˆ·å</p><p>UID  ç”¨æˆ·IDï¼ˆUser IDï¼‰</p><p>PID  è¿›ç¨‹IDï¼ˆProcess IDï¼‰</p><p>PPID  çˆ¶è¿›ç¨‹çš„è¿›ç¨‹IDï¼ˆParent Process idï¼‰</p><p>SID  ä¼šè¯IDï¼ˆSession idï¼‰</p><p>%CPU  è¿›ç¨‹çš„cpuå ç”¨ç‡</p><p>%MEM  è¿›ç¨‹çš„å†…å­˜å ç”¨ç‡</p><p>VSZ  è¿›ç¨‹æ‰€ä½¿ç”¨çš„è™šå­˜çš„å¤§å°ï¼ˆVirtual Sizeï¼‰</p><p>RSS  è¿›ç¨‹ä½¿ç”¨çš„é©»ç•™é›†å¤§å°æˆ–è€…æ˜¯å®é™…å†…å­˜çš„å¤§å°ï¼ŒKbyteså­—èŠ‚ã€‚</p><p>TTY  ä¸è¿›ç¨‹å…³è”çš„ç»ˆç«¯ï¼ˆttyï¼‰</p><p>STAT  è¿›ç¨‹çš„çŠ¶æ€ï¼šè¿›ç¨‹çŠ¶æ€ä½¿ç”¨å­—ç¬¦è¡¨ç¤ºçš„ï¼ˆSTATçš„çŠ¶æ€ç ï¼‰</p><p>R è¿è¡Œ  Runnable (on run queue)      æ­£åœ¨è¿è¡Œæˆ–åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚</p><p>S ç¡çœ   Sleeping        ä¼‘çœ ä¸­, å—é˜», åœ¨ç­‰å¾…æŸä¸ªæ¡ä»¶çš„å½¢æˆæˆ–æ¥å—åˆ°ä¿¡å·ã€‚</p><p>I ç©ºé—²  Idle</p><p>Z åƒµæ­»  Zombieï¼ˆa defunct process)    è¿›ç¨‹å·²ç»ˆæ­¢, ä½†è¿›ç¨‹æè¿°ç¬¦å­˜åœ¨, ç›´åˆ°çˆ¶è¿›ç¨‹è°ƒç”¨wait4()ç³»ç»Ÿè°ƒç”¨åé‡Šæ”¾ã€‚</p><p>D ä¸å¯ä¸­æ–­  Uninterruptible sleep (ususally IO)  æ”¶åˆ°ä¿¡å·ä¸å”¤é†’å’Œä¸å¯è¿è¡Œ, è¿›ç¨‹å¿…é¡»ç­‰å¾…ç›´åˆ°æœ‰ä¸­æ–­å‘ç”Ÿã€‚</p><p>T ç»ˆæ­¢  Terminate        è¿›ç¨‹æ”¶åˆ°SIGSTOP, SIGSTP, SIGTIN, SIGTOUä¿¡å·ååœæ­¢è¿è¡Œè¿è¡Œã€‚</p><p>P ç­‰å¾…äº¤æ¢é¡µ</p><p>W æ— é©»ç•™é¡µ  has no resident pages    æ²¡æœ‰è¶³å¤Ÿçš„è®°å¿†ä½“åˆ†é¡µå¯åˆ†é…ã€‚</p><p>X æ­»æ‰çš„è¿›ç¨‹</p><p>&lt; é«˜ä¼˜å…ˆçº§è¿›ç¨‹          é«˜ä¼˜å…ˆåºçš„è¿›ç¨‹</p><p>N ä½ä¼˜å…ˆ  çº§è¿›ç¨‹          ä½ä¼˜å…ˆåºçš„è¿›ç¨‹</p><p>L å†…å­˜é”é¡µ  Lock        æœ‰è®°å¿†ä½“åˆ†é¡µåˆ†é…å¹¶ç¼©åœ¨è®°å¿†ä½“å†…</p><p>s è¿›ç¨‹çš„é¢†å¯¼è€…ï¼ˆåœ¨å®ƒä¹‹ä¸‹æœ‰å­è¿›ç¨‹ï¼‰ï¼›</p><p>l å¤šè¿›ç¨‹çš„ï¼ˆä½¿ç”¨ CLONE_THREAD, ç±»ä¼¼ NPTL pthreadsï¼‰</p><p>+ ä½äºåå°çš„è¿›ç¨‹ç»„</p><p>START  è¿›ç¨‹å¯åŠ¨æ—¶é—´å’Œæ—¥æœŸ</p><p>TIME  è¿›ç¨‹ä½¿ç”¨çš„æ€»cpuæ—¶é—´</p><p>COMMAND  æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤è¡Œå‘½ä»¤</p><p>NI  ä¼˜å…ˆçº§(Nice)</p><p>PRI  è¿›ç¨‹ä¼˜å…ˆçº§ç¼–å·(Priority)</p><p>WCHAN  è¿›ç¨‹æ­£åœ¨ç¡çœ çš„å†…æ ¸å‡½æ•°åç§°ï¼›è¯¥å‡½æ•°çš„åç§°æ˜¯ä»/root/system.mapæ–‡ä»¶ä¸­è·å¾—çš„ã€‚</p><p>FLAGS  ä¸è¿›ç¨‹ç›¸å…³çš„æ•°å­—æ ‡è¯†</p><p>ç³»ç»Ÿè´Ÿè½½&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>netstat -ap | grep ssh         #æ‰¾å‡ºç¨‹åºè¿è¡Œçš„ç«¯å£</p><p>netstat -n | grep tcp | grep 23 | wc -l #ç›‘æ§ç½‘ç»œæœåŠ¡è¿æ¥æ•°</p><p>-a (all)æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹ï¼Œé»˜è®¤ä¸æ˜¾ç¤ºLISTENç›¸å…³</p><p>-t (tcp)ä»…æ˜¾ç¤ºtcpç›¸å…³é€‰é¡¹</p><p>-u (udp)ä»…æ˜¾ç¤ºudpç›¸å…³é€‰é¡¹</p><p>-n æ‹’ç»æ˜¾ç¤ºåˆ«åï¼Œèƒ½æ˜¾ç¤ºæ•°å­—çš„å…¨éƒ¨è½¬åŒ–æˆæ•°å­—ã€‚</p><p>-l ä»…åˆ—å‡ºæœ‰åœ¨ Listen (ç›‘å¬) çš„æœå‹™çŠ¶æ€</p><p>-p æ˜¾ç¤ºå»ºç«‹ç›¸å…³é“¾æ¥çš„ç¨‹åºå</p><p>-r æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯ï¼Œè·¯ç”±è¡¨</p><p>-e æ˜¾ç¤ºæ‰©å±•ä¿¡æ¯ï¼Œä¾‹å¦‚uidç­‰</p><p>-s æŒ‰å„ä¸ªåè®®è¿›è¡Œç»Ÿè®¡</p><p>-c æ¯éš”ä¸€ä¸ªå›ºå®šæ—¶é—´ï¼Œæ‰§è¡Œè¯¥netstatå‘½ä»¤</p><p>â€œRecv-Qâ€å’Œâ€Send-Qâ€æŒ‡%0Açš„æ˜¯æ¥æ”¶é˜Ÿåˆ—å’Œå‘é€é˜Ÿåˆ—ã€‚è¿™äº›æ•°å­—ä¸€èˆ¬éƒ½åº”è¯¥æ˜¯0ã€‚</p><p>Foreign Address  å¤–éƒ¨åœ°å€</p><p>state   çŠ¶æ€ LISTEMç›‘å¬</p><p>æŸ¥çœ‹è¿æ¥æŸæœåŠ¡ç«¯å£æœ€å¤šçš„çš„IPåœ°å€</p><p>netstat -nat | grep â€œ192.168.199.22:22â€ |awk â€˜{print $5}â€™|awk -F: â€˜{print $1}â€™|sort|uniq -c|sort -nr|head -20</p><p>netstat -nat |awk â€˜{print $6}â€™|sort|uniq -c|sort -rn  #TCPå„ç§çŠ¶æ€ç»Ÿè®¡æ’åº</p><p>awk â€˜{print $1}â€™ access.log |sort|uniq -c|sort -nr|head -10 #åˆ†æaccess.logè·å¾—è®¿é—®å‰10ä½çš„ipåœ°å€</p><p>netstat -a|more                    #åˆ—å‡ºæ‰€æœ‰ç«¯å£</p><p>netstat -ap | grep ssh t -l           #åªæ˜¾ç¤ºç›‘å¬ç«¯å£</p><p>netstat -s                       #æ˜¾ç¤ºæ‰€æœ‰ç«¯å£çš„ç»Ÿè®¡ä¿¡æ¯</p><p>ç£ç›˜è¯»å†™&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>time dd if=/dev/zero of=/test.dbf bs=8k count=300000  #æµ‹è¯•ç£ç›˜å†™èƒ½åŠ›</p><p>time dd if=/dev/sda of=/dev/null bs=8k        #æµ‹è¯•ç£ç›˜è¯»èƒ½åŠ›</p><p>time dd if=/dev/sda of=/dxcs.dbf bs=8k         #æµ‹è¯•ç£ç›˜åŒæ—¶è¯»å†™é€Ÿåº¦</p><p>iotop                         #åŠ¨æ€æŸ¥çœ‹IOæƒ…å†µ</p><p>iotop -o                       #ç›´æ¥æŸ¥çœ‹è¾“å‡ºæ¯”è¾ƒé«˜çš„ç£ç›˜è¯»å†™ç¨‹åº</p><p>æ—¥å¿—åˆ†æ&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>tail -n20 -f messages          #æŸ¥è¯¢æœ€è¿‘åŠ¨æ€æ—¥å¿—æœ€å20æ¡</p><p>uniq -c demo.log            #æ ‡è®°è¯¥è¡Œé‡å¤çš„æ•°é‡ï¼Œä¸é‡å¤å€¼ä¸º1</p><p>more æˆ–è€…lessæˆ–è€…head          #å› ä¸ºè¿™äº›å‘½ä»¤éƒ½æ˜¯ä¸æ˜¯ä»æœ€è¿‘æ—¶é—´å¼€å§‹æ’åºçš„æ‰€ä»¥å°‘ç”¨</p><p>sed -n</p><p>more?/var/log/secure          #ç³»ç»Ÿçš„ç™»å½•æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¯ç–‘ç™»å½•ä¿¡æ¯</p><p>ä¿®æ”¹æ—¥å¿—ä¿ç•™é»˜è®¤æ—¶é—´&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>vim /etc/logrotate.conf ä¿®æ”¹é¡¹ rotate 12 å•ä½æ˜¯å‘¨ï¼Œé»˜è®¤æ˜¯4å‘¨ï¼Œä¿®æ”¹é¡¹/var/log/wtmp {  é»˜è®¤æ˜¯1ï¼Œæ”¹</p><p>ä¸º3ï¼Œ</p><p>service rsyslog restart      #é‡å¯æ—¥å¿—æœåŠ¡å™¨</p><p>ä¸é‡å¯ç³»ç»Ÿæƒ…å†µä¸‹æ–°æ·»åŠ ç¡¬ç›˜ï¼ˆvmä¹Ÿå¯ä»¥)&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>1.fdisk -l       #ç¡®è®¤å¼€å§‹æœ‰å‡ ä¸ªç¡¬ç›˜</p><p>2.æ–°æ·»åŠ ä¸€å—ç¡¬ç›˜</p><p>é‡æ–°è¯»å–ï¼š</p><p>echo â€œ- - -â€œ &gt; /sys/class/scsi_host/host0/scan  </p><p>echo â€œ- - -â€œ &gt; /sys/class/scsi_host/host1/scan</p><p>echo â€œ- - -â€œ &gt; /sys/class/scsi_host/host2/scan</p><p>ls /sys/class/scsi_device/     #ç¡®è®¤æ‰«å‡ºæ¥ç£ç›˜å¤šå°‘ä¸ª</p><p>ls /sys/class/scsi_host/      #å¤šå°‘ä¸ªç›˜éƒ½å›ºå®šåªæœ‰è¿™ä¸‰ä¸ªçš„ </p><p>echo 1 &gt; /sys/class/scsi_device/0:0:0:0/device/rescan</p><p>echo 1 &gt; /sys/class/scsi_device/0:0:2:0/device/rescan</p><p>echo 1 &gt; /sys/class/scsi_device/2:0:0:0/device/rescan</p><p>linuxå¯åŠ¨åå‡ºç°æ¡Œé¢èƒŒæ™¯ä½†æ— ç™»å½•ç•Œé¢è§£å†³åŠæ³•&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;(è¿™ä¸ªæ–¹æ³•ä¸Šæ¬¡å¥½åƒä¹Ÿæ²¡è§£å†³)-æ‰‹åŠ¨å¯åŠ¨æ¡Œé¢</p><p>1.åŒæ—¶æŒ‰ä¸‹Ctrl Alt F2 è¿›å…¥å‘½ä»¤è¡Œç•Œé¢ã€‚ </p><p>2.rootç™»å½•è¿›å»,æ‰§è¡Œinit3         ï¼ˆç™»å½•è¿›å»åä¹Ÿå¯ä»¥å…ˆæ‰§è¡Œ init 5 è¯•è¯•èƒ½ä¸èƒ½è¿›æ¡Œé¢ï¼‰</p><p>3.æ‰§è¡Œstartx å¯åŠ¨ç•Œé¢</p><p>å¦‚æœé‡å¯åè¿˜æ˜¯ä¸€æ ·å°±ä¿®æ”¹ä¸‹é¢çš„è¯•è¯•</p><p>vi /etc/pam.d/gdm</p><p>å°†auth required pam_succeed_if.so user != root quiet è¿™è¡Œæ³¨é‡Šæ‰</p><p>yum&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br>yum clean all           #æ¸…é™¤æœ¬åœ°yumè½¯ä»¶åŒ…<br>yum makecache<br>yum repolist all         #æŸ¥çœ‹ä»“åº“åˆ—è¡¨å’ŒçŠ¶æ€<br>yum search vnc          #æŸ¥æ‰¾æœ‰å…³vncçš„è½¯ä»¶åŒ…<br>yum update  è½¯ä»¶åŒ…       #æ›´æ–°è½¯ä»¶<br>yum -y install xinetd       #å®‰è£…serviceç®¡ç†å‘½ä»¤</p><p>rpmå‘½ä»¤&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p><p>rpm -ql è½¯ä»¶å                   #æŸ¥è¯¢å·²å®‰è£…çš„è½¯ä»¶åŒ…çš„ç›¸å…³æ–‡ä»¶çš„å®‰è£…è·¯å¾„ </p><p>rpm -qs neokylin-lsb                #åˆ—å‡ºåŒ…é‡Œæ–‡ä»¶å¹¶æ˜¾ç¤ºçŠ¶æ€</p><p>rpm -qf  /usr/libexec/clock-applet        #æŸ¥çœ‹å±äºå“ªä¸ªè½¯ä»¶åŒ…</p><p>rpm -pql neokylin-lsb-core-4.1-1.el6.ns6.02.x86_64  #åˆ—å‡ºRPMè½¯ä»¶åŒ…å†…çš„æ–‡ä»¶ä¿¡æ¯</p><p>rpm -pqi redhat-lsb                #åˆ—å‡ºRPMè½¯ä»¶åŒ…çš„æè¿°ä¿¡æ¯</p><p>ln /bin/neokylin_lsb_init /bin/redhat_lsb-init </p><p>rpm -qa|grep neokylin-lsb              #æŸ¥çœ‹lsbå·²å®‰è£…çš„äº”ä¸ªè½¯ä»¶åŒ…</p><p>rpm2cpio redhat-lsb-4.0-7.el6.centos.src.rpm |cpio -idvm #ç”¨äºå°†rpmè½¯ä»¶åŒ…è½¬æ¢ä¸ºcpioæ ¼å¼çš„æ–‡ä»¶åæŸ¥æ‰¾é‡Œé¢çš„è½¯ä»¶åŒ…(æ–¹ä¾¿æŸ¥çœ‹åŒ…é‡Œå†…å®¹)</p><p>rpm -Uvh *.rpm                   #æ›´æ–°è½¯ä»¶åŒ…ï¼Œå‰ææ˜¯ä¾èµ–å…¨éƒ¨éƒ½åœ¨</p><p>rpm -e gnome-panel-2.30.2-16.el6.ns6.01.x86_64 â€“nodeps</p><p>mount&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p><p>mount -o remount,rw /opt       #æ–‡ä»¶ç³»ç»Ÿæ˜¯åªè¯»æ¨¡å¼,åªéœ€å°†è¿™ä¸ªå¤„äºåªè¯»çŠ¶æ€çš„æ–‡ä»¶ç³»ç»Ÿé‡æ–°æŒ‚è½½å³å¯</p><p>mount -a              #å°†/etc/fstabçš„æ‰€æœ‰å†…å®¹é‡æ–°åŠ è½½</p><p>fuser -m directory          #umountä¸äº†çš„æ—¶å€™æŸ¥çœ‹é‚£ä¸ªè¿›ç¨‹åœ¨ä½¿ç”¨çŠ¶æ€çš„ç›®å½•</p><p>mount -t cifs -o username=administrator,password=1 //192.168.24.108/è¿…é›·ä¸‹è½½  /wind #æŒ‚è½½windå…±äº«ç›®å½•</p><p>mount â€“move /mnt/userdirs /home  #æ›´æ¢æŒ‚è½½ç‚¹</p><p>findmnt -t ext4           #åˆ—å‡ºç³»ç»ŸæŒ‚è½½ç‚¹</p><p>mount -t nfs -o vers=3,proto=tcp,rsize=1048576,wsize=1048576,hard,intr,timeo=50 10.241.2.84:/NFS_CloudDisk/CloudDiskShare/ /media   #æŒ‚è½½åä¸ºå­˜å‚¨ï¼Ÿ</p><p>è®¾ç½®åˆ†è¾¨ç‡ï¼š&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>xrandr              #æŸ¥çœ‹å½“å‰åŠæ”¯æŒçš„åˆ†è¾¨ç‡</p><p>gnome-display-properties     #ä¿®æ”¹åˆ†è¾¨ç‡                   </p><p>xrandr -s 1024Ã—768        #è®¾ç½®åˆ†è¾¨ç‡ï¼ŒxrandræŸ¥çœ‹æ”¯æŒçš„åˆ†è¾¨ç‡ï¼Œä¸€æ¬¡æ€§çš„</p><p>xrandr -s 0           #å°†å±å¹•æ¢å¤åˆ°åŸæ¥çš„åˆ†è¾¨ç‡ï¼Œå½“ä½ ä½¿ç”¨äº†ä¸€äº›éœ€è¦æˆ–è€…ä¼šè‡ªåŠ¨æ”¹åŠ¨æ‚¨å±å¹•åˆ†è¾¨ç‡çš„ç¨‹åºä»¥åã€‚</p><p>é‡åˆ°ä¸€äº›æ—§çš„æ˜¾ç¤ºå™¨ï¼Œå…ˆçœ‹æ˜¾å¡æ”¯æŒå“ªäº›åˆ†è¾¨ç‡ï¼Œç„¶åä¿®æ”¹/boot/grub/grub.conf åœ¨quit åæ·»åŠ vga=773 ä¿å­˜ï¼Œå¦‚æœè¿›ä¸äº†æ¡Œé¢å°±</p><p>å…ˆç¼–è¾‘å¼•å¯¼èœå•ä¹Ÿæ˜¯åœ¨quit åæ·»åŠ vga=773è¿›å…¥ç³»ç»Ÿåä¿®æ”¹/boot/grub/grub.conf åœ¨quit åæ·»åŠ vga=773</p><p>å› ä¸ºä½¿ç”¨çš„æ˜¯vncã€xmanagerï¼Œç›´æ¥ç”¨gnome-displayæ— æ³•è°ƒæ•´</p><p>å‡ ä¹æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿéƒ½èƒ½æ”¯æŒä¸ä½¿ç”¨X Windowï¼ŒGNOMEå’ŒKDEä¹Ÿéƒ½æ˜¯ä»¥X Windowä¸ºåŸºç¡€å»ºæ„æˆçš„</p><p>echo $DESKTOP_SESSION      #æŸ¥çœ‹ç¯å¢ƒæ˜¯gnomeæˆ–è€…kde</p><p>ä¿®æ”¹ç³»ç»Ÿç•Œé¢å˜æˆè‹±æ–‡å­—ç¬¦&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><p>vim /etc/sysconfig/i18n</p><p>LANG=â€zh_CN.UTF-8â€         #æ”¹æˆLANG=â€zh_US.UTF-8â€ï¼Œä¿å­˜é€€å‡ºï¼Œé‡å¯ç³»ç»Ÿï¼Œä¸è¿‡å·²ç»æ–°å»ºçš„ç”¨æˆ·ä¸ä¼šæ”¹å˜</p><p>æ›´æ”¹å·²ç»æ–°å»ºçš„ç”¨æˆ·ä¸ºè‹±æ–‡å­—ç¬¦é›†ï¼Œç™»å½•ç”¨æˆ·</p><p>vi ~/.bash_profile</p><p>export LANG=zh_US.utf-8</p><p>æ³¨é”€å†ç™»å½•ç”¨æˆ·</p><p><strong>ä¸€ã€å®‰è£…æ¡Œé¢ç¯å¢ƒ</strong> CentOS6.8-minimalå®‰è£…gnomeæ¡Œé¢</p><p>@1ã€å®‰è£…æ¡Œé¢è½¯ä»¶</p><p>yum groupinstall â€œDesktopâ€</p><p>@2ã€å®‰è£…X-Windowç»„ä»¶</p><p>yum groupinstall â€œX Window Systemâ€</p><p>@3ã€å®‰è£…å­—ä½“</p><p>yum -y install dejavu-sans-* dejavu-serif-fonts</p><p>@4ã€å¼€æœºå¯åŠ¨</p><p>ç¼–è¾‘/etc/inittabæ–‡ä»¶, å°†id:3:initdefaultä¿®æ”¹ä¸º id:5:initdefaulté‡å¯åç”Ÿæ•ˆ</p><h3 id="Linuxæ™®é€šç”¨æˆ·é…ç½®javaç¯å¢ƒå˜é‡"><a href="#Linuxæ™®é€šç”¨æˆ·é…ç½®javaç¯å¢ƒå˜é‡" class="headerlink" title="Linuxæ™®é€šç”¨æˆ·é…ç½®javaç¯å¢ƒå˜é‡"></a>Linuxæ™®é€šç”¨æˆ·é…ç½®javaç¯å¢ƒå˜é‡</h3><p>1ã€ä¸Šä¼ javaåŒ…åˆ°æœåŠ¡å™¨</p><p>2ã€è§£å‹ tar -zxvf jdk-8u131-linux-x64.tar.gz<br>3ã€é…ç½®ç¯å¢ƒå˜é‡</p><p>  3.1ã€vi ~/.bash_profile</p><p>  3.2ã€åœ¨.bash_profileæ–‡ä»¶ä¸­å¡«å…¥å¦‚ä¸‹è¯­å¥ï¼š</p><p>  export PATH<br>  export JAVA_HOME=/home/appadmin/apps/jdk1.8.0_131<br>  export PATH=$JAVA_HOME/bin:$PATH</p><p>  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</p><p> 3.3 ä¿å­˜é€€å‡º</p><p>4ã€ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p><p>source ~/.bash_profile</p><p>5ã€æµ‹è¯• java -version</p><h3 id="nohup-çŸ­è¯­-åå°è¿è¡Œ"><a href="#nohup-çŸ­è¯­-åå°è¿è¡Œ" class="headerlink" title="nohup (çŸ­è¯­:åå°è¿è¡Œ)"></a>nohup (çŸ­è¯­:åå°è¿è¡Œ)</h3><p>   æŸ¥çœ‹è¯¥è¯­æ³•ä½¿ç”¨  nohup â€“help </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@wxapp203 basesoft]# nohup  --help</span><br><span class="line">Usage: nohup COMMAND [ARG]...</span><br><span class="line">  or:  nohup OPTION</span><br><span class="line">Run COMMAND, ignoring hangup signals.</span><br><span class="line"></span><br><span class="line">      --help     display this help and exit</span><br><span class="line">      --version  output version information and exit</span><br><span class="line"></span><br><span class="line">If standard input is a terminal, redirect it from &#x2F;dev&#x2F;null.  &#x2F;&#x2F;æ ‡å‡†è¾“å…¥æµ  é‡å®šå‘åˆ° &#x2F;dev&#x2F;null</span><br><span class="line">If standard output is a terminal, append output to &#96;nohup.out&#39; if possible, &#x2F;&#x2F;å³æ²¡æœ‰æŒ‡å®šè¾“å‡ºæµæ˜¯ï¼Œé»˜è®¤è¿½åŠ åˆ°å½“å‰ç›®å½•ä¸‹çš„nohup.out(æ— éœ€è‡ªå·±åˆ›å»º)æ–‡ä»¶ä¸­ã€‚</span><br><span class="line">&#96;$HOME&#x2F;nohup.out&#39; otherwise.</span><br><span class="line">If standard error is a terminal, redirect it to standard output.  &#x2F;&#x2F;æ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼Œé‡å®šå‘åˆ°è¾“å‡ºæµä¸­ï¼Œå³2&gt;&amp;1To save output to FILE, use &#96;nohup COMMAND &gt; FILE&#39;.      &#x2F;&#x2F;ä¹Ÿå¯ä»¥æŒ‡å®šè¾“å‡ºæµåˆ°æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">NOTE: your shell may have its own version of nohup, which usually supersedes</span><br><span class="line">the version described here.  Please refer to your shell&#39;s documentation</span><br><span class="line">for details about the options it supports.</span><br></pre></td></tr></table></figure><p>æ•…ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨  <strong>nohup java -jar \</strong>*jarFile &gt; /dev/null  &amp;**  æ¥æ›¿ä»£æ ‡å‡†äº”çš„ä½¿ç”¨</p><p> ä¾‹å¦‚  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ nohup java -jar fwh_biz-0.0.1-SNAPSHOT.war &gt; &#x2F;dev&#x2F;null &amp;    &#x2F;&#x2F;ä½¿ç”¨å‘½ä»¤</span><br><span class="line">[2] 10112                                                     &#x2F;&#x2F;è¿”å›è¿›ç¨‹id</span><br><span class="line">nohup: ignoring input and redirecting stderr to stdout        &#x2F;&#x2F;æç¤ºæˆ‘ä»¬ å¿½ç•¥äº†è¾“å…¥æµ å¹¶ä¸”æŠŠæ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼Œé‡å®šå‘åˆ°è¾“å‡ºæµä¸­äº†ï¼Œè€Œæˆ‘ä»¬æŠŠè¾“å‡ºæµé‡å®šå‘åˆ°&#x2F;dev&#x2F;nullä¸­ï¼Œæ•…ä»€ä¹ˆéƒ½ä¸ä¼šè¾“å‡º</span><br><span class="line">[1] Killed nohup java -jar fwh_biz-0.0.1-SNAPSHOT.warå¤‡æ³¨ï¼šè¿™æ ·çœ‹æ¥nohupçš„åŠŸèƒ½å°±æ˜¯åŒ…è£…(ä»æ•ˆæœä¸Šçœ‹å®ƒåŒ…è£…äº†æµçš„èµ°å‘å’Œä¸€ä¸ªæç¤ºåŠŸèƒ½)äº†æˆ‘ä»¬ä¹‹å‰çš„å‘½ä»¤.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sqlä¸ºå•¥ä»€ä¹ˆä¼šæ…¢ï¼Ÿ</title>
      <link href="dc4a5a0392d5.html"/>
      <url>dc4a5a0392d5.html</url>
      
        <content type="html"><![CDATA[<hr><p><strong>SQL è¯­å¥æ‰§è¡Œæ…¢çš„åŸå› æ˜¯é¢è¯•ä¸­ç»å¸¸ä¼šè¢«é—®åˆ°çš„</strong>ï¼Œå¯¹äºæœåŠ¡ç«¯å¼€å‘æ¥è¯´ä¹Ÿæ˜¯å¿…é¡»è¦å…³æ³¨çš„é—®é¢˜ã€‚æ€»è€Œè¨€ä¹‹ï¼Œ<strong>å‡ºäº†é—®é¢˜åº”è¯¥è¦åšåˆ°å¿ƒé‡Œæœ‰æ•°</strong>ã€‚</p><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒSQL æ‰§è¡Œæ…¢æ˜¯å¾ˆä¸¥é‡çš„äº‹ä»¶ã€‚é‚£ä¹ˆå¦‚ä½•å®šä½æ…¢ SQLã€æ…¢çš„åŸå› åŠå¦‚ä½•é˜²æ‚£äºæœªç„¶ã€‚æ¥ä¸‹æ¥å¸¦ç€è¿™äº›é—®é¢˜æ¥å¼€å¯æœ¬ç¯‡ä¹‹æ—…ï¼</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011901.png" alt="å›¾ç‰‡"></p><p><strong>å†™æ“ä½œ</strong></p><p>ä½œä¸ºåç«¯å¼€å‘ï¼Œæ—¥å¸¸æ“ä½œæ•°æ®åº“æœ€å¸¸ç”¨çš„æ˜¯å†™æ“ä½œå’Œè¯»æ“ä½œã€‚è¯»æ“ä½œæˆ‘ä»¬ä¸‹è¾¹ä¼šè®²ï¼Œè¿™ä¸ªåˆ†ç±»é‡Œæˆ‘ä»¬ä¸»è¦æ¥çœ‹çœ‹å†™æ“ä½œæ—¶ä¸ºä»€ä¹ˆä¼šå¯¼è‡´ SQL å˜æ…¢ã€‚</p><p><strong>åˆ·è„é¡µ</strong></p><p>è„é¡µçš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼šå†…å­˜æ•°æ®é¡µå’Œç£ç›˜æ•°æ®é¡µä¸ä¸€è‡´æ—¶ï¼Œé‚£ä¹ˆç§°è¿™ä¸ªå†…å­˜æ•°æ®é¡µä¸ºè„é¡µã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¼šå‡ºç°è„é¡µï¼Œåˆ·è„é¡µåˆæ€ä¹ˆä¼šå¯¼è‡´ SQL å˜æ…¢å‘¢ï¼Ÿé‚£å°±éœ€è¦æˆ‘ä»¬æ¥çœ‹çœ‹å†™æ“ä½œæ—¶çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p><p>å¯¹äºä¸€æ¡å†™æ“ä½œçš„ SQL æ¥è¯´ï¼Œæ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°å†™æ—¥å¿—ï¼Œå†…å­˜åŠåŒæ­¥ç£ç›˜è¿™å‡ ç§æƒ…å†µã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011902.png" alt="å›¾ç‰‡"></p><p>è¿™é‡Œè¦æåˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œé‚£å°±æ˜¯ redo logï¼Œä½äºå­˜å‚¨å¼•æ“å±‚ï¼Œç”¨æ¥å­˜å‚¨ç‰©ç†æ—¥å¿—ã€‚åœ¨å†™æ“ä½œçš„æ—¶å€™ï¼Œå­˜å‚¨å¼•æ“ï¼ˆè¿™é‡Œè®¨è®ºçš„æ˜¯ Innodbï¼‰ä¼šå°†è®°å½•å†™å…¥åˆ° redo log ä¸­ï¼Œå¹¶æ›´æ–°ç¼“å­˜ï¼Œè¿™æ ·æ›´æ–°æ“ä½œå°±ç®—å®Œæˆäº†ã€‚åç»­æ“ä½œå­˜å‚¨å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™æŠŠæ“ä½œè®°å½•åŒæ­¥åˆ°ç£ç›˜é‡Œã€‚</p><p>çœ‹åˆ°è¿™é‡Œä½ å¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼Œredo log ä¸æ˜¯æ—¥å¿—æ–‡ä»¶å—ï¼Œæ—¥å¿—æ–‡ä»¶å°±å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œé‚£å†™çš„æ—¶å€™å²‚ä¸å¾ˆæ…¢å—ï¼Ÿ</p><p>å…¶å®ï¼Œå†™redo log çš„è¿‡ç¨‹æ˜¯é¡ºåºå†™ç£ç›˜çš„ï¼Œç£ç›˜é¡ºåºå†™å‡å°‘äº†å¯»é“ç­‰æ—¶é—´ï¼Œé€Ÿåº¦æ¯”éšæœºå†™è¦å¿«å¾ˆå¤šï¼ˆ ç±»ä¼¼Kafkaå­˜å‚¨åŸç†ï¼‰ï¼Œå› æ­¤å†™ redo log é€Ÿåº¦æ˜¯å¾ˆå¿«çš„ã€‚</p><p>å¥½äº†ï¼Œè®©æˆ‘ä»¬å›åˆ°å¼€å§‹æ—¶å€™çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è„é¡µï¼Œå¹¶ä¸”è„é¡µä¸ºä»€ä¹ˆä¼šä½¿ SQL å˜æ…¢ã€‚ä½ æƒ³æƒ³ï¼Œredo log å¤§å°æ˜¯ä¸€å®šçš„ï¼Œä¸”æ˜¯å¾ªç¯å†™å…¥çš„ã€‚åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œredo log å¾ˆå¿«è¢«å†™æ»¡äº†ï¼Œä½†æ˜¯æ•°æ®æ¥ä¸åŠåŒæ­¥åˆ°ç£ç›˜é‡Œï¼Œè¿™æ—¶å€™å°±ä¼šäº§ç”Ÿè„é¡µï¼Œå¹¶ä¸”è¿˜ä¼šé˜»å¡åç»­çš„å†™å…¥æ“ä½œã€‚SQL æ‰§è¡Œè‡ªç„¶ä¼šå˜æ…¢ã€‚</p><p><strong>é”</strong></p><p>å†™æ“ä½œæ—¶ SQL æ…¢çš„å¦ä¸€ç§æƒ…å†µæ˜¯å¯èƒ½é‡åˆ°äº†é”ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å’Œåˆ«äººåˆç§Ÿäº†ä¸€é—´å±‹å­ï¼Œåªæœ‰ä¸€ä¸ªå«ç”Ÿé—´ï¼Œä½ ä»¬ä¿©åŒæ—¶éƒ½æƒ³å»ï¼Œä½†å¯¹æ–¹æ¯”ä½ æ—©äº†ä¸€ä¸¢ä¸¢ã€‚é‚£ä¹ˆæ­¤æ—¶ä½ åªèƒ½ç­‰å¯¹æ–¹å‡ºæ¥åæ‰èƒ½è¿›å»ã€‚</p><p>å¯¹åº”åˆ° Mysql ä¸­ï¼Œå½“æŸä¸€æ¡ SQL æ‰€è¦æ›´æ”¹çš„è¡Œåˆšå¥½è¢«åŠ äº†é”ï¼Œé‚£ä¹ˆæ­¤æ—¶åªæœ‰ç­‰é”é‡Šæ”¾äº†åæ‰èƒ½è¿›è¡Œåç»­æ“ä½œã€‚</p><p>ä½†æ˜¯è¿˜æœ‰ä¸€ç§æç«¯æƒ…å†µï¼Œä½ çš„å®¤å‹ä¸€ç›´å ç”¨ç€å«ç”Ÿé—´ï¼Œé‚£ä¹ˆæ­¤æ—¶ä½ è¯¥æ€ä¹ˆæ•´ï¼Œæ€»ä¸èƒ½å°¿è£¤å­å§ï¼Œå¤šä¸¢äººã€‚å¯¹åº”åˆ°Mysql é‡Œå°±æ˜¯é‡åˆ°äº†æ­»é”æˆ–æ˜¯é”ç­‰å¾…çš„æƒ…å†µã€‚è¿™æ—¶å€™è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>Mysql ä¸­æä¾›äº†æŸ¥çœ‹å½“å‰é”æƒ…å†µçš„æ–¹å¼ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011903.png" alt="å›¾ç‰‡"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from information_schema.INNODB_TRX</span><br></pre></td></tr></table></figure><p>é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå›¾ä¸­çš„è¯­å¥ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„äº‹åŠ¡æƒ…å†µï¼Œè¿™é‡Œä»‹ç»å‡ ä¸ªæŸ¥è¯¢ç»“æœä¸­é‡è¦çš„å‚æ•°ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011904.png" alt="å›¾ç‰‡"></p><p>å½“å‰äº‹åŠ¡å¦‚æœç­‰å¾…æ—¶é—´è¿‡é•¿æˆ–å‡ºç°æ­»é”çš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡ ã€Œ<strong>kill çº¿ç¨‹ID</strong>ã€ çš„æ–¹å¼é‡Šæ”¾å½“å‰çš„é”ã€‚</p><p>è¿™é‡Œçš„çº¿ç¨‹ ID æŒ‡è¡¨ä¸­ <strong>trx_mysql_thread_id</strong> å‚æ•°ã€‚</p><p><strong>è¯»æ“ä½œ</strong></p><p>è¯´å®Œäº†å†™æ“ä½œï¼Œè¯»æ“ä½œå¤§å®¶å¯èƒ½ç›¸å¯¹æ¥è¯´æ›´ç†Ÿæ‚‰ä¸€äº›ã€‚SQL æ…¢å¯¼è‡´è¯»æ“ä½œå˜æ…¢çš„é—®é¢˜åœ¨å·¥ä½œä¸­æ˜¯ç»å¸¸ä¼šè¢«æ¶‰åŠåˆ°çš„ã€‚</p><p><strong>æ…¢æŸ¥è¯¢</strong></p><p>åœ¨è®²è¯»æ“ä½œå˜æ…¢çš„åŸå› ä¹‹å‰æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ˜¯å¦‚ä½•å®šä½æ…¢ SQL çš„ã€‚Mysql ä¸­æœ‰ä¸€ä¸ªå«ä½œ<strong>æ…¢æŸ¥è¯¢æ—¥å¿—</strong>çš„ä¸œè¥¿ï¼Œå®ƒæ˜¯ç”¨æ¥è®°å½•è¶…è¿‡æŒ‡å®šæ—¶é—´çš„ SQL è¯­å¥çš„ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯å…³é—­çš„ï¼Œé€šè¿‡æ‰‹åŠ¨é…ç½®æ‰èƒ½å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—è¿›è¡Œå®šä½ã€‚</p><p>å…·ä½“çš„é…ç½®æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>æŸ¥çœ‹å½“å‰æ…¢æŸ¥è¯¢æ—¥å¿—çš„å¼€å¯æƒ…å†µï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011905.png" alt="å›¾ç‰‡"></p><ul><li>å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆä¸´æ—¶ï¼‰ï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011906.png" alt="å›¾ç‰‡"></p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011907.png" alt="å›¾ç‰‡"></p><p>æ³¨æ„è¿™é‡Œåªæ˜¯ä¸´æ—¶å¼€å¯äº†æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå¦‚æœ mysql é‡å¯ååˆ™ä¼šå¤±æ•ˆã€‚å¯ä»¥ my.cnf ä¸­è¿›è¡Œé…ç½®ä½¿å…¶æ°¸ä¹…ç”Ÿæ•ˆã€‚</p><p><strong>å­˜åœ¨åŸå› </strong></p><p>çŸ¥é“äº†å¦‚ä½•æŸ¥çœ‹æ‰§è¡Œæ…¢çš„ SQL äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€çœ‹è¯»æ“ä½œæ—¶ä¸ºä»€ä¹ˆä¼šå¯¼è‡´æ…¢æŸ¥è¯¢ï¼Œè¿™é‡Œåˆ—ä¸¤ç‚¹å¸¸è§çš„åŸå› ã€‚</p><p><strong>ï¼ˆ1ï¼‰æœªå‘½ä¸­ç´¢å¼•</strong></p><p>SQL æŸ¥è¯¢æ…¢çš„åŸå› ä¹‹ä¸€æ˜¯å¯èƒ½æœªå‘½ä¸­ç´¢å¼•ï¼Œå…³äºä½¿ç”¨ç´¢å¼•ä¸ºä»€ä¹ˆèƒ½ä½¿æŸ¥è¯¢å˜å¿«ä»¥åŠä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹ï¼Œç½‘ä¸Šå·²ç»å¾ˆå¤šäº†ï¼Œè¿™é‡Œå°±ä¸å¤šèµ˜è¿°äº†ã€‚</p><p><strong>ï¼ˆ2ï¼‰è„é¡µé—®é¢˜</strong></p><p>å¦ä¸€ç§è¿˜æ˜¯æˆ‘ä»¬ä¸Šè¾¹æ‰€æåˆ°çš„åˆ·è„é¡µæƒ…å†µï¼Œåªä¸è¿‡å’Œå†™æ“ä½œä¸åŒçš„æ˜¯ï¼Œæ˜¯åœ¨è¯»æ—¶å€™è¿›è¡Œåˆ·è„é¡µçš„ã€‚</p><p>æ˜¯ä¸æ˜¯æœ‰ç‚¹æ‡µé€¼ï¼Œåˆ«æ€¥ï¼Œå¬æˆ‘å¨“å¨“é“æ¥ï¼š</p><p>ä¸ºäº†é¿å…æ¯æ¬¡åœ¨è¯»å†™æ•°æ®æ—¶è®¿é—®ç£ç›˜å¢åŠ  IO å¼€é”€ï¼ŒInnodb å­˜å‚¨å¼•æ“é€šè¿‡æŠŠç›¸åº”çš„æ•°æ®é¡µå’Œç´¢å¼•é¡µåŠ è½½åˆ°å†…å­˜çš„ç¼“å†²æ± ï¼ˆbuffer poolï¼‰ä¸­æ¥æé«˜è¯»å†™é€Ÿåº¦ã€‚ç„¶åæŒ‰ç…§æ¯”å¦‚æœ€è¿‘æœ€å°‘ä½¿ç”¨åŸåˆ™æ¥ä¿ç•™ç¼“å†²æ± ä¸­çš„ç¼“å­˜æ•°æ®ã€‚</p><p>é‚£ä¹ˆå½“è¦è¯»å…¥çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œå°±éœ€è¦åˆ°ç¼“å†²æ± ä¸­ç”³è¯·ä¸€ä¸ªæ•°æ®é¡µï¼Œä½†ç¼“å†²æ± ä¸­æ•°æ®é¡µæ˜¯ä¸€å®šçš„ï¼Œå½“æ•°æ®é¡µè¾¾åˆ°ä¸Šé™æ—¶æ­¤æ—¶å°±éœ€è¦æŠŠæœ€ä¹…ä¸ä½¿ç”¨çš„æ•°æ®é¡µä»å†…å­˜ä¸­æ·˜æ±°æ‰ã€‚ä½†å¦‚æœæ·˜æ±°çš„æ˜¯è„é¡µå‘¢ï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠè„é¡µåˆ·åˆ°ç£ç›˜é‡Œæ‰èƒ½è¿›è¡Œå¤ç”¨ã€‚</p><p>ä½ çœ‹ï¼Œåˆå›åˆ°äº†åˆ·è„é¡µçš„æƒ…å†µï¼Œè¯»æ“ä½œæ—¶å˜æ…¢ä½ ä¹Ÿèƒ½ç†è§£äº†å§ï¼Ÿ</p><p><strong>é˜²æ‚£äºæœªç„¶</strong></p><p>çŸ¥é“äº†åŸå› ï¼Œæˆ‘ä»¬å¦‚ä½•æ¥é¿å…æˆ–ç¼“è§£è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p>é¦–å…ˆæ¥çœ‹æœªå‘½ä¸­ç´¢å¼•çš„æƒ…å†µï¼š</p><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ä½¿ç”¨ Mysql ä¸­ explain çš„ä¹ æƒ¯ï¼Œåæ­£æˆ‘æ˜¯æ¯æ¬¡éƒ½ä¼šç”¨å®ƒæ¥æŸ¥çœ‹ä¸‹å½“å‰ SQL å‘½ä¸­ç´¢å¼•çš„æƒ…å†µã€‚é¿å…å…¶å¸¦æ¥ä¸€äº›æœªçŸ¥çš„éšæ‚£ã€‚</p><p>è¿™é‡Œç®€å•ä»‹ç»ä¸‹å…¶ä½¿ç”¨æ–¹å¼ï¼Œé€šè¿‡åœ¨æ‰€æ‰§è¡Œçš„ SQL å‰åŠ ä¸Š explain å°±å¯ä»¥æ¥åˆ†æå½“å‰ SQL çš„æ‰§è¡Œè®¡åˆ’ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011908.png" alt="å›¾ç‰‡"></p><p>æ‰§è¡Œåçš„ç»“æœå¯¹åº”çš„å­—æ®µæ¦‚è¦æè¿°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/downey0115/CDN/post/20210119/2020011909.png" alt="å›¾ç‰‡"></p><p>è¿™é‡Œéœ€è¦é‡ç‚¹å…³æ³¨ä»¥ä¸‹å‡ ä¸ªå­—æ®µï¼š</p><p><strong>1ã€type</strong></p><p>è¡¨ç¤º MySQL åœ¨è¡¨ä¸­æ‰¾åˆ°æ‰€éœ€è¡Œçš„æ–¹å¼ã€‚å…¶ä¸­å¸¸ç”¨çš„ç±»å‹æœ‰ï¼šALLã€indexã€rangeã€ refã€eq_refã€constã€systemã€NULL è¿™äº›ç±»å‹ä»å·¦åˆ°å³ï¼Œæ€§èƒ½é€æ¸å˜å¥½ã€‚</p><ul><li>ALLï¼šMysql éå†å…¨è¡¨æ¥æ‰¾åˆ°åŒ¹é…çš„è¡Œï¼›</li></ul><ul><li>indexï¼šä¸ ALL åŒºåˆ«ä¸º index ç±»å‹åªéå†ç´¢å¼•æ ‘ï¼›</li></ul><ul><li>rangeï¼šåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œï¼›</li></ul><ul><li>refï¼šè¡¨ç¤ºä¸Šè¿°è¡¨çš„è¿æ¥åŒ¹é…æ¡ä»¶ï¼Œå“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼ï¼›</li></ul><ul><li>eq_refï¼šç±»ä¼¼refï¼ŒåŒºåˆ«åœ¨äºä½¿ç”¨çš„æ˜¯å¦ä¸ºå”¯ä¸€ç´¢å¼•ã€‚å¯¹äºæ¯ä¸ªç´¢å¼•é”®å€¼ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•åŒ¹é…ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¤šè¡¨è¿æ¥ä¸­ä½¿ç”¨ primary key æˆ–è€… unique keyä½œä¸ºå…³è”æ¡ä»¶ï¼›</li></ul><ul><li>constã€systemï¼šå½“ Mysql å¯¹æŸ¥è¯¢æŸéƒ¨åˆ†è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡æ—¶ï¼Œä½¿ç”¨è¿™äº›ç±»å‹è®¿é—®ã€‚å¦‚å°†ä¸»é”®ç½®äº where åˆ—è¡¨ä¸­ï¼ŒMysql å°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œsystem æ˜¯ constç±»å‹çš„ç‰¹ä¾‹ï¼Œå½“æŸ¥è¯¢çš„è¡¨åªæœ‰ä¸€è¡Œçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨systemï¼›</li></ul><ul><li>NULLï¼šMysql åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­åˆ†è§£è¯­å¥ï¼Œæ‰§è¡Œæ—¶ç”šè‡³ä¸ç”¨è®¿é—®è¡¨æˆ–ç´¢å¼•ï¼Œä¾‹å¦‚ä»ä¸€ä¸ªç´¢å¼•åˆ—é‡Œé€‰å–æœ€å°å€¼å¯ä»¥é€šè¿‡å•ç‹¬ç´¢å¼•æŸ¥æ‰¾å®Œæˆã€‚</li></ul><p><strong>2ã€possible_keys</strong></p><p>æŸ¥è¯¢æ—¶å¯èƒ½ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼ˆä½†ä¸ä¸€å®šä¼šè¢«ä½¿ç”¨ï¼Œæ²¡æœ‰ä»»ä½•ç´¢å¼•æ—¶æ˜¾ç¤ºä¸º NULLï¼‰ã€‚</p><p><strong>3ã€key</strong></p><p>å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ã€‚</p><p><strong>4ã€rows</strong></p><p>ä¼°ç®—æŸ¥æ‰¾åˆ°å¯¹åº”çš„è®°å½•æ‰€éœ€è¦çš„è¡Œæ•°ã€‚</p><p><strong>5ã€Extra</strong></p><p>æ¯”è¾ƒå¸¸è§çš„æ˜¯ä¸‹é¢å‡ ç§ï¼š</p><ul><li>Useing indexï¼šè¡¨æ˜ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œæ— éœ€è¿›è¡Œå›è¡¨ï¼›</li></ul><ul><li>Using whereï¼šä¸ç”¨è¯»å–è¡¨ä¸­æ‰€æœ‰ä¿¡æ¯ï¼Œä»…é€šè¿‡ç´¢å¼•å°±å¯ä»¥è·å–æ‰€éœ€æ•°æ®ï¼Œè¿™å‘ç”Ÿåœ¨å¯¹è¡¨çš„å…¨éƒ¨çš„è¯·æ±‚åˆ—éƒ½æ˜¯åŒä¸€ä¸ªç´¢å¼•çš„éƒ¨åˆ†çš„æ—¶å€™ï¼Œè¡¨ç¤ºmysqlæœåŠ¡å™¨å°†åœ¨å­˜å‚¨å¼•æ“æ£€ç´¢è¡Œåå†è¿›è¡Œè¿‡æ»¤ï¼›</li></ul><ul><li>Using temporaryï¼šè¡¨ç¤ºMySQLéœ€è¦ä½¿ç”¨ä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æœé›†ï¼Œå¸¸è§äºæ’åºå’Œåˆ†ç»„æŸ¥è¯¢ï¼Œå¸¸è§ group byï¼Œorder byï¼›</li></ul><ul><li>Using filesortï¼šå½“Queryä¸­åŒ…å« order by æ“ä½œï¼Œè€Œä¸”æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆçš„æ’åºæ“ä½œç§°ä¸ºâ€œæ–‡ä»¶æ’åºâ€ã€‚</li></ul><p>å¯¹äºåˆ·è„é¡µçš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æ§åˆ¶è„é¡µçš„æ¯”ä¾‹ï¼Œä¸è¦è®©å®ƒç»å¸¸æ¥è¿‘ 75%ã€‚åŒæ—¶è¿˜è¦æ§åˆ¶ redo log çš„å†™ç›˜é€Ÿåº¦ï¼Œå¹¶ä¸”é€šè¿‡è®¾ç½® innodb_io_capacity å‚æ•°å‘Šè¯‰ InnoDB ä½ çš„ç£ç›˜èƒ½åŠ›ã€‚</p><p><strong>å° ç»“</strong></p><p><strong>å†™æ“ä½œ</strong></p><ul><li>å½“ redo log å†™æ»¡æ—¶å°±ä¼šè¿›è¡Œåˆ·è„é¡µï¼Œæ­¤æ—¶å†™æ“ä½œä¹Ÿä¼šç»ˆæ­¢ï¼Œé‚£ä¹ˆ SQL æ‰§è¡Œè‡ªç„¶å°±ä¼šå˜æ…¢ã€‚</li></ul><ul><li>é‡åˆ°æ‰€è¦ä¿®æ”¹çš„æ•°æ®è¡Œæˆ–è¡¨åŠ äº†é”æ—¶ï¼Œéœ€è¦ç­‰å¾…é”é‡Šæ”¾åæ‰èƒ½è¿›è¡Œåç»­æ“ä½œï¼ŒSQL æ‰§è¡Œä¹Ÿä¼šå˜æ…¢ã€‚</li></ul><p><strong>è¯»æ“ä½œ</strong></p><ul><li>è¯»æ“ä½œæ…¢å¾ˆå¸¸è§çš„ä¸€ä¸ªåŸå› æ˜¯æœªå‘½ä¸­ç´¢å¼•ä»è€Œå¯¼è‡´å…¨è¡¨æ‰«æï¼Œå¯ä»¥é€šè¿‡ explain æ–¹å¼å¯¹ SQL è¯­å¥è¿›è¡Œåˆ†æã€‚</li></ul><ul><li>å¦ä¸€ç§åŸå› æ˜¯åœ¨è¯»æ“ä½œæ—¶ï¼Œè¦è¯»å…¥çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œéœ€è¦é€šè¿‡æ·˜æ±°è„é¡µæ‰èƒ½ç”³è¯·æ–°çš„æ•°æ®é¡µä»è€Œå¯¼è‡´æ‰§è¡Œå˜æ…¢ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly å®‰è£æ–‡æª” ä¸»é¡Œé é¢</title>
      <link href="9c273b1e3d41.html"/>
      <url>9c273b1e3d41.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸»é¢˜ç›¸å…³æ•™ç¨‹"><a href="#ä¸»é¢˜ç›¸å…³æ•™ç¨‹" class="headerlink" title="ä¸»é¢˜ç›¸å…³æ•™ç¨‹"></a>ä¸»é¢˜ç›¸å…³æ•™ç¨‹</h2><ul><li><a href="https://butterfly.js.org/posts/7670b080/">é­”æ”¹ç»“åˆ</a>  </li><li><a href="https://butterfly.js.org/posts/21cfbf15/">ä¸»é¢˜åˆå§‹æ•™ç¨‹</a></li></ul><hr><h2 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h2><p>æ˜¯æª”æ¡ˆæœ€ä¸Šæ–¹ä»¥ â€” åˆ†éš”çš„å€åŸŸï¼Œç”¨æ–¼æŒ‡å®šå€‹åˆ¥æª”æ¡ˆçš„è®Šæ•¸ã€‚</p><div class="note info simple"><p>å¦‚æœæ¨™æ³¨å¯é¸çš„åƒæ•¸ï¼Œå¯æ ¹æ“šè‡ªå·±éœ€è¦æ·»åŠ ï¼Œä¸ç”¨å…¨éƒ¨éƒ½å¯«åœ¨markdownè£</p></div><ul><li>Page Front-matter</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>å¯«æ³•</th><th>è§£é‡‹</th></tr></thead><tbody><tr><td>title</td><td>ã€å¿…éœ€ã€‘é é¢æ¨™é¡Œ</td></tr><tr><td>date</td><td>ã€å¿…éœ€ã€‘é é¢å‰µå»ºæ—¥æœŸ</td></tr><tr><td>type</td><td>ã€å¿…éœ€ã€‘æ¨™ç±¤ã€åˆ†é¡å’Œå‹æƒ…éˆæ¥ä¸‰å€‹é é¢éœ€è¦é…ç½®</td></tr><tr><td>updated</td><td>ã€å¯é¸ã€‘é é¢æ›´æ–°æ—¥æœŸ</td></tr><tr><td>description</td><td>ã€å¯é¸ã€‘é é¢æè¿°</td></tr><tr><td>keywords</td><td>ã€å¯é¸ã€‘é é¢é—œéµå­—</td></tr><tr><td>comments</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºé é¢è©•è«–æ¨¡å¡Š(é»˜èª true)</td></tr><tr><td>top_img</td><td>ã€å¯é¸ã€‘é é¢é ‚éƒ¨åœ–ç‰‡</td></tr><tr><td>mathjax</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºmathjax(ç•¶è¨­ç½®mathjaxçš„per_page: falseæ™‚ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜èª false)</td></tr><tr><td>katex</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºkatex(ç•¶è¨­ç½®katexçš„per_page: falseæ™‚ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜èª false)</td></tr><tr><td>aside</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºå´é‚Šæ¬„ (é»˜èª true)</td></tr><tr><td>aplayer</td><td>ã€å¯é¸ã€‘åœ¨éœ€è¦çš„é é¢åŠ è¼‰aplayerçš„jså’Œcss,è«‹åƒè€ƒæ–‡ç« ä¸‹é¢çš„éŸ³æ¨‚ é…ç½®</td></tr><tr><td>highlight_shrink</td><td>ã€å¯é¸ã€‘é…ç½®ä»£ç¢¼æ¡†æ˜¯å¦å±•é–‹(true/false)(é»˜èªç‚ºè¨­ç½®ä¸­highlight_shrinkçš„é…ç½®)</td></tr></tbody></table><h2 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">aside:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>å¯«æ³•</th><th>è§£é‡‹</th></tr></thead><tbody><tr><td>title</td><td>ã€å¿…éœ€ã€‘æ–‡ç« æ¨™é¡Œ</td></tr><tr><td>date</td><td>ã€å¿…éœ€ã€‘æ–‡ç« å‰µå»ºæ—¥æœŸ</td></tr><tr><td>updated</td><td>ã€å¯é¸ã€‘æ–‡ç« æ›´æ–°æ—¥æœŸ</td></tr><tr><td>tags</td><td>ã€å¯é¸ã€‘æ–‡ç« æ¨™ç±¤</td></tr><tr><td>categories</td><td>ã€å¯é¸ã€‘æ–‡ç« åˆ†é¡</td></tr><tr><td>keywords</td><td>ã€å¯é¸ã€‘æ–‡ç« é—œéµå­—</td></tr><tr><td>description</td><td>ã€å¯é¸ã€‘æ–‡ç« æè¿°</td></tr><tr><td>top_img</td><td>ã€å¯é¸ã€‘æ–‡ç« é ‚éƒ¨åœ–ç‰‡</td></tr><tr><td>cover</td><td>ã€å¯é¸ã€‘æ–‡ç« ç¸®ç•¥åœ–(å¦‚æœæ²’æœ‰è¨­ç½®top_img,æ–‡ç« é é ‚éƒ¨å°‡é¡¯ç¤ºç¸®ç•¥åœ–ï¼Œå¯è¨­ç‚ºfalse/åœ–ç‰‡åœ°å€/ç•™ç©º)</td></tr><tr><td>comments</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºæ–‡ç« è©•è«–æ¨¡å¡Š(é»˜èª  true)</td></tr><tr><td>toc</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºæ–‡ç« TOC(é»˜èªç‚ºè¨­ç½®ä¸­tocçš„enableé…ç½®)</td></tr><tr><td>toc_number</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºtoc_number(é»˜èªç‚ºè¨­ç½®ä¸­tocçš„numberé…ç½®)</td></tr><tr><td>copyright</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºæ–‡ç« ç‰ˆæ¬Šæ¨¡å¡Š(é»˜èªç‚ºè¨­ç½®ä¸­post_copyrightçš„enableé…ç½®)</td></tr><tr><td>copyright_author</td><td>ã€å¯é¸ã€‘æ–‡ç« ç‰ˆæ¬Šæ¨¡å¡Šçš„æ–‡ç« ä½œè€…</td></tr><tr><td>copyright_author_href</td><td>ã€å¯é¸ã€‘æ–‡ç« ç‰ˆæ¬Šæ¨¡å¡Šçš„æ–‡ç« ä½œè€…éˆæ¥</td></tr><tr><td>copyright_url</td><td>ã€å¯é¸ã€‘æ–‡ç« ç‰ˆæ¬Šæ¨¡å¡Šçš„æ–‡ç« é€£çµéˆæ¥</td></tr><tr><td>copyright_info</td><td>ã€å¯é¸ã€‘æ–‡ç« ç‰ˆæ¬Šæ¨¡å¡Šçš„ç‰ˆæ¬Šè²æ˜æ–‡å­—</td></tr><tr><td>mathjax</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºmathjax(ç•¶è¨­ç½®mathjaxçš„per_page: falseæ™‚ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜èª false)</td></tr><tr><td>katex</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºkatex(ç•¶è¨­ç½®katexçš„per_page: falseæ™‚ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜èª false)</td></tr><tr><td>aplayer</td><td>ã€å¯é¸ã€‘åœ¨éœ€è¦çš„é é¢åŠ è¼‰aplayerçš„jså’Œcss,è«‹åƒè€ƒæ–‡ç« ä¸‹é¢çš„éŸ³æ¨‚ é…ç½®</td></tr><tr><td>highlight_shrink</td><td>ã€å¯é¸ã€‘é…ç½®ä»£ç¢¼æ¡†æ˜¯å¦å±•é–‹(true/false)(é»˜èªç‚ºè¨­ç½®ä¸­highlight_shrinkçš„é…ç½®)</td></tr><tr><td>aside</td><td>ã€å¯é¸ã€‘é¡¯ç¤ºå´é‚Šæ¬„ (é»˜èª  true)</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
